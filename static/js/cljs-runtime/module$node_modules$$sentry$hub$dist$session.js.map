{
"version":3,
"file":"module$node_modules$$sentry$hub$dist$session.js",
"lineCount":5,
"mappings":"AAAAA,cAAA,CAAA,4CAAA,CAAiE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CACzGC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAAEG,MAAO,CAAA,CAAT,CAA7C,CACA,KAAIC,QAAUN,OAAA,CAAQ,8CAAR,CAIVO,OAAAA,CAAyB,QAAS,EAAG,CACrCA,QAASA,QAAO,CAACC,OAAD,CAAU,CACtB,IAAKC,CAAAA,MAAL,CAAc,CACd,KAAKC,CAAAA,GAAL,CAAWJ,OAAQK,CAAAA,KAAR,EACX,KAAKC,CAAAA,QAAL,CAAgB,CAChB,KAAKC,CAAAA,MAAL,CAAc,IACd,KAAKC,CAAAA,IAAL,CAAY,CAAA,CACZ,KAAKC,CAAAA,cAAL,CAAsB,CAAA,CAEtB,KAAIC,aAAeV,OAAQW,CAAAA,kBAAR,EAEnB,KAAKC,CAAAA,OAAL,CADA,IAAKC,CAAAA,SACL,CADiBH,YAEbR,QAAJ,EACI,IAAKY,CAAAA,MAAL,CAAYZ,OAAZ,CAZkB,CAiB1BD,OAAQc,CAAAA,SAAUD,CAAAA,MAAlB;AAA2BE,QAAS,CAACd,OAAD,CAAU,CAC1B,IAAK,EAArB,GAAIA,OAAJ,GAA0BA,OAA1B,CAAoC,EAApC,CACIA,QAAQe,CAAAA,IAAZ,GACQ,CAAC,IAAKC,CAAAA,SAGV,EAHuBhB,OAAQe,CAAAA,IAAKE,CAAAA,UAGpC,GAFI,IAAKD,CAAAA,SAET,CAFqBhB,OAAQe,CAAAA,IAAKE,CAAAA,UAElC,EAAK,IAAKC,CAAAA,GAAV,EAAkBlB,OAAQkB,CAAAA,GAA1B,GACI,IAAKA,CAAAA,GADT,CACelB,OAAQe,CAAAA,IAAKI,CAAAA,EAD5B,EACkCnB,OAAQe,CAAAA,IAAKK,CAAAA,KAD/C,EACwDpB,OAAQe,CAAAA,IAAKM,CAAAA,QADrE,CAJJ,CAQA,KAAKV,CAAAA,SAAL,CAAiBX,OAAQW,CAAAA,SAAzB,EAAsCb,OAAQW,CAAAA,kBAAR,EAClCT,QAAQO,CAAAA,cAAZ,GACI,IAAKA,CAAAA,cADT,CAC0BP,OAAQO,CAAAA,cADlC,CAGIP,QAAQE,CAAAA,GAAZ,GAEI,IAAKA,CAAAA,GAFT,CAEsC,EAAvB,GAAAF,OAAQE,CAAAA,GAAIoB,CAAAA,MAAZ,CAA4BtB,OAAQE,CAAAA,GAApC,CAA0CJ,OAAQK,CAAAA,KAAR,EAFzD,CAIqBoB,KAAAA,EAArB,GAAIvB,OAAQM,CAAAA,IAAZ,GACI,IAAKA,CAAAA,IADT,CACgBN,OAAQM,CAAAA,IADxB,CAGI,EAAC,IAAKY,CAAAA,GAAV;AAAiBlB,OAAQkB,CAAAA,GAAzB,GACI,IAAKA,CAAAA,GADT,CACe,EADf,CACoBlB,OAAQkB,CAAAA,GAD5B,CAG+B,SAA/B,GAAI,MAAOlB,QAAQU,CAAAA,OAAnB,GACI,IAAKA,CAAAA,OADT,CACmBV,OAAQU,CAAAA,OAD3B,CAGA,IAAI,IAAKH,CAAAA,cAAT,CACI,IAAKH,CAAAA,QAAL,CAAgBmB,IAAAA,EADpB,KAGK,IAAgC,QAAhC,GAAI,MAAOvB,QAAQI,CAAAA,QAAnB,CACD,IAAKA,CAAAA,QAAL,CAAgBJ,OAAQI,CAAAA,QADvB,KAGA,CACD,IAAIA,SAAW,IAAKO,CAAAA,SAAhBP,CAA4B,IAAKM,CAAAA,OACrC,KAAKN,CAAAA,QAAL,CAA4B,CAAZ,EAAAA,QAAA,CAAgBA,QAAhB,CAA2B,CAF1C,CAIDJ,OAAQwB,CAAAA,OAAZ,GACI,IAAKA,CAAAA,OADT,CACmBxB,OAAQwB,CAAAA,OAD3B,CAGIxB,QAAQyB,CAAAA,WAAZ,GACI,IAAKA,CAAAA,WADT,CACuBzB,OAAQyB,CAAAA,WAD/B,CAGI,EAAC,IAAKT,CAAAA,SAAV,EAAuBhB,OAAQgB,CAAAA,SAA/B,GACI,IAAKA,CAAAA,SADT,CACqBhB,OAAQgB,CAAAA,SAD7B,CAGI,EAAC,IAAKU,CAAAA,SAAV;AAAuB1B,OAAQ0B,CAAAA,SAA/B,GACI,IAAKA,CAAAA,SADT,CACqB1B,OAAQ0B,CAAAA,SAD7B,CAG8B,SAA9B,GAAI,MAAO1B,QAAQC,CAAAA,MAAnB,GACI,IAAKA,CAAAA,MADT,CACkBD,OAAQC,CAAAA,MAD1B,CAGID,QAAQK,CAAAA,MAAZ,GACI,IAAKA,CAAAA,MADT,CACkBL,OAAQK,CAAAA,MAD1B,CApD0C,CAyD9CN,QAAQc,CAAAA,SAAUc,CAAAA,KAAlB,CAA0BC,QAAS,CAACvB,MAAD,CAAS,CACpCA,MAAJ,CACI,IAAKO,CAAAA,MAAL,CAAY,CAAUP,MAAV,CAAZ,CADJ,CAGyB,IAApB,GAAI,IAAKA,CAAAA,MAAT,CACD,IAAKO,CAAAA,MAAL,CAAY,CAAEP,OAAQ,QAAV,CAAZ,CADC,CAID,IAAKO,CAAAA,MAAL,EARoC,CAY5Cb,QAAQc,CAAAA,SAAUgB,CAAAA,MAAlB,CAA2BC,QAAS,EAAG,CACnC,MAAOhC,QAAQiC,CAAAA,iBAAR,CAA0B,CAC7B7B,IAAK,EAALA,CAAU,IAAKA,CAAAA,GADc,CAE7BI,KAAM,IAAKA,CAAAA,IAFkB,CAI7BI,QAAuCsB,CAA9B,IAAIC,IAAJ,CAAwB,GAAxB,CAAS,IAAKvB,CAAAA,OAAd,CAA8BsB,EAAAA,WAA9B,EAJoB,CAK7BrB,UAA2CqB,CAAhC,IAAIC,IAAJ,CAA0B,GAA1B,CAAS,IAAKtB,CAAAA,SAAd,CAAgCqB,EAAAA,WAAhC,EALkB;AAM7B3B,OAAQ,IAAKA,CAAAA,MANgB,CAO7BJ,OAAQ,IAAKA,CAAAA,MAPgB,CAQ7BiB,IAAyB,QAApB,GAAA,MAAO,KAAKA,CAAAA,GAAZ,EAAoD,QAApD,GAAgC,MAAO,KAAKA,CAAAA,GAA5C,CAA+D,EAA/D,CAAoE,IAAKA,CAAAA,GAAzE,CAA+EK,IAAAA,EARvD,CAS7BnB,SAAU,IAAKA,CAAAA,QATc,CAU7B8B,MAAO,CACHV,QAAS,IAAKA,CAAAA,OADX,CAEHC,YAAa,IAAKA,CAAAA,WAFf,CAGHR,WAAY,IAAKD,CAAAA,SAHd,CAIHmB,WAAY,IAAKT,CAAAA,SAJd,CAVsB,CAA1B,CAD4B,CAmBvC,OAAO3B,QA1G8B,CAAZ,EA4G7BL,QAAQK,CAAAA,OAAR,CAAkBA,MAlHuF;",
"sources":["node_modules/@sentry/hub/dist/session.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$hub$dist$session\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"@sentry/utils\");\n/**\n * @inheritdoc\n */\nvar Session = /** @class */ (function () {\n    function Session(context) {\n        this.errors = 0;\n        this.sid = utils_1.uuid4();\n        this.duration = 0;\n        this.status = 'ok';\n        this.init = true;\n        this.ignoreDuration = false;\n        // Both timestamp and started are in seconds since the UNIX epoch.\n        var startingTime = utils_1.timestampInSeconds();\n        this.timestamp = startingTime;\n        this.started = startingTime;\n        if (context) {\n            this.update(context);\n        }\n    }\n    /** JSDoc */\n    // eslint-disable-next-line complexity\n    Session.prototype.update = function (context) {\n        if (context === void 0) { context = {}; }\n        if (context.user) {\n            if (!this.ipAddress && context.user.ip_address) {\n                this.ipAddress = context.user.ip_address;\n            }\n            if (!this.did && !context.did) {\n                this.did = context.user.id || context.user.email || context.user.username;\n            }\n        }\n        this.timestamp = context.timestamp || utils_1.timestampInSeconds();\n        if (context.ignoreDuration) {\n            this.ignoreDuration = context.ignoreDuration;\n        }\n        if (context.sid) {\n            // Good enough uuid validation. \u2014 Kamil\n            this.sid = context.sid.length === 32 ? context.sid : utils_1.uuid4();\n        }\n        if (context.init !== undefined) {\n            this.init = context.init;\n        }\n        if (!this.did && context.did) {\n            this.did = \"\" + context.did;\n        }\n        if (typeof context.started === 'number') {\n            this.started = context.started;\n        }\n        if (this.ignoreDuration) {\n            this.duration = undefined;\n        }\n        else if (typeof context.duration === 'number') {\n            this.duration = context.duration;\n        }\n        else {\n            var duration = this.timestamp - this.started;\n            this.duration = duration >= 0 ? duration : 0;\n        }\n        if (context.release) {\n            this.release = context.release;\n        }\n        if (context.environment) {\n            this.environment = context.environment;\n        }\n        if (!this.ipAddress && context.ipAddress) {\n            this.ipAddress = context.ipAddress;\n        }\n        if (!this.userAgent && context.userAgent) {\n            this.userAgent = context.userAgent;\n        }\n        if (typeof context.errors === 'number') {\n            this.errors = context.errors;\n        }\n        if (context.status) {\n            this.status = context.status;\n        }\n    };\n    /** JSDoc */\n    Session.prototype.close = function (status) {\n        if (status) {\n            this.update({ status: status });\n        }\n        else if (this.status === 'ok') {\n            this.update({ status: 'exited' });\n        }\n        else {\n            this.update();\n        }\n    };\n    /** JSDoc */\n    Session.prototype.toJSON = function () {\n        return utils_1.dropUndefinedKeys({\n            sid: \"\" + this.sid,\n            init: this.init,\n            // Make sure that sec is converted to ms for date constructor\n            started: new Date(this.started * 1000).toISOString(),\n            timestamp: new Date(this.timestamp * 1000).toISOString(),\n            status: this.status,\n            errors: this.errors,\n            did: typeof this.did === 'number' || typeof this.did === 'string' ? \"\" + this.did : undefined,\n            duration: this.duration,\n            attrs: {\n                release: this.release,\n                environment: this.environment,\n                ip_address: this.ipAddress,\n                user_agent: this.userAgent,\n            },\n        });\n    };\n    return Session;\n}());\nexports.Session = Session;\n//# sourceMappingURL=session.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","utils_1","Session","context","errors","sid","uuid4","duration","status","init","ignoreDuration","startingTime","timestampInSeconds","started","timestamp","update","prototype","Session.prototype.update","user","ipAddress","ip_address","did","id","email","username","length","undefined","release","environment","userAgent","close","Session.prototype.close","toJSON","Session.prototype.toJSON","dropUndefinedKeys","toISOString","Date","attrs","user_agent"]
}
