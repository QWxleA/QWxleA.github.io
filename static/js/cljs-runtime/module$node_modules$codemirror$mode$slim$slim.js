shadow$provide.module$node_modules$codemirror$mode$slim$slim=function(global,require,module,exports){(function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("module$node_modules$codemirror$lib$codemirror"),require("module$node_modules$codemirror$mode$htmlmixed$htmlmixed"),require("module$node_modules$codemirror$mode$ruby$ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],mod):mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("slim",
function(config){function backup(pos,tokenize,style){var restore=function(stream,state){state.tokenize=tokenize;return stream.pos<pos?(stream.pos=pos,style):state.tokenize(stream,state)};return function(stream,state){state.tokenize=restore;return tokenize(stream,state)}}function continueLine(state,column){state.stack={parent:state.stack,style:"continuation",indented:column,tokenize:state.line};state.line=state.tokenize}function finishContinue(state){state.line==state.tokenize&&(state.line=state.stack.tokenize,
state.stack=state.stack.parent)}function lineContinuable(column,tokenize){return function(stream,state){finishContinue(state);if(stream.match(/^\\$/))return continueLine(state,column),"lineContinuation";state=tokenize(stream,state);stream.eol()&&stream.current().match(/(?:^|[^\\])(?:\\\\)*\\$/)&&stream.backUp(1);return state}}function commaContinuable(column,tokenize){return function(stream,state){finishContinue(state);var style=tokenize(stream,state);stream.eol()&&stream.current().match(/,$/)&&continueLine(state,
column);return style}}function rubyInQuote(endQuote,tokenize){return function(stream,state){return stream.peek()==endQuote&&1==state.rubyState.tokenize.length?(stream.next(),state.tokenize=tokenize,"closeAttributeTag"):ruby(stream,state)}}function startRubySplat(tokenize){var rubyState,runSplat=function(stream,state){if(1==state.rubyState.tokenize.length&&!state.rubyState.context.prev){stream.backUp(1);if(stream.eatSpace())return state.rubyState=rubyState,state.tokenize=tokenize,tokenize(stream,state);
stream.next()}return ruby(stream,state)};return function(stream,state){rubyState=state.rubyState;state.rubyState=CodeMirror.startState(rubyMode);state.tokenize=runSplat;return ruby(stream,state)}}function ruby(stream,state){return rubyMode.token(stream,state.rubyState)}function html(stream,state){if(stream.match(/^#\{/))return state.tokenize=rubyInQuote("}",state.tokenize),null;var style=htmlMode.token(stream,state.htmlState),cur=stream.current(),idx=cur.search(/[^\\]#\{/);-1<idx&&(state.tokenize=
backup(stream.pos,state.tokenize,style),stream.backUp(cur.length-idx-1));return style}function startHtmlLine(lastTokenize){return function(stream,state){var style=stream.match(/^\\$/)?"lineContinuation":html(stream,state);stream.eol()&&(state.tokenize=lastTokenize);return style}}function startHtmlMode(stream,state,offset){state.stack={parent:state.stack,style:"html",indented:stream.column()+offset,tokenize:state.line};state.line=state.tokenize=html;return null}function comment(stream,state){stream.skipToEnd();
return state.stack.style}function attributeWrapper(stream,state){if(stream.eat(state.stack.endQuote))return state.line=state.stack.line,state.tokenize=state.stack.tokenize,state.stack=state.stack.parent,null;if(stream.match(wrappedAttributeNameRegexp))return state.tokenize=attributeWrapperAssign,"slimAttribute";stream.next();return null}function attributeWrapperAssign(stream,state){return stream.match(/^==?/)?(state.tokenize=attributeWrapperValue,null):attributeWrapper(stream,state)}function attributeWrapperValue(stream,
state){var ch=stream.peek();return'"'==ch||"'"==ch?(state.tokenize=readQuoted(ch,"string",!0,!1,attributeWrapper),stream.next(),state.tokenize(stream,state)):"["==ch?startRubySplat(attributeWrapper)(stream,state):stream.match(/^(true|false|nil)\b/)?(state.tokenize=attributeWrapper,"keyword"):startRubySplat(attributeWrapper)(stream,state)}function sub(stream,state){if(stream.match(/^#\{/))return state.tokenize=rubyInQuote("}",state.tokenize),null;var subStream=new CodeMirror.StringStream(stream.string.slice(state.stack.indented),
stream.tabSize);subStream.pos=stream.pos-state.stack.indented;subStream.start=stream.start-state.stack.indented;subStream.lastColumnPos=stream.lastColumnPos-state.stack.indented;subStream.lastColumnValue=stream.lastColumnValue-state.stack.indented;var style=state.subMode.token(subStream,state.subState);stream.pos=subStream.pos+state.stack.indented;return style}function firstSub(stream,state){state.stack.indented=stream.column();state.line=state.tokenize=sub;return state.tokenize(stream,state)}function doctypeLine(stream,
_state){stream.skipToEnd();return"slimDoctype"}function startLine(stream,state){if("\x3c"==stream.peek())return(state.tokenize=startHtmlLine(state.tokenize))(stream,state);if(stream.match(/^[|']/))return startHtmlMode(stream,state,1);if(stream.match(/^\/(!|\[\w+])?/))return state.stack={parent:state.stack,style:"comment",indented:state.indented+1,tokenize:state.line},state.line=comment,comment(stream,state);if(stream.match(/^(-|==?[<>]?)/))return state.tokenize=lineContinuable(stream.column(),commaContinuable(stream.column(),
ruby)),"slimSwitch";if(stream.match(/^doctype\b/))return state.tokenize=doctypeLine,"keyword";var m=stream.match(embeddedRegexp);if(m){stream=m[1];if(modes.hasOwnProperty(stream))stream=modes[stream];else{m=embedded[stream];var spec=CodeMirror.mimeModes[m];m=spec?CodeMirror.getMode(config,spec):(spec=CodeMirror.modes[m])?spec(config,{name:m}):CodeMirror.getMode(config,"null");stream=modes[stream]=m}m=CodeMirror.startState(stream);state.subMode=stream;state.subState=m;state.stack={parent:state.stack,
style:"sub",indented:state.indented+1,tokenize:state.line};state.line=state.tokenize=firstSub;return"slimSubmode"}return slimTag(stream,state)}function slim(stream,state){return state.startOfLine?startLine(stream,state):slimTag(stream,state)}function slimTag(stream,state){return stream.eat("*")?(state.tokenize=startRubySplat(slimTagExtras),null):stream.match(nameRegexp)?(state.tokenize=slimTagExtras,"slimTag"):slimClass(stream,state)}function slimTagExtras(stream,state){return stream.match(/^(<>?|><?)/)?
(state.tokenize=slimClass,null):slimClass(stream,state)}function slimClass(stream,state){return stream.match(classIdRegexp)?(state.tokenize=slimClass,"slimId"):stream.match(classNameRegexp)?(state.tokenize=slimClass,"slimClass"):slimAttribute(stream,state)}function slimAttribute(stream,state){return stream.match(/^([\[\{\(])/)?(state.stack={parent:state.stack,style:"wrapper",indented:state.indented+1,tokenize:slimAttribute,line:state.line,endQuote:closing[RegExp.$1]},state.line=state.tokenize=attributeWrapper,
null):stream.match(attributeNameRegexp)?(state.tokenize=slimAttributeAssign,"slimAttribute"):"*"==stream.peek()?(stream.next(),state.tokenize=startRubySplat(slimContent),null):slimContent(stream,state)}function slimAttributeAssign(stream,state){return stream.match(/^==?/)?(state.tokenize=slimAttributeValue,null):slimAttribute(stream,state)}function slimAttributeValue(stream,state){var ch=stream.peek();return'"'==ch||"'"==ch?(state.tokenize=readQuoted(ch,"string",!0,!1,slimAttribute),stream.next(),
state.tokenize(stream,state)):"["==ch?startRubySplat(slimAttribute)(stream,state):":"==ch?startRubySplat(slimAttributeSymbols)(stream,state):stream.match(/^(true|false|nil)\b/)?(state.tokenize=slimAttribute,"keyword"):startRubySplat(slimAttribute)(stream,state)}function slimAttributeSymbols(stream,state){stream.backUp(1);if(stream.match(/^[^\s],(?=:)/))return state.tokenize=startRubySplat(slimAttributeSymbols),null;stream.next();return slimAttribute(stream,state)}function readQuoted(quote,style,embed,
unescaped,nextTokenize){return function(stream,state){finishContinue(state);var fresh=0==stream.current().length;if(stream.match(/^\\$/,fresh)){if(!fresh)return style;continueLine(state,state.indented);return"lineContinuation"}if(stream.match(/^#\{/,fresh)){if(!fresh)return style;state.tokenize=rubyInQuote("}",state.tokenize);return null}fresh=!1;for(var ch;null!=(ch=stream.next());){if(ch==quote&&(unescaped||!fresh)){state.tokenize=nextTokenize;break}if(embed&&"#"==ch&&!fresh&&stream.eat("{")){stream.backUp(2);
break}fresh=!fresh&&"\\"==ch}stream.eol()&&fresh&&stream.backUp(1);return style}}function slimContent(stream,state){if(stream.match(/^==?/))return state.tokenize=ruby,"slimSwitch";if(stream.match(/^\/$/))return state.tokenize=slim,null;if(stream.match(/^:/))return state.tokenize=slimTag,"slimSwitch";startHtmlMode(stream,state,0);return state.tokenize(stream,state)}var htmlMode=CodeMirror.getMode(config,{name:"htmlmixed"}),rubyMode=CodeMirror.getMode(config,"ruby"),modes={html:htmlMode,ruby:rubyMode},
embedded={ruby:"ruby",javascript:"javascript",css:"text/css",sass:"text/x-sass",scss:"text/x-scss",less:"text/x-less",styl:"text/x-styl",coffee:"coffeescript",asciidoc:"text/x-asciidoc",markdown:"text/x-markdown",textile:"text/x-textile",creole:"text/x-creole",wiki:"text/x-wiki",mediawiki:"text/x-mediawiki",rdoc:"text/x-rdoc",builder:"text/x-builder",nokogiri:"text/x-nokogiri",erb:"application/x-erb"},embeddedRegexp=function(map){var arr=[],key;for(key in map)arr.push(key);return new RegExp("^("+
arr.join("|")+"):")}(embedded),styleMap={commentLine:"comment",slimSwitch:"operator special",slimTag:"tag",slimId:"attribute def",slimClass:"attribute qualifier",slimAttribute:"attribute",slimSubmode:"keyword special",closeAttributeTag:null,slimDoctype:null,lineContinuation:null},closing={"{":"}","[":"]","(":")"},nameRegexp=RegExp("^[:_a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�](?::[_a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�\\-0-9·̀-ͯ‿-⁀]|[_a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�\\-0-9·̀-ͯ‿-⁀]*)"),attributeNameRegexp=
RegExp("^[:_a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�][:\\._a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�\\-0-9·̀-ͯ‿-⁀]*(?\x3d\\s*\x3d)"),wrappedAttributeNameRegexp=RegExp("^[:_a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�][:\\._a-zA-ZÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�\\-0-9·̀-ͯ‿-⁀]*"),classNameRegexp=/^\.-?[_a-zA-Z]+[\w\-]*/,classIdRegexp=/^#[_a-zA-Z]+[\w\-]*/,mode={startState:function(){var htmlState=CodeMirror.startState(htmlMode),rubyState=CodeMirror.startState(rubyMode);return{htmlState,rubyState,stack:null,
last:null,tokenize:slim,line:slim,indented:0}},copyState:function(state){return{htmlState:CodeMirror.copyState(htmlMode,state.htmlState),rubyState:CodeMirror.copyState(rubyMode,state.rubyState),subMode:state.subMode,subState:state.subMode&&CodeMirror.copyState(state.subMode,state.subState),stack:state.stack,last:state.last,tokenize:state.tokenize,line:state.line}},token:function(stream,state){if(stream.sol())for(state.indented=stream.indentation(),state.startOfLine=!0,state.tokenize=state.line;state.stack&&
state.stack.indented>state.indented&&"slimSubmode"!=state.last;)state.line=state.tokenize=state.stack.tokenize,state.stack=state.stack.parent,state.subMode=null,state.subState=null;if(stream.eatSpace())return null;stream=state.tokenize(stream,state);state.startOfLine=!1;stream&&(state.last=stream);return styleMap.hasOwnProperty(stream)?styleMap[stream]:stream},blankLine:function(state){if(state.subMode&&state.subMode.blankLine)return state.subMode.blankLine(state.subState)},innerMode:function(state){return state.subMode?
{state:state.subState,mode:state.subMode}:{state,mode}}};return mode},"htmlmixed","ruby");CodeMirror.defineMIME("text/x-slim","slim");CodeMirror.defineMIME("application/x-slim","slim")})}
//# sourceMappingURL=module$node_modules$codemirror$mode$slim$slim.js.map
