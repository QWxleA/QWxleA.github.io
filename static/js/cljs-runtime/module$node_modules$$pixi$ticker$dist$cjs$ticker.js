shadow$provide.module$node_modules$$pixi$ticker$dist$cjs$ticker=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var settings=require("module$node_modules$$pixi$settings$dist$cjs$settings");settings.settings.TARGET_FPMS=.06;(function(UPDATE_PRIORITY){UPDATE_PRIORITY[UPDATE_PRIORITY.INTERACTION=50]="INTERACTION";UPDATE_PRIORITY[UPDATE_PRIORITY.HIGH=25]="HIGH";UPDATE_PRIORITY[UPDATE_PRIORITY.NORMAL=0]="NORMAL";UPDATE_PRIORITY[UPDATE_PRIORITY.LOW=-25]="LOW";
UPDATE_PRIORITY[UPDATE_PRIORITY.UTILITY=-50]="UTILITY"})(exports.UPDATE_PRIORITY||(exports.UPDATE_PRIORITY={}));var TickerListener=function(){function TickerListener(fn,context,priority,once){void 0===context&&(context=null);void 0===priority&&(priority=0);void 0===once&&(once=!1);this.previous=this.next=null;this._destroyed=!1;this.fn=fn;this.context=context;this.priority=priority;this.once=once}TickerListener.prototype.match=function(fn,context){void 0===context&&(context=null);return this.fn===
fn&&this.context===context};TickerListener.prototype.emit=function(deltaTime){this.fn&&(this.context?this.fn.call(this.context,deltaTime):this.fn(deltaTime));deltaTime=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return deltaTime};TickerListener.prototype.connect=function(previous){this.previous=previous;previous.next&&(previous.next.previous=this);this.next=previous.next;previous.next=this};TickerListener.prototype.destroy=function(hard){void 0===hard&&(hard=!1);this._destroyed=
!0;this.context=this.fn=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var redirect=this.next;this.next=hard?null:redirect;this.previous=null;return redirect};return TickerListener}(),Ticker=function(){function Ticker(){var _this=this;this.autoStart=!1;this.deltaTime=1;this.lastTime=-1;this.speed=1;this.started=!1;this._requestId=null;this._maxElapsedMS=100;this._minElapsedMS=0;this._protected=!1;this._lastFrame=-1;this._head=new TickerListener(null,
null,Infinity);this.deltaMS=1/settings.settings.TARGET_FPMS;this.elapsedMS=1/settings.settings.TARGET_FPMS;this._tick=function(time){_this._requestId=null;_this.started&&(_this.update(time),_this.started&&null===_this._requestId&&_this._head.next&&(_this._requestId=requestAnimationFrame(_this._tick)))}}Ticker.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this._lastFrame=this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};Ticker.prototype._cancelIfNeeded=
function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};Ticker.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};Ticker.prototype.add=function(fn,context,priority){void 0===priority&&(priority=exports.UPDATE_PRIORITY.NORMAL);return this._addListener(new TickerListener(fn,context,priority))};Ticker.prototype.addOnce=function(fn,context,priority){void 0===priority&&(priority=exports.UPDATE_PRIORITY.NORMAL);
return this._addListener(new TickerListener(fn,context,priority,!0))};Ticker.prototype._addListener=function(listener){var current=this._head.next,previous=this._head;if(current){for(;current;){if(listener.priority>current.priority){listener.connect(previous);break}previous=current;current=current.next}listener.previous||listener.connect(previous)}else listener.connect(previous);this._startIfPossible();return this};Ticker.prototype.remove=function(fn,context){for(var listener=this._head.next;listener;)listener=
listener.match(fn,context)?listener.destroy():listener.next;this._head.next||this._cancelIfNeeded();return this};Object.defineProperty(Ticker.prototype,"count",{get:function(){if(!this._head)return 0;for(var count=0,current=this._head;current=current.next;)count++;return count},enumerable:!1,configurable:!0});Ticker.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};Ticker.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};Ticker.prototype.destroy=
function(){if(!this._protected){this.stop();for(var listener=this._head.next;listener;)listener=listener.destroy(!0);this._head.destroy();this._head=null}};Ticker.prototype.update=function(currentTime){void 0===currentTime&&(currentTime=performance.now());if(currentTime>this.lastTime){var elapsedMS=this.elapsedMS=currentTime-this.lastTime;elapsedMS>this._maxElapsedMS&&(elapsedMS=this._maxElapsedMS);elapsedMS*=this.speed;if(this._minElapsedMS){var delta=currentTime-this._lastFrame|0;if(delta<this._minElapsedMS)return;
this._lastFrame=currentTime-delta%this._minElapsedMS}this.deltaMS=elapsedMS;this.deltaTime=this.deltaMS*settings.settings.TARGET_FPMS;elapsedMS=this._head;for(delta=elapsedMS.next;delta;)delta=delta.emit(this.deltaTime);elapsedMS.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=currentTime};Object.defineProperty(Ticker.prototype,"FPS",{get:function(){return 1E3/this.elapsedMS},enumerable:!1,configurable:!0});Object.defineProperty(Ticker.prototype,"minFPS",
{get:function(){return 1E3/this._maxElapsedMS},set:function(fps){this._maxElapsedMS=1/Math.min(Math.max(0,Math.min(this.maxFPS,fps))/1E3,settings.settings.TARGET_FPMS)},enumerable:!1,configurable:!0});Object.defineProperty(Ticker.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1E3/this._minElapsedMS):0},set:function(fps){this._minElapsedMS=0===fps?0:1/(Math.max(this.minFPS,fps)/1E3)},enumerable:!1,configurable:!0});Object.defineProperty(Ticker,"shared",{get:function(){if(!Ticker._shared){var shared=
Ticker._shared=new Ticker;shared.autoStart=!0;shared._protected=!0}return Ticker._shared},enumerable:!1,configurable:!0});Object.defineProperty(Ticker,"system",{get:function(){if(!Ticker._system){var system=Ticker._system=new Ticker;system.autoStart=!0;system._protected=!0}return Ticker._system},enumerable:!1,configurable:!0});return Ticker}();global=function(){function TickerPlugin(){}TickerPlugin.init=function(options){var _this=this;options=Object.assign({autoStart:!0,sharedTicker:!1},options);
Object.defineProperty(this,"ticker",{set:function(ticker){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=ticker)&&ticker.add(this.render,this,exports.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}});this.stop=function(){_this._ticker.stop()};this.start=function(){_this._ticker.start()};this._ticker=null;this.ticker=options.sharedTicker?Ticker.shared:new Ticker;options.autoStart&&this.start()};TickerPlugin.destroy=function(){if(this._ticker){var oldTicker=this._ticker;
this.ticker=null;oldTicker.destroy()}};return TickerPlugin}();exports.Ticker=Ticker;exports.TickerPlugin=global}
//# sourceMappingURL=module$node_modules$$pixi$ticker$dist$cjs$ticker.js.map
