shadow$provide.module$node_modules$fs_extra$lib$ensure$symlink_paths=function(global,require,module,exports){const path=require("module$node_modules$path_browserify$index"),fs=require("module$node_modules$graceful_fs$graceful_fs"),pathExists=require("module$node_modules$fs_extra$lib$path_exists$index").pathExists;module.exports={symlinkPaths:function(srcpath,dstpath,callback){if(path.isAbsolute(srcpath))return fs.lstat(srcpath,err=>err?(err.message=err.message.replace("lstat","ensureSymlink"),callback(err)):
callback(null,{toCwd:srcpath,toDst:srcpath}));const dstdir=path.dirname(dstpath),relativeToDst=path.join(dstdir,srcpath);return pathExists(relativeToDst,(err$jscomp$0,exists)=>err$jscomp$0?callback(err$jscomp$0):exists?callback(null,{toCwd:relativeToDst,toDst:srcpath}):fs.lstat(srcpath,err=>err?(err.message=err.message.replace("lstat","ensureSymlink"),callback(err)):callback(null,{toCwd:srcpath,toDst:path.relative(dstdir,srcpath)})))},symlinkPathsSync:function(srcpath,dstpath){if(path.isAbsolute(srcpath)){dstpath=
fs.existsSync(srcpath);if(!dstpath)throw Error("absolute srcpath does not exist");return{toCwd:srcpath,toDst:srcpath}}const dstdir=path.dirname(dstpath),relativeToDst=path.join(dstdir,srcpath);if(dstpath=fs.existsSync(relativeToDst))return{toCwd:relativeToDst,toDst:srcpath};dstpath=fs.existsSync(srcpath);if(!dstpath)throw Error("relative srcpath does not exist");return{toCwd:srcpath,toDst:path.relative(dstdir,srcpath)}}}}
//# sourceMappingURL=module$node_modules$fs_extra$lib$ensure$symlink_paths.js.map
