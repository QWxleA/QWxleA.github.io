{
"version":3,
"file":"module$node_modules$$sentry$tracing$dist$span.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/@sentry/tracing/dist/span.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$tracing$dist$span\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar utils_1 = require(\"@sentry/utils\");\n/**\n * Keeps track of finished spans for a given transaction\n * @internal\n * @hideconstructor\n * @hidden\n */\nvar SpanRecorder = /** @class */ (function () {\n    function SpanRecorder(maxlen) {\n        if (maxlen === void 0) { maxlen = 1000; }\n        this.spans = [];\n        this._maxlen = maxlen;\n    }\n    /**\n     * This is just so that we don't run out of memory while recording a lot\n     * of spans. At some point we just stop and flush out the start of the\n     * trace tree (i.e.the first n spans with the smallest\n     * start_timestamp).\n     */\n    SpanRecorder.prototype.add = function (span) {\n        if (this.spans.length > this._maxlen) {\n            span.spanRecorder = undefined;\n        }\n        else {\n            this.spans.push(span);\n        }\n    };\n    return SpanRecorder;\n}());\nexports.SpanRecorder = SpanRecorder;\n/**\n * Span contains all data about a span\n */\nvar Span = /** @class */ (function () {\n    /**\n     * You should never call the constructor manually, always use `Sentry.startTransaction()`\n     * or call `startChild()` on an existing span.\n     * @internal\n     * @hideconstructor\n     * @hidden\n     */\n    function Span(spanContext) {\n        /**\n         * @inheritDoc\n         */\n        this.traceId = utils_1.uuid4();\n        /**\n         * @inheritDoc\n         */\n        this.spanId = utils_1.uuid4().substring(16);\n        /**\n         * Timestamp in seconds when the span was created.\n         */\n        this.startTimestamp = utils_1.timestampWithMs();\n        /**\n         * @inheritDoc\n         */\n        this.tags = {};\n        /**\n         * @inheritDoc\n         */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.data = {};\n        if (!spanContext) {\n            return this;\n        }\n        if (spanContext.traceId) {\n            this.traceId = spanContext.traceId;\n        }\n        if (spanContext.spanId) {\n            this.spanId = spanContext.spanId;\n        }\n        if (spanContext.parentSpanId) {\n            this.parentSpanId = spanContext.parentSpanId;\n        }\n        // We want to include booleans as well here\n        if ('sampled' in spanContext) {\n            this.sampled = spanContext.sampled;\n        }\n        if (spanContext.op) {\n            this.op = spanContext.op;\n        }\n        if (spanContext.description) {\n            this.description = spanContext.description;\n        }\n        if (spanContext.data) {\n            this.data = spanContext.data;\n        }\n        if (spanContext.tags) {\n            this.tags = spanContext.tags;\n        }\n        if (spanContext.status) {\n            this.status = spanContext.status;\n        }\n        if (spanContext.startTimestamp) {\n            this.startTimestamp = spanContext.startTimestamp;\n        }\n        if (spanContext.endTimestamp) {\n            this.endTimestamp = spanContext.endTimestamp;\n        }\n    }\n    /**\n     * @inheritDoc\n     * @deprecated\n     */\n    Span.prototype.child = function (spanContext) {\n        return this.startChild(spanContext);\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.startChild = function (spanContext) {\n        var childSpan = new Span(tslib_1.__assign(tslib_1.__assign({}, spanContext), { parentSpanId: this.spanId, sampled: this.sampled, traceId: this.traceId }));\n        childSpan.spanRecorder = this.spanRecorder;\n        if (childSpan.spanRecorder) {\n            childSpan.spanRecorder.add(childSpan);\n        }\n        childSpan.transaction = this.transaction;\n        return childSpan;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.setTag = function (key, value) {\n        var _a;\n        this.tags = tslib_1.__assign(tslib_1.__assign({}, this.tags), (_a = {}, _a[key] = value, _a));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n    Span.prototype.setData = function (key, value) {\n        var _a;\n        this.data = tslib_1.__assign(tslib_1.__assign({}, this.data), (_a = {}, _a[key] = value, _a));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.setStatus = function (value) {\n        this.status = value;\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.setHttpStatus = function (httpStatus) {\n        this.setTag('http.status_code', String(httpStatus));\n        var spanStatus = spanStatusfromHttpCode(httpStatus);\n        if (spanStatus !== 'unknown_error') {\n            this.setStatus(spanStatus);\n        }\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.isSuccess = function () {\n        return this.status === 'ok';\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.finish = function (endTimestamp) {\n        this.endTimestamp = typeof endTimestamp === 'number' ? endTimestamp : utils_1.timestampWithMs();\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.toTraceparent = function () {\n        var sampledString = '';\n        if (this.sampled !== undefined) {\n            sampledString = this.sampled ? '-1' : '-0';\n        }\n        return this.traceId + \"-\" + this.spanId + sampledString;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.toContext = function () {\n        return utils_1.dropUndefinedKeys({\n            data: this.data,\n            description: this.description,\n            endTimestamp: this.endTimestamp,\n            op: this.op,\n            parentSpanId: this.parentSpanId,\n            sampled: this.sampled,\n            spanId: this.spanId,\n            startTimestamp: this.startTimestamp,\n            status: this.status,\n            tags: this.tags,\n            traceId: this.traceId,\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.updateWithContext = function (spanContext) {\n        var _a, _b, _c, _d, _e;\n        this.data = (_a = spanContext.data, (_a !== null && _a !== void 0 ? _a : {}));\n        this.description = spanContext.description;\n        this.endTimestamp = spanContext.endTimestamp;\n        this.op = spanContext.op;\n        this.parentSpanId = spanContext.parentSpanId;\n        this.sampled = spanContext.sampled;\n        this.spanId = (_b = spanContext.spanId, (_b !== null && _b !== void 0 ? _b : this.spanId));\n        this.startTimestamp = (_c = spanContext.startTimestamp, (_c !== null && _c !== void 0 ? _c : this.startTimestamp));\n        this.status = spanContext.status;\n        this.tags = (_d = spanContext.tags, (_d !== null && _d !== void 0 ? _d : {}));\n        this.traceId = (_e = spanContext.traceId, (_e !== null && _e !== void 0 ? _e : this.traceId));\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.getTraceContext = function () {\n        return utils_1.dropUndefinedKeys({\n            data: Object.keys(this.data).length > 0 ? this.data : undefined,\n            description: this.description,\n            op: this.op,\n            parent_span_id: this.parentSpanId,\n            span_id: this.spanId,\n            status: this.status,\n            tags: Object.keys(this.tags).length > 0 ? this.tags : undefined,\n            trace_id: this.traceId,\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.toJSON = function () {\n        return utils_1.dropUndefinedKeys({\n            data: Object.keys(this.data).length > 0 ? this.data : undefined,\n            description: this.description,\n            op: this.op,\n            parent_span_id: this.parentSpanId,\n            span_id: this.spanId,\n            start_timestamp: this.startTimestamp,\n            status: this.status,\n            tags: Object.keys(this.tags).length > 0 ? this.tags : undefined,\n            timestamp: this.endTimestamp,\n            trace_id: this.traceId,\n        });\n    };\n    return Span;\n}());\nexports.Span = Span;\n/**\n * Converts a HTTP status code into a {@link SpanStatusType}.\n *\n * @param httpStatus The HTTP response status code.\n * @returns The span status or unknown_error.\n */\nfunction spanStatusfromHttpCode(httpStatus) {\n    if (httpStatus < 400 && httpStatus >= 100) {\n        return 'ok';\n    }\n    if (httpStatus >= 400 && httpStatus < 500) {\n        switch (httpStatus) {\n            case 401:\n                return 'unauthenticated';\n            case 403:\n                return 'permission_denied';\n            case 404:\n                return 'not_found';\n            case 409:\n                return 'already_exists';\n            case 413:\n                return 'failed_precondition';\n            case 429:\n                return 'resource_exhausted';\n            default:\n                return 'invalid_argument';\n        }\n    }\n    if (httpStatus >= 500 && httpStatus < 600) {\n        switch (httpStatus) {\n            case 501:\n                return 'unimplemented';\n            case 503:\n                return 'unavailable';\n            case 504:\n                return 'deadline_exceeded';\n            default:\n                return 'internal_error';\n        }\n    }\n    return 'unknown_error';\n}\nexports.spanStatusfromHttpCode = spanStatusfromHttpCode;\n//# sourceMappingURL=span.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","spanStatusfromHttpCode","httpStatus","Object","defineProperty","value","tslib_1","utils_1","SpanRecorder","maxlen","spans","_maxlen","prototype","add","SpanRecorder.prototype.add","span","length","spanRecorder","undefined","push","Span","spanContext","traceId","uuid4","spanId","substring","startTimestamp","timestampWithMs","tags","data","parentSpanId","sampled","op","description","status","endTimestamp","child","Span.prototype.child","startChild","Span.prototype.startChild","childSpan","__assign","transaction","setTag","Span.prototype.setTag","key","_a","setData","Span.prototype.setData","setStatus","Span.prototype.setStatus","setHttpStatus","Span.prototype.setHttpStatus","String","spanStatus","isSuccess","Span.prototype.isSuccess","finish","Span.prototype.finish","toTraceparent","Span.prototype.toTraceparent","sampledString","toContext","Span.prototype.toContext","dropUndefinedKeys","updateWithContext","Span.prototype.updateWithContext","_b","_c","_d","_e","getTraceContext","Span.prototype.getTraceContext","keys","parent_span_id","span_id","trace_id","toJSON","Span.prototype.toJSON","start_timestamp","timestamp"]
}
