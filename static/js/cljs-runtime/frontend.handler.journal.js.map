{"version":3,"sources":["frontend/handler/journal.cljs"],"mappings":";AAQA,qDAAA,rDAAOA,kHACJC;AADH,AAEE,oBAAM,iBAAAC,oBAAKD;AAAL,AAAA,oBAAAC;AAAU,OAACC,sCAAuB,AAACC;;AAAnCF;;;AAAN,AACE,6CAAA,2CAAA,gDAAA,oDAAA,kEAAA,2CAAA,lSAACG,uVAC6CJ;;AAFhD;;;AAIF,gDAAA,hDAAMK;AAAN,AAEE,OAACN,mDAAqB,AAACO;;AAEzB,+CAAA,/CAAOC;AAAP,AAEE,IAAMC,eAAa,AAACC;AAApB,AACE,IAAAC,mBAAI,AAACC,qCAAyBH;AAA9B,AAAA,oBAAAE;AAAAA;;AACI,OAACE;;;AAET,oDAAA,pDAAMC;AAAN,AAEE,IAAMC,kBAAgB,AAACP;IACjBQ,MAAI,AAACC,2BAAaF;IAClBd,OAAK,AAACiB,yDAAkB,AAACC,mDAAQH,IAAI,kDAAA,lDAACI;AAF5C,AAGE,OAACpB,mDAAqBC;;AAE1B,oDAAA,pDAAMoB;AAAN,AAEE,IAAMN,kBAAgB,AAACP;IACjBQ,MAAI,AAACC,2BAAaF;IAClBd,OAAK,AAACiB,yDAAkB,AAACI,kDAAON,IAAI,kDAAA,lDAACI;AAF3C,AAGE,OAACpB,mDAAqBC","names":["frontend.handler.journal/redirect-to-journal!","page","and__4251__auto__","frontend.state/enable-journals?","frontend.state/get-current-repo","frontend.handler.route/redirect!","frontend.handler.journal/go-to-tomorrow!","frontend.date/tomorrow","frontend.handler.journal/get-current-journal","current-page","frontend.state/get-current-page","or__4253__auto__","frontend.date/journal-title->long","frontend.util/time-ms","frontend.handler.journal/go-to-prev-journal!","current-journal","day","cljs-time.coerce/from-long","frontend.date.journal_name","cljs_time.core.minus","cljs_time.core.days","frontend.handler.journal/go-to-next-journal!","cljs_time.core.plus"],"sourcesContent":["(ns frontend.handler.journal\n  (:require [frontend.date :as date]\n            [frontend.handler.route :as route-handler]\n            [frontend.state :as state]\n            [frontend.util :as util]\n            [cljs-time.coerce :as tc]\n            [cljs-time.core :as t]))\n\n(defn- redirect-to-journal!\n  [page]\n  (when (and page (state/enable-journals? (state/get-current-repo)))\n    (route-handler/redirect! {:to          :page\n                              :path-params {:name page}})))\n\n(defn go-to-tomorrow!\n  []\n  (redirect-to-journal! (date/tomorrow)))\n\n(defn- get-current-journal\n  []\n  (let [current-page (state/get-current-page)]\n    (or (date/journal-title->long current-page)\n        (util/time-ms))))\n\n(defn go-to-prev-journal!\n  []\n  (let [current-journal (get-current-journal)\n        day (tc/from-long current-journal)\n        page (date/journal-name (t/minus day (t/days 1)))]\n    (redirect-to-journal! page)))\n\n(defn go-to-next-journal!\n  []\n  (let [current-journal (get-current-journal)\n        day (tc/from-long current-journal)\n        page (date/journal-name (t/plus day (t/days 1)))]\n    (redirect-to-journal! page)))\n"]}