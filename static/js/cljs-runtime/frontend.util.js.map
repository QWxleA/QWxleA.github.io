{"version":3,"sources":["frontend/util.cljc"],"mappings":"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","names":["js/goog.define","frontend.util/NODETEST","js/frontend","js/frontend.util","js/frontend.util.node-test?","frontend.util/node-test?","cljs.core/PROTOCOL_SENTINEL","js/Symbol","sym","writer","_","cljs.core/-write","js/frontend.util.node-path","frontend.util/node-path","js/module$frontend$utils.nodePath","frontend.util/app-scroll-container-node","goog.dom/getElement","frontend.util/safe-re-find","pattern","s","js/console.trace","cljs.core/re-find","frontend.util/uuid-pattern","js/frontend.util.exactly-uuid-pattern","frontend.util/exactly-uuid-pattern","cljs.core/re-pattern","frontend.util/uuid-string?","frontend.util/ios?","js/module$frontend$utils.ios","frontend.util/safari?","ua","clojure.string/lower-case","js/navigator.userAgent","clojure.string/includes?","frontend.util/mobile?","frontend.util/electron?","and__5041__auto__","js/window","frontend.util.goog$module$goog$object.get","frontend.util/mocked-open-dir-path","frontend.util/nfs?","cljs.core/not","frontend.mobile.util/native-platform?","frontend.util/file-protocol?","clojure.string/starts-with?","js/window.location.href","var_args","args__5772__auto__","len__5766__auto__","i__5767__auto__","argseq__5773__auto__","cljs.core/IndexedSeq","frontend.util/format","seq30430","G__30431","cljs.core/first","cljs.core/next","self__5751__auto__","fmt","args","cljs.core.apply","goog.string/format","frontend.util/evalue","event","frontend.util.goog$module$goog$object.getValueByKeys","frontend.util/ekey","frontend.util/echecked?","frontend.util/set-change-value","node","value","js/module$frontend$utils.triggerInputChange","G__30447","frontend.util/p-handle","js/Error","p","ok-handler","frontend.util.p_handle","error","js/console.error","error-handler","promesa.core.then","result","promesa.core.catch$","frontend.util/get-width","frontend.util/set-theme-light","promesa.core.bind","___28350__auto__","promesa.protocols/-promise","js/module$node_modules$$capacitor$status_bar$dist$plugin_cjs.StatusBar","cljs.core/clj->js","js/module$node_modules$$capacitor$status_bar$dist$plugin_cjs.Style","frontend.util/set-theme-dark","frontend.util/find-first","pred","coll","cljs.core.filter","frontend.util/remove-nils-non-nested","nm","cljs.core.into","cljs.core.remove","cljs.core.comp","cljs.core/nil?","cljs.core/second","frontend.util/ext-of-image?","p1__30500#","cljs.core/some","clojure.string/ends-with?","frontend.util/hiccup->class","class","G__30501","clojure.string.split","clojure.string.join","clojure.string/trim","G__30507","frontend.util/fetch","url","on-ok","on-failed","frontend.util.fetch","opts","js/fetch","cljs-bean.core/->js","resp","cljs-bean.core/->clj","p1__30502#","frontend.util/upload","file","on-progress","xhr","js/XMLHttpRequest","frontend.util.goog$module$goog$object.set","frontend.util/post","body","js/JSON.stringify","frontend.util/zero-pad","n","frontend.util/safe-parse-int","x","cljs.core/parse-long","frontend.util/safe-parse-float","cljs.core/parse-double","G__30523","frontend.util/debounce","threshold","f","frontend.util.debounce","cljs.core/constantly","prep-fn","t","cljs.core.atom","cljs.core/deref","js/clearTimeout","cljs.core/reset!","js/setTimeout","frontend.util/nth-safe","c","i","cljs.core/count","cljs.core.nth","js/NodeList","array","cljs.core.array_seq","frontend.util/caret-range","temp__5720__auto__","doc","or__5043__auto__","win","selection","range-count","range","pre-caret-range","contents","html","G__30540","br-ended?","cljs.core.not_EQ_","text-range","pre-caret-text-range","frontend.util/get-selection-start","input","frontend.util/get-selection-end","frontend.util/get-selection-direction","frontend.util/get-first-or-last-line-pos","pos","last-newline-pos","clojure.string.last_index_of","frontend.util/stop","e","G__30564","frontend.util/stop-propagation","frontend.util/cur-doc-top","js/document","frontend.util/element-top","elem","top","client-top","offset-top","G__30576","G__30577","frontend.util/scroll-to-element","elem-id","G__30588","frontend.util/scroll-to","frontend.util.scroll_to","animate?","G__30602","frontend.util/scroll-top","frontend.util.scroll_top","G__30610","frontend.util/scroll-to-top","frontend.util/link?","cljs.core/contains?","frontend.util/time?","frontend.util/audio?","frontend.util/video?","frontend.util/sup?","frontend.util/input?","frontend.util/select?","cljs.core._EQ_","frontend.util/details-or-summary?","frontend.util/starts-with?","substr","frontend.util/distinct-by","col","cljs.core.reduce","acc","p1__30678#","cljs.core/vec","cljs.core.conj","frontend.util/distinct-by-last-wins","p1__30681#","cljs.core.mapv","v","frontend.util/get-git-owner-and-repo","repo-url","cljs.core/take-last","frontend.util/safe-lower-case","frontend.util/trim-safe","frontend.util/trimr-without-newlines","frontend.util/triml-without-newlines","frontend.util/concat-without-spaces","left","right","not-space?","clojure.string/blank?","cljs.core/last","frontend.util/replace-first","new-value","temp__5718__auto__","first-index","clojure.string.index_of","cljs.core.subs","G__30699","frontend.util/replace-last","frontend.util.replace_last","space?","last-index","prefix","js/frontend.util.default-escape-chars","frontend.util/default-escape-chars","frontend.util/replace-ignore-case","p__30710","vec__30712","seq30705","G__30706","G__30707","G__30708","old-value","escape-chars","escape-char","clojure.string/replace","frontend.util/re-pos","re","js/RegExp","res","m","G__30727","frontend.util/safe-set-range-text!","text","start","end","e30730","_e","select-mode","e30735","frontend.util/safe-dec-current-pos-from-end","current-pos","len","x__5128__auto__","y__5129__auto__","e30740","splitter","js/module$node_modules$grapheme_splitter$index","frontend.util/safe-inc-current-pos-from-start","e30747","frontend.util/kill-line-before!","val","n-pos","frontend.util.safe_set_range_text_BANG_","frontend.util/kill-line-after!","frontend.util/insert-at-current-position!","frontend.util/deref-or-value","val-or-atom","cljs.core/native-satisfies?","cljs.core/IDeref","frontend.util/now->utc","local-date-time","js/goog.date.DateTime","js/goog.date.UtcDateTime","frontend.util/safe-subvec","xs","cljs.core.subvec","frontend.util/get-nodes-between-two-nodes","id1","id2","nodes","js/document.getElementsByClassName","node-1","node-2","idx-1","idx-2","x__5131__auto__","y__5132__auto__","frontend.util/get-direction-between-two-nodes","frontend.util/rec-get-tippy-container","dommy.core/has-class?","G__30806","frontend.util/rec-get-blocks-container","G__30809","frontend.util/rec-get-blocks-content-section","G__30810","frontend.util/get-blocks-noncollapse","dommy.utils/->Array","b","frontend.util/remove-embeded-blocks","blocks","dommy.core/attr","frontend.util/get-selected-text","js/module$frontend$utils.getSelectionText","frontend.util/clear-selection!","js/module$frontend$selection.clearSelection","G__30831","frontend.util/copy-to-clipboard!","js/module$frontend$utils.writeClipboard","frontend.util/drop-nth","p1__30857#","p2__30858#","cljs.core.keep_indexed","frontend.util/react","ref","rum.core/*reactions*","rum.core/react","frontend.util/time-ms","cljs-time.coerce/to-long","cljs-time.core/now","frontend.util/today-at-local-ms","hours","mins","secs","millisecs","js/Date","frontend.util/d","k","cljs.core.println","start__5646__auto__","cljs.core/system-time","ret__5647__auto__","cljs.core.prn","cljs.core.doall","frontend.util/concat-without-nil","seq30901","self__5752__auto__","cljs.core/seq","cols","cljs.core/concat","frontend.util/set-title!","title","frontend.util/get-block-container","block-element","section","G__30916","dommy.core/parent","frontend.util/get-prev-block-non-collapsed","block","index","idx","frontend.util/get-prev-block-non-collapsed-non-embed","frontend.util/get-next-block-non-collapsed","frontend.util/get-next-block-non-collapsed-skip","nested?","goog.dom/getElementsByClass","dom","frontend.util/rand-str","js/Math.random","frontend.util/unique-id","frontend.util/pp-str","sb__5687__auto__","goog.string/StringBuffer","*print-newline*-orig-val__30950","cljs.core/*print-newline*","*print-fn*-orig-val__30951","cljs.core/*print-fn*","*print-newline*-temp-val__30952","*print-fn*-temp-val__30953","x__5688__auto__","cljs.pprint.pprint","frontend.util/hiccup-keywordize","hiccup","clojure.walk/postwalk","cljs.core/vector?","cljs.core.update","cljs.core/keyword","frontend.util/chrome?","user-agent","vendor","js/navigator.vendor","frontend.util/indexeddb-check?","test-db","db","js/window.indexedDB","js/window.indexedDB.open","js/window.indexedDB.deleteDatabase","js/frontend.util.mac?","frontend.util/mac?","goog.userAgent/MAC","js/frontend.util.win32?","frontend.util/win32?","goog.userAgent/WINDOWS","frontend.util/absolute-path?","path","e30982","js/window.apis.isAbsolutePath","js/module$frontend$utils.win32","frontend.util/default-content-with-title","text-format","G__30987","cljs.core/name","frontend.util/get-first-block-by-id","block-id","frontend.util/url-encode","string","G__30997","js/encodeURIComponent","frontend.util/url-decode","G__31004","js/decodeURIComponent","frontend.util/windows-reserved-chars","frontend.util/include-windows-reserved-chars?","frontend.util/create-title-property?","frontend.util/search-normalize","js/module$node_modules$remove_accents$index","frontend.util/file-name-sanity","page-name","G__31012","logseq.graph_parser.util.page_name_sanity","frontend.util/page-name-sanity-lc","logseq.graph-parser.util/page-name-sanity-lc","frontend.util/safe-page-name-sanity-lc","frontend.util/get-page-original-name","page","frontend.util/add-style!","style","parent-node","js/document.head","id","old-link-element","dommy.core/selector","dommy.core.remove_BANG_","link","dommy.core.create_element","dommy.core.set_attr_BANG_","dommy.core.append_BANG_","frontend.util/->platform-shortcut","keyboard-shortcut","frontend.util/remove-common-preceding","col1","col2","cljs.core/rest","frontend.util/get-file-ext","G__31024","frontend.util/get-dir-and-basename","parts","basename","dir","cljs.core/butlast","frontend.util/get-relative-path","current-file-path","another-file-path","p1__31026#","vec__31027","directories-f","parts-1","parts-2","another-file-name","cljs.core.concat","cljs.core.repeat","frontend.util/escape-html","frontend.util/unescape-html","frontend.util/select-highlight!","seq__31042","chunk__31043","count__31044","i__31045","cljs.core/chunked-seq?","c__5565__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","dommy.core.add_class_BANG_","frontend.util/select-unhighlight!","seq__31060","chunk__31061","count__31062","i__31063","dommy.core.remove_class_BANG_","frontend.util/keyname","key","cljs.core/namespace","frontend.util/batch","in","max-time","handler","buf-atom","c__27595__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__27596__auto__","switch__27572__auto__","state_31133","state_val_31134","inst_31113","statearr-31137","statearr-31138","inst_31089","inst_31092","inst_31095","inst_31096","statearr-31141","statearr-31142","inst_31108","inst_31105","inst_31106","inst_31107","statearr-31143","statearr-31144","statearr-31146","inst_31127","statearr-31149","inst_31111","statearr-31150","inst_31131","cljs.core.async.impl.ioc-helpers/return-chan","statearr-31157","inst_31101","cljs.core/PersistentVector","inst_31102","inst_31103","cljs.core.async/ioc-alts!","inst_31123","tmp31155","tmp31156","statearr-31163","statearr-31164","statearr-31169","statearr-31172","inst_31129","statearr-31174","inst_31115","inst_31116","inst_31117","inst_31118","inst_31119","tmp31171","statearr-31180","statearr-31184","statearr-31189","state-machine__27573__auto__","ret-value__27574__auto__","result__27575__auto__","cljs.core/keyword-identical?","ex__27576__auto__","e31191","statearr-31193","statearr-31194","state__27597__auto__","statearr-31202","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.async/timeout","cljs.core.swap_BANG_","cljs.core/conj","frontend.util/trace!","frontend.util/remove-first","cljs.core/LazySeq","vec__31203","seq__31204","first__31205","cljs.core/cons","inner","frontend.util/pprint","cljs.pprint/pprint","frontend.util/backward-kill-word","current","prev","cljs.core/max","G__31219","fexpr__31218","frontend.util/forward-kill-word","G__31225","fexpr__31224","cljs.core/min","frontend.util/fix-open-external-with-shift!","frontend.util/classnames","p1__31233#","cljs.core.mapcat","cljs.core/map?","iter__5520__auto__","s__31254","c__5518__auto__","size__5519__auto__","b__31257","cljs.core/chunk-buffer","i__31256","vec__31262","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__31253","vec__31267","frontend.util/get-dom-top","frontend.util/sort-by-height","elements","cljs.core.sort","y","frontend.util/calc-delta-rect-offset","target","container","target-rect","viewport-rect","frontend.util/regex-char-esc-smap","esc-chars","cljs.core/zipmap","p1__31280#","cljs.core.map","frontend.util/regex-escape","cljs.core.replace","frontend.util/meta-key-name","frontend.util/meta-key?","frontend.util/right-click?","which","button","frontend.util/keyboard-height","frontend.util/scroll-editor-cursor","p__31298","map__31299","cljs.core/--destructure-map","cljs.core.get","seq31291","G__31292","el","to-vw-one-quarter?","box-rect","box-top","box-bottom","header-height","goog.dom/getElementByClass","main-node","scroll-top","mock-text","G__31308","goog.dom/getChildren","offset-height","cursor-y","vw-height","js/window.visualViewport","js/document.documentElement","scroll","frontend.util/sm-breakpoint?","G__31321","frontend.util/event-is-composing?","frontend.util.event_is_composing_QMARK_","include-process?","event-composing?","frontend.util/onchange-event-is-composing?","frontend.util/open-url","route?","js/location.href","js/location.hash","js/window.apis.openExternal","js/window.location","frontend.util/collapsed?","frontend.util/atom?","cljs.core/Atom","frontend.util/time-ago","time","units","js/Number.MAX_SAFE_INTEGER","diff","cljs-time.core/in-seconds","cljs-time.core/interval","unit","p1__31330#","cljs.core.drop_while","Math/floor","p1__31331#"],"sourcesContent":["(ns frontend.util\n  #?(:clj (:refer-clojure :exclude [format]))\n  #?(:cljs (:require-macros [frontend.util]))\n  #?(:cljs (:require\n            [\"/frontend/selection\" :as selection]\n            [\"/frontend/utils\" :as utils]\n            [\"@capacitor/status-bar\" :refer [^js StatusBar Style]]\n            [\"grapheme-splitter\" :as GraphemeSplitter]\n            [\"remove-accents\" :as removeAccents]\n            [cljs-bean.core :as bean]\n            [cljs-time.coerce :as tc]\n            [cljs-time.core :as t]\n            [dommy.core :as d]\n            [frontend.mobile.util :refer [native-platform?]]\n            [logseq.graph-parser.util :as gp-util]\n            [goog.dom :as gdom]\n            [goog.object :as gobj]\n            [goog.string :as gstring]\n            [goog.userAgent]\n            [promesa.core :as p]\n            [rum.core :as rum]))\n  (:require\n   [clojure.core.async :as async]\n   [clojure.pprint]\n   [clojure.string :as string]\n   [clojure.walk :as walk]))\n\n#?(:cljs (goog-define NODETEST false)\n   :clj (def NODETEST false))\n(defonce node-test? NODETEST)\n\n#?(:cljs\n   (extend-protocol IPrintWithWriter\n     js/Symbol\n     (-pr-writer [sym writer _]\n       (-write writer (str \"\\\"\" (.toString sym) \"\\\"\")))))\n\n#?(:cljs (defonce ^js node-path utils/nodePath))\n#?(:cljs (defn app-scroll-container-node []\n           (gdom/getElement \"main-content-container\")))\n\n#?(:cljs\n   (defn safe-re-find\n     [pattern s]\n     (when-not (string? s)\n       ;; TODO: sentry\n       (js/console.trace))\n     (when (string? s)\n       (re-find pattern s))))\n\n#?(:cljs\n  (do\n    (def uuid-pattern \"[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}\")\n    (defonce exactly-uuid-pattern (re-pattern (str \"(?i)^\" uuid-pattern \"$\")))\n    (defn uuid-string?\n      [s]\n      (safe-re-find exactly-uuid-pattern s))))\n\n#?(:cljs\n   (defn ios?\n     []\n     (utils/ios)))\n\n#?(:cljs\n   (defn safari?\n     []\n     (let [ua (string/lower-case js/navigator.userAgent)]\n       (and (string/includes? ua \"webkit\")\n            (not (string/includes? ua \"chrome\"))))))\n\n#?(:cljs\n   (defn mobile?\n     []\n     (when-not node-test?\n       (safe-re-find #\"Mobi\" js/navigator.userAgent))))\n\n#?(:cljs\n   (defn electron?\n     []\n     (when (and js/window (gobj/get js/window \"navigator\"))\n       (let [ua (string/lower-case js/navigator.userAgent)]\n         (string/includes? ua \" electron\")))))\n\n#?(:cljs\n   (defn mocked-open-dir-path\n     \"Mocked open DIR path for by-passing open dir in electron during testing. Nil if not given\"\n     []\n     (when (electron?) (. js/window -__MOCKED_OPEN_DIR_PATH__))))\n\n#?(:cljs\n   (def nfs? (and (not (electron?))\n                  (not (native-platform?)))))\n\n#?(:cljs\n   (defn file-protocol?\n     []\n     (string/starts-with? js/window.location.href \"file://\")))\n\n(defn format\n  [fmt & args]\n  #?(:cljs (apply gstring/format fmt args)\n     :clj (apply clojure.core/format fmt args)))\n\n#?(:cljs\n   (defn evalue\n     [event]\n     (gobj/getValueByKeys event \"target\" \"value\")))\n\n#?(:cljs\n   (defn ekey [event]\n     (gobj/getValueByKeys event \"key\")))\n\n#?(:cljs\n   (defn echecked? [event]\n     (gobj/getValueByKeys event \"target\" \"checked\")))\n\n#?(:cljs\n   (defn set-change-value\n     \"compatible change event for React\"\n     [node value]\n     (utils/triggerInputChange node value)))\n\n#?(:cljs\n   (defn p-handle\n     ([p ok-handler]\n      (p-handle p ok-handler (fn [error]\n                               (js/console.error error))))\n     ([p ok-handler error-handler]\n      (-> p\n          (p/then (fn [result]\n                    (ok-handler result)))\n          (p/catch (fn [error]\n                     (error-handler error)))))))\n\n#?(:cljs\n   (defn get-width\n     []\n     (gobj/get js/window \"innerWidth\")))\n\n#?(:cljs\n   (defn set-theme-light\n     []\n     (p/do!\n      (.setStyle StatusBar (clj->js {:style (.-Light Style)})))))\n\n#?(:cljs\n   (defn set-theme-dark\n     []\n     (p/do!\n      (.setStyle StatusBar (clj->js {:style (.-Dark Style)})))))\n\n(defn find-first\n  [pred coll]\n  (first (filter pred coll)))\n\n;; (defn format\n;;   [fmt & args]\n;;   (apply gstring/format fmt args))\n\n(defn remove-nils-non-nested\n  [nm]\n  (into {} (remove (comp nil? second)) nm))\n\n(defn ext-of-image? [s]\n  (some #(-> (string/lower-case s)\n             (string/ends-with? %))\n        [\".png\" \".jpg\" \".jpeg\" \".bmp\" \".gif\" \".webp\" \".svg\"]))\n\n;; \".lg:absolute.lg:inset-y-0.lg:right-0.lg:w-1/2\"\n(defn hiccup->class\n  [class]\n  (some->> (string/split class #\"\\.\")\n           (string/join \" \")\n           (string/trim)))\n\n#?(:cljs\n   (defn fetch\n     ([url on-ok on-failed]\n      (fetch url {} on-ok on-failed))\n     ([url opts on-ok on-failed]\n      (-> (js/fetch url (bean/->js opts))\n          (.then (fn [resp]\n                   (if (>= (.-status resp) 400)\n                     (on-failed resp)\n                     (if (.-ok resp)\n                       (-> (.json resp)\n                           (.then bean/->clj)\n                           (.then #(on-ok %)))\n                       (on-failed resp)))))))))\n\n#?(:cljs\n   (defn upload\n     [url file on-ok on-failed on-progress]\n     (let [xhr (js/XMLHttpRequest.)]\n       (.open xhr \"put\" url)\n       (gobj/set xhr \"onload\" on-ok)\n       (gobj/set xhr \"onerror\" on-failed)\n       (when (and (gobj/get xhr \"upload\")\n                  on-progress)\n         (gobj/set (gobj/get xhr \"upload\")\n                   \"onprogress\"\n                   on-progress))\n       (.send xhr file))))\n\n#?(:cljs\n   (defn post\n     [url body on-ok on-failed]\n     (fetch url {:method \"post\"\n                 :headers {:Content-Type \"application/json\"}\n                 :body (js/JSON.stringify (clj->js body))}\n            on-ok\n            on-failed)))\n\n(defn zero-pad\n  [n]\n  (if (< n 10)\n    (str \"0\" n)\n    (str n)))\n\n#?(:cljs\n   (defn safe-parse-int\n     \"Use if arg could be an int or string. If arg is only a string, use `parse-long`.\"\n     [x]\n     (if (string? x)\n       (parse-long x)\n       x)))\n\n#?(:cljs\n   (defn safe-parse-float\n     \"Use if arg could be a float or string. If arg is only a string, use `parse-double`\"\n     [x]\n     (if (string? x)\n       (parse-double x)\n       x)))\n\n#?(:cljs\n   (defn debounce\n     \"Returns a function that will call f only after threshold has passed without new calls\n      to the function. Calls prep-fn on the args in a sync way, which can be used for things like\n      calling .persist on the event object to be able to access the event attributes in f\"\n     ([threshold f] (debounce threshold f (constantly nil)))\n     ([threshold f prep-fn]\n      (let [t (atom nil)]\n        (fn [& args]\n          (when @t (js/clearTimeout @t))\n          (apply prep-fn args)\n          (reset! t (js/setTimeout #(do\n                                      (reset! t nil)\n                                      (apply f args))\n                                   threshold)))))))\n\n(defn nth-safe [c i]\n  (if (or (< i 0) (>= i (count c)))\n    nil\n    (nth c i)))\n\n#?(:cljs\n   (when-not node-test?\n     (extend-type js/NodeList\n       ISeqable\n       (-seq [array] (array-seq array 0)))))\n\n;; Caret\n#?(:cljs\n   (defn caret-range [node]\n     (when-let [doc (or (gobj/get node \"ownerDocument\")\n                        (gobj/get node \"document\"))]\n       (let [win (or (gobj/get doc \"defaultView\")\n                     (gobj/get doc \"parentWindow\"))\n             selection (.getSelection win)]\n         (if selection\n           (let [range-count (gobj/get selection \"rangeCount\")]\n             (when (> range-count 0)\n               (let [range (-> (.getSelection win)\n                               (.getRangeAt 0))\n                     pre-caret-range (.cloneRange range)]\n                 (.selectNodeContents pre-caret-range node)\n                 (.setEnd pre-caret-range\n                          (gobj/get range \"endContainer\")\n                          (gobj/get range \"endOffset\"))\n                 (let [contents (.cloneContents pre-caret-range)\n                       html (some-> (first (.-childNodes contents))\n                                    (gobj/get \"innerHTML\")\n                                    str)\n                       ;; FIXME: this depends on the dom structure,\n                       ;; need a converter from html to text includes newlines\n                       br-ended? (and html\n                                      (or\n                                       ;; first line with a new line\n                                       (string/ends-with? html \"<div class=\\\"is-paragraph\\\"></div></div></span></div></div></div>\")\n                                       ;; multiple lines with a new line\n                                       (string/ends-with? html \"<br></div></div></span></div></div></div>\")))\n                       value (.toString pre-caret-range)]\n                   (if br-ended?\n                     (str value \"\\n\")\n                     value)))))\n           (when-let [selection (gobj/get doc \"selection\")]\n             (when (not= \"Control\" (gobj/get selection \"type\"))\n               (let [text-range (.createRange selection)\n                     pre-caret-text-range (.createTextRange (gobj/get doc \"body\"))]\n                 (.moveToElementText pre-caret-text-range node)\n                 (.setEndPoint pre-caret-text-range \"EndToEnd\" text-range)\n                 (gobj/get pre-caret-text-range \"text\")))))))))\n\n(defn get-selection-start\n  [input]\n  (when input\n    (.-selectionStart input)))\n\n(defn get-selection-end\n  [input]\n  (when input\n    (.-selectionEnd input)))\n\n(defn get-selection-direction\n  [input]\n  (when input\n    (.-selectionDirection input)))\n\n(defn get-first-or-last-line-pos\n  [input]\n  (let [pos (get-selection-start input)\n        value (.-value input)\n        last-newline-pos (or (string/last-index-of value \\newline (dec pos)) -1)]\n    (- pos last-newline-pos 1)))\n\n#?(:cljs\n   (defn stop [e]\n     (when e (doto e (.preventDefault) (.stopPropagation)))))\n\n#?(:cljs\n   (defn stop-propagation [e]\n     (when e (.stopPropagation e))))\n\n#?(:cljs\n   (defn cur-doc-top []\n     (.. js/document -documentElement -scrollTop)))\n\n#?(:cljs\n   (defn element-top [elem top]\n     (when elem\n       (if (.-offsetParent elem)\n         (let [client-top (or (.-clientTop elem) 0)\n               offset-top (.-offsetTop elem)]\n           (+ top client-top offset-top (element-top (.-offsetParent elem) top)))\n         top))))\n\n#?(:cljs\n   (defn scroll-to-element\n     [elem-id]\n     (when-not (safe-re-find #\"^/\\d+$\" elem-id)\n       (when elem-id\n         (when-let [elem (gdom/getElement elem-id)]\n           (.scroll (app-scroll-container-node)\n                    #js {:top (let [top (element-top elem 0)]\n                                (if (< top 256)\n                                  0\n                                  (- top 80)))\n                         :behavior \"smooth\"}))))))\n\n#?(:cljs\n   (defn scroll-to\n     ([pos]\n      (scroll-to (app-scroll-container-node) pos))\n     ([node pos]\n      (scroll-to node pos true))\n     ([node pos animate?]\n      (when node\n        (.scroll node\n                 #js {:top      pos\n                      :behavior (if animate? \"smooth\" \"auto\")})))))\n\n#?(:cljs\n   (defn scroll-top\n     \"Returns the scroll top position of the `node`. If `node` is not specified,\n     returns the scroll top position of the `app-scroll-container-node`.\"\n     ([]\n      (scroll-top (app-scroll-container-node)))\n     ([node]\n      (when node (.-scrollTop node)))))\n\n#?(:cljs\n   (defn scroll-to-top\n     ([]\n      (scroll-to (app-scroll-container-node) 0 false))\n     ([animate?]\n      (scroll-to (app-scroll-container-node) 0 animate?))))\n\n#?(:cljs\n   (defn link?\n     [node]\n     (contains?\n      #{\"A\" \"BUTTON\"}\n      (gobj/get node \"tagName\"))))\n\n#?(:cljs\n   (defn time?\n     [node]\n     (contains?\n      #{\"TIME\"}\n      (gobj/get node \"tagName\"))))\n\n#?(:cljs\n   (defn audio?\n     [node]\n     (contains?\n      #{\"AUDIO\"}\n      (gobj/get node \"tagName\"))))\n\n#?(:cljs\n   (defn video?\n     [node]\n     (contains?\n      #{\"VIDEO\"}\n      (gobj/get node \"tagName\"))))\n\n#?(:cljs\n   (defn sup?\n     [node]\n     (contains?\n      #{\"SUP\"}\n      (gobj/get node \"tagName\"))))\n\n#?(:cljs\n   (defn input?\n     [node]\n     (when node\n       (contains?\n        #{\"INPUT\" \"TEXTAREA\"}\n        (gobj/get node \"tagName\")))))\n\n#?(:cljs\n   (defn select?\n     [node]\n     (when node\n       (= \"SELECT\" (gobj/get node \"tagName\")))))\n\n#?(:cljs\n   (defn details-or-summary?\n     [node]\n     (when node\n       (contains?\n        #{\"DETAILS\" \"SUMMARY\"}\n        (gobj/get node \"tagName\")))))\n\n;; Debug\n(defn starts-with?\n  [s substr]\n  (string/starts-with? s substr))\n\n(defn distinct-by\n  [f col]\n  (reduce\n   (fn [acc x]\n     (if (some #(= (f x) (f %)) acc)\n       acc\n       (vec (conj acc x))))\n   []\n   col))\n\n(defn distinct-by-last-wins\n  [f col]\n  (reduce\n   (fn [acc x]\n     (if (some #(= (f x) (f %)) acc)\n       (mapv\n        (fn [v]\n          (if (= (f x) (f v))\n            x\n            v))\n        acc)\n       (vec (conj acc x))))\n   []\n   col))\n\n(defn get-git-owner-and-repo\n  [repo-url]\n  (take-last 2 (string/split repo-url #\"/\")))\n\n(defn safe-lower-case\n  [s]\n  (if (string? s)\n    (string/lower-case s) s))\n\n(defn trim-safe\n  [s]\n  (when s\n    (string/trim s)))\n\n(defn trimr-without-newlines\n  [s]\n  (.replace s #\"[ \\t\\r]+$\" \"\"))\n\n(defn triml-without-newlines\n  [s]\n  (.replace s #\"^[ \\t\\r]+\" \"\"))\n\n(defn concat-without-spaces\n  [left right]\n  (when (and (string? left)\n             (string? right))\n    (let [left (trimr-without-newlines left)\n          not-space? (or\n                      (string/blank? left)\n                      (= \"\\n\" (last left)))]\n      (str left\n           (when-not not-space? \" \")\n           (triml-without-newlines right)))))\n\n;; Add documentation\n(defn replace-first [pattern s new-value]\n  (if-let [first-index (string/index-of s pattern)]\n    (str new-value (subs s (+ first-index (count pattern))))\n    s))\n\n(defn replace-last\n  ([pattern s new-value]\n   (replace-last pattern s new-value true))\n  ([pattern s new-value space?]\n   (if-let [last-index (string/last-index-of s pattern)]\n     (let [prefix (subs s 0 last-index)]\n       (if space?\n         (concat-without-spaces prefix new-value)\n         (str prefix new-value)))\n     s)))\n\n(defonce default-escape-chars \"[]{}().+*?|\")\n\n(defn replace-ignore-case\n  [s old-value new-value & [escape-chars]]\n  (let [escape-chars (or escape-chars default-escape-chars)\n        old-value (if (string? escape-chars)\n                    (reduce (fn [acc escape-char]\n                              (string/replace acc escape-char (str \"\\\\\" escape-char)))\n                            old-value escape-chars)\n                    old-value)]\n    (string/replace s (re-pattern (str \"(?i)\" old-value)) new-value)))\n\n;; copy from https://stackoverflow.com/questions/18735665/how-can-i-get-the-positions-of-regex-matches-in-clojurescript\n#?(:cljs\n   (defn re-pos [re s]\n     (let [re (js/RegExp. (.-source re) \"g\")]\n       (loop [res []]\n         (if-let [m (.exec re s)]\n           (recur (conj res [(.-index m) (first m)]))\n           res)))))\n\n#?(:cljs\n   (defn safe-set-range-text!\n     ([input text start end]\n      (try\n        (.setRangeText input text start end)\n        (catch js/Error _e\n          nil)))\n     ([input text start end select-mode]\n      (try\n        (.setRangeText input text start end select-mode)\n        (catch js/Error _e\n          nil)))))\n\n#?(:cljs\n   ;; for widen char\n   (defn safe-dec-current-pos-from-end\n     [input current-pos]\n     (if-let [len (and (string? input) (.-length input))]\n       (when-let [input (and (>= len 2) (<= current-pos len)\n                             (.substring input (max (- current-pos 20) 0) current-pos))]\n         (try\n           (let [^js splitter (GraphemeSplitter.)\n                 ^js input (.splitGraphemes splitter input)]\n             (- current-pos (.-length (.pop input))))\n           (catch js/Error e\n             (js/console.error e)\n             (dec current-pos))))\n       (dec current-pos))))\n\n#?(:cljs\n   ;; for widen char\n   (defn safe-inc-current-pos-from-start\n     [input current-pos]\n     (if-let [len (and (string? input) (.-length input))]\n       (when-let [input (and (>= len 2) (<= current-pos len)\n                             (.substr input current-pos 20))]\n         (try\n           (let [^js splitter (GraphemeSplitter.)\n                 ^js input (.splitGraphemes splitter input)]\n             (+ current-pos (.-length (.shift input))))\n           (catch js/Error e\n             (js/console.error e)\n             (inc current-pos))))\n       (inc current-pos))))\n\n#?(:cljs\n   (defn kill-line-before!\n     [input]\n     (let [val (.-value input)\n           end (get-selection-start input)\n           n-pos (string/last-index-of val \\newline (dec end))\n           start (if n-pos (inc n-pos) 0)]\n       (safe-set-range-text! input \"\" start end))))\n\n#?(:cljs\n   (defn kill-line-after!\n     [input]\n     (let [val   (.-value input)\n           start (get-selection-start input)\n           end   (or (string/index-of val \\newline start)\n                     (count val))]\n       (safe-set-range-text! input \"\" start end))))\n\n#?(:cljs\n   (defn insert-at-current-position!\n     [input text]\n     (let [start (get-selection-start input)\n           end   (get-selection-end input)]\n       (safe-set-range-text! input text start end \"end\"))))\n\n;; copied from re_com\n#?(:cljs\n   (defn deref-or-value\n     \"Takes a value or an atom\n      If it's a value, returns it\n      If it's a Reagent object that supports IDeref, returns the value inside it by derefing\n      \"\n     [val-or-atom]\n     (if (satisfies? IDeref val-or-atom)\n       @val-or-atom\n       val-or-atom)))\n\n;; copied from re_com\n#?(:cljs\n   (defn now->utc\n     \"Return a goog.date.UtcDateTime based on local date/time.\"\n     []\n     (let [local-date-time (js/goog.date.DateTime.)]\n       (js/goog.date.UtcDateTime.\n        (.getYear local-date-time)\n        (.getMonth local-date-time)\n        (.getDate local-date-time)\n        0 0 0 0))))\n\n(defn safe-subvec [xs start end]\n  (if (or (neg? start)\n          (> end (count xs)))\n    []\n    (subvec xs start end)))\n\n#?(:cljs\n   (defn get-nodes-between-two-nodes\n     [id1 id2 class]\n     (when-let [nodes (array-seq (js/document.getElementsByClassName class))]\n       (let [node-1 (gdom/getElement id1)\n             node-2 (gdom/getElement id2)\n             idx-1 (.indexOf nodes node-1)\n             idx-2 (.indexOf nodes node-2)\n             start (min idx-1 idx-2)\n             end (inc (max idx-1 idx-2))]\n         (safe-subvec (vec nodes) start end)))))\n\n#?(:cljs\n   (defn get-direction-between-two-nodes\n     [id1 id2 class]\n     (when-let [nodes (array-seq (js/document.getElementsByClassName class))]\n       (let [node-1 (gdom/getElement id1)\n             node-2 (gdom/getElement id2)\n             idx-1 (.indexOf nodes node-1)\n             idx-2 (.indexOf nodes node-2)]\n         (if (>= idx-1 idx-2)\n           :up\n           :down)))))\n\n#?(:cljs\n   (defn rec-get-tippy-container\n     [node]\n     (if (and node (d/has-class? node \"tippy-tooltip-content\"))\n       node\n       (and node\n            (rec-get-tippy-container (gobj/get node \"parentNode\"))))))\n\n#?(:cljs\n   (defn rec-get-blocks-container\n     [node]\n     (if (and node (d/has-class? node \"blocks-container\"))\n       node\n       (and node\n            (rec-get-blocks-container (gobj/get node \"parentNode\"))))))\n\n#?(:cljs\n   (defn rec-get-blocks-content-section\n     [node]\n     (if (and node (d/has-class? node \"content\"))\n       node\n       (and node\n            (rec-get-blocks-content-section (gobj/get node \"parentNode\"))))))\n\n#?(:cljs\n   (defn get-blocks-noncollapse []\n     (->> (d/by-class \"ls-block\")\n          (filter (fn [b] (some? (gobj/get b \"offsetParent\")))))))\n\n#?(:cljs\n   (defn remove-embeded-blocks [blocks]\n     (->> blocks\n          (remove (fn [b] (= \"true\" (d/attr b \"data-embed\")))))))\n\n#?(:cljs\n   (defn get-selected-text\n     []\n     (utils/getSelectionText)))\n\n#?(:cljs (def clear-selection! selection/clearSelection))\n\n#?(:cljs\n   (defn copy-to-clipboard!\n     ([s]\n      (utils/writeClipboard (clj->js {:text s})))\n     ([s html]\n      (utils/writeClipboard (clj->js {:text s :html html})))))\n\n(defn drop-nth [n coll]\n  (keep-indexed #(when (not= %1 n) %2) coll))\n\n#?(:cljs\n   (defn react\n     [ref]\n     (if rum.core/*reactions*\n       (rum/react ref)\n       @ref)))\n\n(defn time-ms\n  []\n  #?(:cljs (tc/to-long (cljs-time.core/now))))\n\n;; Returns the milliseconds representation of the provided time, in the local timezone.\n;; For example, if you run this function at 10pm EDT in the EDT timezone on May 31st,\n;; it will return 1622433600000, which is equivalent to Mon May 31 2021 00 :00:00.\n#?(:cljs\n   (defn today-at-local-ms [hours mins secs millisecs]\n     (.setHours (js/Date. (.now js/Date)) hours mins secs millisecs)))\n\n(defn d\n  [k f]\n  (let [result (atom nil)]\n    (println (str \"Debug \" k))\n    (time (reset! result (doall (f))))\n    @result))\n\n(defn concat-without-nil\n  [& cols]\n  (->> (apply concat cols)\n       (remove nil?)))\n\n#?(:cljs\n   (defn set-title!\n     [title]\n     (set! (.-title js/document) title)))\n\n#?(:cljs\n   (defn get-block-container\n     [block-element]\n     (when block-element\n       (when-let [section (some-> (rec-get-blocks-content-section block-element)\n                                  (d/parent))]\n         (when section\n           (gdom/getElement section \"id\"))))))\n\n#?(:cljs\n   (defn get-prev-block-non-collapsed\n     [block]\n     (when-let [blocks (get-blocks-noncollapse)]\n       (when-let [index (.indexOf blocks block)]\n         (let [idx (dec index)]\n           (when (>= idx 0)\n             (nth-safe blocks idx)))))))\n\n#?(:cljs\n   (defn get-prev-block-non-collapsed-non-embed\n     [block]\n     (when-let [blocks (->> (get-blocks-noncollapse)\n                            remove-embeded-blocks)]\n       (when-let [index (.indexOf blocks block)]\n         (let [idx (dec index)]\n           (when (>= idx 0)\n             (nth-safe blocks idx)))))))\n\n#?(:cljs\n   (defn get-next-block-non-collapsed\n     [block]\n     (when-let [blocks (get-blocks-noncollapse)]\n       (when-let [index (.indexOf blocks block)]\n         (let [idx (inc index)]\n           (when (>= (count blocks) idx)\n             (nth-safe blocks idx)))))))\n\n#?(:cljs\n   (defn get-next-block-non-collapsed-skip\n     [block]\n     (when-let [blocks (get-blocks-noncollapse)]\n       (when-let [index (.indexOf blocks block)]\n         (loop [idx (inc index)]\n           (when (>= (count blocks) idx)\n             (let [block (nth-safe blocks idx)\n                   nested? (->> (array-seq (gdom/getElementsByClass \"selected\"))\n                                (some (fn [dom] (.contains dom block))))]\n               (if nested?\n                 (recur (inc idx))\n                 block))))))))\n\n(defn rand-str\n  [n]\n  #?(:cljs (-> (.toString (js/Math.random) 36)\n               (.substr 2 n))\n     :clj (->> (repeatedly #(Integer/toString (rand 36) 36))\n               (take n)\n               (apply str))))\n\n(defn unique-id\n  []\n  (str (rand-str 6) (rand-str 3)))\n\n(defn pp-str [x]\n  #_:clj-kondo/ignore\n  (with-out-str (clojure.pprint/pprint x)))\n\n(defn hiccup-keywordize\n  [hiccup]\n  (walk/postwalk\n   (fn [f]\n     (if (and (vector? f) (string? (first f)))\n       (update f 0 keyword)\n       f))\n   hiccup))\n\n#?(:cljs\n   (defn chrome?\n     []\n     (let [user-agent js/navigator.userAgent\n           vendor js/navigator.vendor]\n       (and (safe-re-find #\"Chrome\" user-agent)\n            (safe-re-find #\"Google Inc\" vendor)))))\n\n#?(:cljs\n   (defn indexeddb-check?\n     [error-handler]\n     (let [test-db \"logseq-test-db-foo-bar-baz\"\n           db (and js/window.indexedDB\n                   (js/window.indexedDB.open test-db))]\n       (when (and db (not (chrome?)))\n         (gobj/set db \"onerror\" error-handler)\n         (gobj/set db \"onsuccess\"\n                   (fn []\n                     (js/window.indexedDB.deleteDatabase test-db)))))))\n\n(defonce mac? #?(:cljs goog.userAgent/MAC\n                 :clj nil))\n\n(defonce win32? #?(:cljs goog.userAgent/WINDOWS\n                   :clj nil))\n\n#?(:cljs\n   (defn absolute-path?\n     [path]\n     (try\n       (js/window.apis.isAbsolutePath path)\n       (catch js/Error _\n         (utils/win32 path)))))\n\n(defn default-content-with-title\n  [text-format]\n  (case (name text-format)\n    \"org\"\n    \"* \"\n\n    \"- \"))\n\n#?(:cljs\n   (defn get-first-block-by-id\n     [block-id]\n     (when block-id\n       (let [block-id (str block-id)]\n         (when (uuid-string? block-id)\n           (first (array-seq (js/document.getElementsByClassName block-id))))))))\n\n#?(:cljs\n   (defn url-encode\n     [string]\n     (some-> string str (js/encodeURIComponent) (.replace \"+\" \"%20\"))))\n\n#?(:cljs\n   (defn url-decode\n     [string]\n     (some-> string str (js/decodeURIComponent))))\n\n(def windows-reserved-chars #\"[:\\\\*\\\\?\\\"<>|]+\")\n\n#?(:cljs\n   (do\n     (defn include-windows-reserved-chars?\n      [s]\n       (safe-re-find windows-reserved-chars s))\n\n     (defn create-title-property?\n       [s]\n       (and (string? s)\n            (or (include-windows-reserved-chars? s)\n                (string/includes? s \"_\")\n                (string/includes? s \"/\")\n                (string/includes? s \".\")\n                (string/includes? s \"%\")\n                (string/includes? s \"#\"))))))\n\n#?(:cljs\n   (defn search-normalize\n     \"Normalize string for searching (loose)\"\n     [s]\n     (removeAccents (.normalize (string/lower-case s) \"NFKC\"))))\n\n#?(:cljs\n   (defn file-name-sanity\n     \"Sanitize page-name for file name (strict), for file writing.\"\n     [page-name]\n     (some-> page-name\n             gp-util/page-name-sanity\n             ;; for android filesystem compatiblity\n             (string/replace #\"[\\\\#|%]+\" url-encode)\n             ;; Windows reserved path characters\n             (string/replace windows-reserved-chars url-encode)\n             (string/replace #\"/\" url-encode)\n             (string/replace \"*\" \"%2A\"))))\n\n#?(:cljs\n   (def page-name-sanity-lc\n     \"Delegate to gp-util to loosely couple app usages to graph-parser\"\n     gp-util/page-name-sanity-lc))\n\n#?(:cljs\n (defn safe-page-name-sanity-lc\n   [s]\n   (if (string? s)\n     (page-name-sanity-lc s) s)))\n\n(defn get-page-original-name\n  [page]\n  (or (:block/original-name page)\n      (:block/name page)))\n\n#?(:cljs\n   (defn add-style!\n     [style]\n     (when (some? style)\n       (let [parent-node (d/sel1 :head)\n             id \"logseq-custom-theme-id\"\n             old-link-element (d/sel1 (str \"#\" id))\n             style (if (string/starts-with? style \"http\")\n                     style\n                     (str \"data:text/css;charset=utf-8,\" (js/encodeURIComponent style)))]\n         (when old-link-element\n           (d/remove! old-link-element))\n         (let [link (->\n                     (d/create-element :link)\n                     (d/set-attr! :id id)\n                     (d/set-attr! :rel \"stylesheet\")\n                     (d/set-attr! :type \"text/css\")\n                     (d/set-attr! :href style)\n                     (d/set-attr! :media \"all\"))]\n           (d/append! parent-node link))))))\n\n(defn ->platform-shortcut\n  [keyboard-shortcut]\n  (let [result (or keyboard-shortcut \"\")\n        result (string/replace result \"left\" \"\u2190\")\n        result (string/replace result \"right\" \"\u2192\")]\n    (if mac?\n      (-> result\n          (string/replace \"Ctrl\" \"Cmd\")\n          (string/replace \"Alt\" \"Opt\"))\n      result)))\n\n(defn remove-common-preceding\n  [col1 col2]\n  (if (and (= (first col1) (first col2))\n           (seq col1))\n    (recur (rest col1) (rest col2))\n    [col1 col2]))\n\n;; fs\n(defn get-file-ext\n  [file]\n  (and\n   (string? file)\n   (string/includes? file \".\")\n   (some-> (last (string/split file #\"\\.\")) string/lower-case)))\n\n(defn get-dir-and-basename\n  [path]\n  (let [parts (string/split path \"/\")\n        basename (last parts)\n        dir (->> (butlast parts)\n                 (string/join \"/\"))]\n    [dir basename]))\n\n(defn get-relative-path\n  [current-file-path another-file-path]\n  (let [directories-f #(butlast (string/split % \"/\"))\n        parts-1 (directories-f current-file-path)\n        parts-2 (directories-f another-file-path)\n        [parts-1 parts-2] (remove-common-preceding parts-1 parts-2)\n        another-file-name (last (string/split another-file-path \"/\"))]\n    (->> (concat\n          (if (seq parts-1)\n            (repeat (count parts-1) \"..\")\n            [\".\"])\n          parts-2\n          [another-file-name])\n         (string/join \"/\"))))\n\n;; Copied from https://github.com/tonsky/datascript-todo\n#?(:clj\n   (defmacro profile\n     [k & body]\n     `(if goog.DEBUG\n        (let [k# ~k]\n          (.time js/console k#)\n          (let [res# (do ~@body)]\n            (.timeEnd js/console k#)\n            res#))\n        (do ~@body))))\n\n;; TODO: profile and profileEnd\n\n;; Copy from hiccup\n(defn escape-html\n  \"Change special characters into HTML character entities.\"\n  [text]\n  (-> text\n      (string/replace \"&\"  \"&amp;\")\n      (string/replace \"<\"  \"&lt;\")\n      (string/replace \">\"  \"&gt;\")\n      (string/replace \"\\\"\" \"&quot;\")\n      (string/replace \"'\" \"&apos;\")))\n\n(defn unescape-html\n  [text]\n  (-> text\n      (string/replace \"&amp;\" \"&\")\n      (string/replace \"&lt;\" \"<\")\n      (string/replace \"&gt;\" \">\")\n      (string/replace \"&quot;\" \"\\\"\")\n      (string/replace \"&apos;\" \"'\")))\n\n(comment\n  (= (get-relative-path \"journals/2020_11_18.org\" \"pages/grant_ideas.org\")\n     \"../pages/grant_ideas.org\")\n\n  (= (get-relative-path \"journals/2020_11_18.org\" \"journals/2020_11_19.org\")\n     \"./2020_11_19.org\")\n\n  (= (get-relative-path \"a/b/c/d/g.org\" \"a/b/c/e/f.org\")\n     \"../e/f.org\"))\n\n#?(:cljs\n   (defn select-highlight!\n     [blocks]\n     (doseq [block blocks]\n       (d/add-class! block \"selected noselect\"))))\n\n#?(:cljs\n   (defn select-unhighlight!\n     [blocks]\n     (doseq [block blocks]\n       (d/remove-class! block \"selected\" \"noselect\"))))\n\n(defn keyname [key] (str (namespace key) \"/\" (name key)))\n\n(defn batch [in max-time handler buf-atom]\n  (async/go-loop [buf buf-atom t (async/timeout max-time)]\n    (let [[v p] (async/alts! [in t])]\n      (cond\n        (or (= p t) (nil? v))\n        (let [timeout (async/timeout max-time)]\n          (handler @buf)\n          (reset! buf [])\n          (recur buf timeout))\n\n        :else\n        (do (swap! buf conj v)\n            (recur buf t))))))\n\n#?(:cljs\n   (defn trace!\n     []\n     (js/console.trace)))\n\n(defn remove-first [pred coll]\n  ((fn inner [coll]\n     (lazy-seq\n      (when-let [[x & xs] (seq coll)]\n        (if (pred x)\n          xs\n          (cons x (inner xs))))))\n   coll))\n\n(def pprint clojure.pprint/pprint)\n\n#?(:cljs\n   (defn backward-kill-word\n     [input]\n     (let [val     (.-value input)\n           current (get-selection-start input)\n           prev    (or\n                    (->> [(string/last-index-of val \\space (dec current))\n                          (string/last-index-of val \\newline (dec current))]\n                         (remove nil?)\n                         (apply max))\n                    0)\n           idx     (if (zero? prev)\n                     0\n                     (->\n                      (loop [idx prev]\n                        (if (#{\\space \\newline} (nth-safe val idx))\n                          (recur (dec idx))\n                          idx))\n                      inc))]\n       (safe-set-range-text! input \"\" idx current))))\n\n#?(:cljs\n   (defn forward-kill-word\n     [input]\n     (let [val   (.-value input)\n           current (get-selection-start input)\n           current (loop [idx current]\n                     (if (#{\\space \\newline} (nth-safe val idx))\n                       (recur (inc idx))\n                       idx))\n           idx (or (->> [(string/index-of val \\space current)\n                         (string/index-of val \\newline current)]\n                        (remove nil?)\n                        (apply min))\n                   (count val))]\n       (safe-set-range-text! input \"\" current (inc idx)))))\n\n#?(:cljs\n   (defn fix-open-external-with-shift!\n     [^js/MouseEvent e]\n     (when (and (.-shiftKey e) win32? (electron?)\n                (= (string/lower-case (.. e -target -nodeName)) \"a\")\n                (string/starts-with? (.. e -target -href) \"file:\"))\n       (.preventDefault e))))\n\n(defn classnames\n  \"Like react classnames utility:\n\n     ```\n      [:div {:class (classnames [:a :b {:c true}])}\n     ```\n  \"\n  [args]\n  (into #{} (mapcat\n             #(if (map? %)\n                (for [[k v] %]\n                  (when v (name k)))\n                [(name %)])\n             args)))\n\n#?(:cljs\n   (defn- get-dom-top\n     [node]\n     (gobj/get (.getBoundingClientRect node) \"top\")))\n\n#?(:cljs\n   (defn sort-by-height\n     [elements]\n     (sort (fn [x y]\n             (< (get-dom-top x) (get-dom-top y)))\n           elements)))\n\n#?(:cljs\n   (defn calc-delta-rect-offset\n     [^js/HTMLElement target ^js/HTMLElement container]\n     (let [target-rect (bean/->clj (.toJSON (.getBoundingClientRect target)))\n           viewport-rect {:width  (.-clientWidth container)\n                          :height (.-clientHeight container)}]\n\n       {:y (- (:height viewport-rect) (:bottom target-rect))\n        :x (- (:width viewport-rect) (:right target-rect))})))\n\n(def regex-char-esc-smap\n  (let [esc-chars \"{}[]()&^%$#!?*.+|\\\\\"]\n    (zipmap esc-chars\n            (map #(str \"\\\\\" %) esc-chars))))\n\n(defn regex-escape\n  \"Escape all regex meta chars in text.\"\n  [text]\n  (string/join (replace regex-char-esc-smap text)))\n\n(comment\n  (re-matches (re-pattern (regex-escape \"$u^8(d)+w.*[dw]d?\")) \"$u^8(d)+w.*[dw]d?\"))\n\n#?(:cljs\n   (defn meta-key-name []\n     (if mac? \"Cmd\" \"Ctrl\")))\n\n#?(:cljs\n   (defn meta-key? [e]\n     (if mac?\n       (gobj/get e \"metaKey\")\n       (gobj/get e \"ctrlKey\"))))\n\n#?(:cljs\n   (defn right-click?\n     [e]\n     (let [which (gobj/get e \"which\")\n           button (gobj/get e \"button\")]\n       (or (= which 3)\n           (= button 2)))))\n\n(def keyboard-height (atom nil))\n#?(:cljs\n   (defn scroll-editor-cursor\n     [^js/HTMLElement el & {:keys [to-vw-one-quarter?]}]\n     (when (and el (or (native-platform?) mobile?))\n       (let [box-rect    (.getBoundingClientRect el)\n             box-top     (.-top box-rect)\n             box-bottom  (.-bottom box-rect)\n\n             header-height (-> (gdom/getElementByClass \"cp__header\")\n                               .-clientHeight)\n\n             main-node   (app-scroll-container-node)\n             scroll-top  (.-scrollTop main-node)\n\n             current-pos (get-selection-start el)\n             mock-text   (some-> (gdom/getElement \"mock-text\")\n                                 gdom/getChildren\n                                 array-seq\n                                 (nth-safe current-pos))\n             offset-top   (and mock-text (.-offsetTop mock-text))\n             offset-height (and mock-text (.-offsetHeight mock-text))\n\n             cursor-y    (if offset-top (+ offset-top box-top offset-height 2) box-bottom)\n             vw-height   (or (.-height js/window.visualViewport)\n                             (.-clientHeight js/document.documentElement))\n             ;; mobile toolbar height: 40px\n             scroll      (- cursor-y (- vw-height (+ @keyboard-height 40)))]\n         (cond\n           (and to-vw-one-quarter? (> cursor-y (* vw-height 0.4)))\n           (set! (.-scrollTop main-node) (+ scroll-top (- cursor-y (/ vw-height 4))))\n\n           (and (< cursor-y (+ header-height offset-height 4)) ;; 4 is top+bottom padding for per line\n                (>= cursor-y header-height))\n           (.scrollBy main-node (bean/->js {:top (- (+ offset-height 4))}))\n\n           (< cursor-y header-height)\n           (let [_ (.scrollIntoView el true)\n                 main-node (app-scroll-container-node)\n                 scroll-top (.-scrollTop main-node)]\n             (set! (.-scrollTop main-node) (- scroll-top (/ vw-height 4))))\n\n           (> scroll 0)\n           (set! (.-scrollTop main-node) (+ scroll-top scroll))\n\n           :else\n           nil)))))\n\n#?(:cljs\n   (defn sm-breakpoint?\n     []\n     (< (.-offsetWidth js/document.documentElement) 640)))\n\n#?(:cljs\n   (defn event-is-composing?\n     \"Check if keydown event is a composing (IME) event.\n      Ignore the IME process by default.\"\n     ([e]\n      (event-is-composing? e false))\n     ([e include-process?]\n      (let [event-composing? (gobj/getValueByKeys e \"event_\" \"isComposing\")]\n        (if include-process?\n          (or event-composing?\n              (= (gobj/get e \"keyCode\") 229)\n              (= (gobj/get e \"key\") \"Process\"))\n          event-composing?)))))\n\n#?(:cljs\n   (defn onchange-event-is-composing?\n     \"Check if onchange event of Input is a composing (IME) event.\n       Always ignore the IME process.\"\n     [e]\n     (gobj/getValueByKeys e \"nativeEvent\" \"isComposing\"))) ;; No keycode available\n\n#?(:cljs\n   (defn open-url\n     [url]\n     (let [route? (or (string/starts-with? url\n                                           (string/replace js/location.href js/location.hash \"\"))\n                      (string/starts-with? url \"#\"))]\n       (if (and (not route?) (electron?))\n         (js/window.apis.openExternal url)\n         (set! (.-href js/window.location) url)))))\n\n(defn collapsed?\n  [block]\n  (:block/collapsed? block))\n\n#?(:cljs\n   (defn atom? [v]\n     (instance? Atom v)))\n\n;; https://stackoverflow.com/questions/32511405/how-would-time-ago-function-implementation-look-like-in-clojure\n#?(:cljs\n   (defn time-ago [time]\n     (let [units [{:name \"second\" :limit 60 :in-second 1}\n                  {:name \"minute\" :limit 3600 :in-second 60}\n                  {:name \"hour\" :limit 86400 :in-second 3600}\n                  {:name \"day\" :limit 604800 :in-second 86400}\n                  {:name \"week\" :limit 2629743 :in-second 604800}\n                  {:name \"month\" :limit 31556926 :in-second 2629743}\n                  {:name \"year\" :limit js/Number.MAX_SAFE_INTEGER :in-second 31556926}]\n           diff (t/in-seconds (t/interval time (t/now)))]\n       (if (< diff 5)\n         \"just now\"\n         (let [unit (first (drop-while #(or (>= diff (:limit %))\n                                            (not (:limit %)))\n                                       units))]\n           (-> (/ diff (:in-second unit))\n               Math/floor\n               int\n               (#(str % \" \" (:name unit) (when (> % 1) \"s\") \" ago\"))))))))\n"]}