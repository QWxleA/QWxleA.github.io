goog.provide('frontend.publishing.html');
frontend.publishing.html.publishing_html = (function frontend$publishing$html$publishing_html(transit_db,app_state){
var map__49934 = new cljs.core.Keyword(null,"project","project",1124394579).cljs$core$IFn$_invoke$arity$1(frontend.state.get_config.cljs$core$IFn$_invoke$arity$0());
var map__49934__$1 = cljs.core.__destructure_map(map__49934);
var icon = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49934__$1,new cljs.core.Keyword(null,"icon","icon",1679606541));
var name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49934__$1,new cljs.core.Keyword(null,"name","name",1843675177));
var alias = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49934__$1,new cljs.core.Keyword(null,"alias","alias",-2039751630));
var title = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49934__$1,new cljs.core.Keyword(null,"title","title",636505583));
var description = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49934__$1,new cljs.core.Keyword(null,"description","description",-1428560544));
var url = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49934__$1,new cljs.core.Keyword(null,"url","url",276297046));
var icon__$1 = (function (){var or__5043__auto__ = icon;
if(cljs.core.truth_(or__5043__auto__)){
return or__5043__auto__;
} else {
return "static/img/logo.png";
}
})();
var project = (function (){var or__5043__auto__ = alias;
if(cljs.core.truth_(or__5043__auto__)){
return or__5043__auto__;
} else {
return name;
}
})();
return ["<!DOCTYPE html>\n",["<head","",">","<meta charset=\"utf-8\" />","<meta content=\"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\" name=\"viewport\" />","<link href=\"static/css/tabler-icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />","<link href=\"static/css/style.css\" rel=\"stylesheet\" type=\"text/css\" />","<link href=\"static/css/export.css\" rel=\"stylesheet\" type=\"text/css\" />","<","link",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"href","href",-793805698),icon__$1,new cljs.core.Keyword(null,"type","type",1174270348),"image/png",new cljs.core.Keyword(null,"rel","rel",1378823488),"shortcut icon"], null)))," />","<","link",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"href","href",-793805698),icon__$1,new cljs.core.Keyword(null,"sizes","sizes",-273528126),"192x192",new cljs.core.Keyword(null,"rel","rel",1378823488),"shortcut icon"], null)))," />","<","link",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"href","href",-793805698),icon__$1,new cljs.core.Keyword(null,"rel","rel",1378823488),"apple-touch-icon"], null)))," />","<","meta",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"name","name",1843675177),"apple-mobile-web-app-title",new cljs.core.Keyword(null,"content","content",15833224),project], null)))," />","<meta content=\"yes\" name=\"apple-mobile-web-app-capable\" />","<meta content=\"yes\" name=\"apple-touch-fullscreen\" />","<meta content=\"black-translucent\" name=\"apple-mobile-web-app-status-bar-style\" />","<meta content=\"yes\" name=\"mobile-web-app-capable\" />","<","meta",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"content","content",15833224),title,new cljs.core.Keyword(null,"property","property",-1114278232),"og:title"], null)))," />","<meta content=\"site\" property=\"og:type\" />",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_html((cljs.core.truth_(url)?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"meta","meta",1499536964),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"content","content",15833224),url,new cljs.core.Keyword(null,"property","property",-1114278232),"og:url"], null)], null):null))),"<","meta",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"content","content",15833224),icon__$1,new cljs.core.Keyword(null,"property","property",-1114278232),"og:image"], null)))," />","<","meta",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"content","content",15833224),description,new cljs.core.Keyword(null,"property","property",-1114278232),"og:description"], null)))," />",(function (){var attrs50107 = title;
if(cljs.core.map_QMARK_(attrs50107)){
return ["<title",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null], null),attrs50107], 0))))," />"].join('');
} else {
return ["<title>",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_html(attrs50107)),"</title>"].join('');
}
})(),"<","meta",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"content","content",15833224),project,new cljs.core.Keyword(null,"property","property",-1114278232),"og:site_name"], null)))," />","<","meta",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null,new cljs.core.Keyword(null,"description","description",-1428560544),description], null)))," />","</head>","<body","",">","<div id=\"root\"></div>",(function (){var attrs50114 = frontend.util.format.cljs$core$IFn$_invoke$arity$variadic("window.logseq_db=%s",cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([JSON.stringify(frontend.util.escape_html(transit_db))], 0));
if(cljs.core.map_QMARK_(attrs50114)){
return ["<script",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null], null),attrs50114], 0)))),">","</script>"].join('');
} else {
return ["<script>",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_html(attrs50114)),"</script>"].join('');
}
})(),(function (){var attrs50115 = ["window.logseq_state=",cljs.core.str.cljs$core$IFn$_invoke$arity$1(JSON.stringify(app_state))].join('');
if(cljs.core.map_QMARK_(attrs50115)){
return ["<script",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_attr_map(cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),null,new cljs.core.Keyword(null,"class","class",-2030961996),null], null),attrs50115], 0)))),">","</script>"].join('');
} else {
return ["<script>",cljs.core.str.cljs$core$IFn$_invoke$arity$1(hiccups.runtime.render_html(attrs50115)),"</script>"].join('');
}
})(),"<script type=\"text/javascript\">// Single Page Apps for GitHub Pages\n      // https://github.com/rafgraph/spa-github-pages\n      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License\n      // ----------------------------------------------------------------------\n      // This script checks to see if a redirect is present in the query string\n      // and converts it back into the correct url and adds it to the\n      // browser's history using window.history.replaceState(...),\n      // which won't cause the browser to attempt to load the new url.\n      // When the single page app is loaded further down in this file,\n      // the correct url will be waiting in the browser's history for\n      // the single page app to route accordingly.\n      (function(l) {\n        if (l.search) {\n          var q = {};\n          l.search.slice(1).split('&').forEach(function(v) {\n            var a = v.split('=');\n            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');\n          });\n          if (q.p !== undefined) {\n            window.history.replaceState(null, null,\n              l.pathname.slice(0, -1) + (q.p || '') +\n              (q.q ? ('?' + q.q) : '') +\n              l.hash\n            );\n          }\n        }\n      }(window.location))</script>","<script src=\"static/js/main.js\"></script>","<script src=\"static/js/highlight.min.js\"></script>","<script src=\"static/js/interact.min.js\"></script>","<script src=\"static/js/code-editor.js\"></script>","</body>"].join('')].join('');
});

//# sourceMappingURL=frontend.publishing.html.js.map
