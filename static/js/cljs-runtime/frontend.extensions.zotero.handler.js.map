{"version":3,"sources":["frontend/extensions/zotero/handler.cljs"],"mappings":"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","names":["frontend.extensions.zotero.handler/add","page-name","type","item","c__41861__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__41862__auto__","switch__41838__auto__","state_79146","state_val_79147","inst_79049","statearr-79149","inst_79140","statearr-79151","inst_79106","inst_79085","cljs.core/seq","statearr-79153","statearr-79155","statearr-79157","inst_79040","inst_79041","inst_79042","statearr-79160","G__79161","cljs.core/Keyword","statearr-79163","statearr-79164","js/Error","inst_79087","inst_79088","inst_79090","inst_79091","statearr-79167","statearr-79168","statearr-79169","statearr-79170","inst_79071","inst_79084","inst_79086","statearr-79172","statearr-79176","inst_79130","statearr-79177","inst_79114","cljs.core/chunk-first","inst_79115","cljs.core/chunk-rest","inst_79116","cljs.core/count","statearr-79178","statearr-79179","inst_79078","inst_79119","cljs.core/first","inst_79120","inst_79121","inst_79122","cljs.core/PersistentHashMap","inst_79123","inst_79124","cljs.core/next","statearr-79180","statearr-79181","inst_79063","statearr-79182","statearr-79183","statearr-79184","inst_79112","cljs.core/chunked-seq?","statearr-79186","statearr-79187","inst_79047","statearr-79188","inst_79132","statearr-79189","inst_79134","statearr-79190","inst_79127","statearr-79192","inst_79068","inst_79070","inst_79072","statearr-79195","statearr-79196","statearr-79197","statearr-79198","inst_79058","statearr-79199","inst_79046","statearr-79200","G__79201","statearr-79202","statearr-79203","inst_79137","statearr-79204","statearr-79205","inst_79060","statearr-79206","inst_79053","statearr-79207","inst_79052","statearr-79211","G__79212","statearr-79213","statearr-79214","inst_79066","cljs.core.async.impl.ioc-helpers/take!","inst_79093","cljs.core/-nth","inst_79097","inst_79098","inst_79099","inst_79100","inst_79102","tmp79208","tmp79209","tmp79210","statearr-79215","statearr-79216","inst_79143","cljs.core.async.impl.ioc-helpers/return-chan","statearr-79217","inst_79055","statearr-79218","inst_79074","inst_79075","inst_79076","inst_79077","statearr-79219","statearr-79220","statearr-79221","statearr-79222","statearr-79223","statearr-79225","statearr-79243","state-machine__41839__auto__","ret-value__41840__auto__","result__41841__auto__","cljs.core/keyword-identical?","ex__41842__auto__","e79249","statearr-79250","statearr-79251","state__41863__auto__","statearr-79252","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","frontend.extensions.zotero.api/notes","frontend.extensions.zotero.api/attachments","frontend.extensions.zotero.setting/setting","cljs.core.map","frontend.extensions.zotero.extractor/extract","cljs.core.remove","clojure.string/blank?","cljs.core/not-empty","frontend.handler.editor/api-insert-new-block!","frontend.extensions.zotero.handler/handle-command-zotero","id","frontend.state/set-editor-show-zotero!","frontend.handler.editor/insert-command!","frontend.extensions.zotero.handler/create-abstract-note!","abstract-note","block","frontend.extensions.zotero.handler/create-page","properties","frontend.handler.page.create_BANG_","var_args","G__79258","frontend.extensions.zotero.handler/create-zotero-page","p__79260","map__79261","cljs.core/--destructure-map","cljs.core.get","frontend.extensions.zotero.handler.create_zotero_page","block-dom-id","insert-command?","notification?","state_79307","state_val_79308","inst_79282","statearr-79310","inst_79265","inst_79264","inst_79263","inst_79266","inst_79267","inst_79268","inst_79269","statearr-79312","statearr-79313","statearr-79314","inst_79286","inst_79287","inst_79288","statearr-79315","inst_79305","inst_79301","inst_79302","statearr-79316","inst_79277","inst_79278","inst_79279","inst_79280","statearr-79317","inst_79284","statearr-79318","inst_79299","statearr-79319","statearr-79320","statearr-79321","inst_79271","statearr-79322","statearr-79323","statearr-79324","inst_79293","statearr-79325","statearr-79326","statearr-79327","inst_79273","map__79262","inst_79274","statearr-79328","statearr-79329","inst_79295","inst_79296","statearr-79330","statearr-79331","inst_79290","inst_79291","statearr-79332","statearr-79333","e79334","statearr-79335","statearr-79336","statearr-79337","frontend.db/page-exists?","clojure.string/lower-case","frontend.handler.page/delete!","frontend.handler.editor.save_current_block_BANG_","frontend.handler.notification.show_BANG_","frontend.extensions.zotero.handler/add-all","progress","state_79395","state_val_79396","inst_79391","statearr-79397","inst_79338","inst_79393","inst_79366","inst_79381","inst_79382","inst_79383","inst_79347","inst_79348","inst_79349","inst_79350","statearr-79398","statearr-79399","inst_79375","inst_79376","inst_79377","inst_79378","inst_79379","statearr-79400","statearr-79401","statearr-79402","inst_79352","inst_79353","statearr-79403","statearr-79404","inst_79370","inst_79371","inst_79372","statearr-79406","statearr-79407","inst_79340","inst_79341","inst_79346","statearr-79408","statearr-79409","inst_79389","statearr-79410","inst_79368","statearr-79411","statearr-79412","inst_79355","inst_79356","inst_79357","inst_79358","inst_79359","inst_79386","statearr-79416","statearr-79417","inst_79361","inst_79362","inst_79363","tmp79413","tmp79414","tmp79415","statearr-79418","statearr-79419","statearr-79420","e79421","statearr-79422","statearr-79423","statearr-79424","frontend.extensions.zotero.api/all-top-items","cljs.core/reset!","cljs.core.swap_BANG_","cljs.core/inc"],"sourcesContent":["(ns frontend.extensions.zotero.handler\n  (:require [cljs.core.async :refer [<! go]]\n            [clojure.string :as str]\n            [frontend.extensions.zotero.api :as zotero-api]\n            [frontend.extensions.zotero.extractor :as extractor]\n            [frontend.extensions.zotero.setting :as setting]\n            [frontend.handler.notification :as notification]\n            [frontend.state :as state]\n            [frontend.handler.editor :as editor-handler]\n            [frontend.handler.page :as page-handler]\n            [frontend.db :as db]))\n\n(defn add [page-name type item]\n  (go\n    (let [key         (:key item)\n          num-children (-> item :meta :num-children)\n          api-fn      (case type\n                        :notes       zotero-api/notes\n                        :attachments zotero-api/attachments)\n          first-block (case type\n                        :notes       (setting/setting :notes-block-text)\n                        :attachments (setting/setting :attachments-block-text))\n          should-add? (case type\n                        :notes       (setting/setting :include-notes?)\n                        :attachments (setting/setting :include-attachments?))]\n      (when (and should-add? (> num-children 0))\n        (let [items    (<! (api-fn key))\n              md-items (->> items\n                            (map extractor/extract)\n                            (remove str/blank?))]\n          (when (not-empty md-items)\n            (when-let [id (:block/uuid\n                           (editor-handler/api-insert-new-block!\n                            first-block {:page page-name}))]\n              (doseq [md-item md-items]\n                (editor-handler/api-insert-new-block!\n                 md-item\n                 {:block-uuid id\n                  :sibling?   false\n                  :before?    false})))))))))\n\n(defn handle-command-zotero\n  [id page-name]\n  (state/set-editor-show-zotero! false)\n  (editor-handler/insert-command! id (str \"[[\" page-name \"]]\") nil {}))\n\n(defn- create-abstract-note!\n  [page-name abstract-note]\n  (when-not (str/blank? abstract-note)\n    (let [block (editor-handler/api-insert-new-block!\n                 \"[[Abstract]]\" {:page page-name})]\n      (editor-handler/api-insert-new-block!\n       abstract-note {:block-uuid (:block/uuid block)\n                      :sibling? false}))))\n\n(defn- create-page [page-name properties]\n  (page-handler/create!\n   page-name\n   {:redirect? false\n    :format :markdown\n    :create-first-block? false\n    :properties properties}))\n\n(defn create-zotero-page\n  ([item]\n   (create-zotero-page item {}))\n  ([item {:keys [block-dom-id insert-command? notification?]\n          :or {insert-command? true notification? true}}]\n   (go\n     (let [{:keys [page-name properties abstract-note]} (extractor/extract item)]\n\n       (if (db/page-exists? (str/lower-case page-name))\n         (if (setting/setting :overwrite-mode?)\n           (page-handler/delete!\n            page-name\n            (fn [] (create-page page-name properties)))\n           (editor-handler/api-insert-new-block!\n            \"\"\n            {:page       page-name\n             :properties properties}))\n         (create-page page-name properties))\n\n       (create-abstract-note! page-name abstract-note)\n\n       (<! (add page-name :attachments item))\n\n       (<! (add page-name :notes item))\n\n       (when insert-command?\n         (handle-command-zotero block-dom-id page-name)\n         (editor-handler/save-current-block!))\n\n       (when notification?\n         (notification/show! (str \"Successfully added zotero item to page \" page-name) :success))))))\n\n(defn add-all [progress]\n  (go\n    (let [all-items (<! (zotero-api/all-top-items))]\n      (reset! progress 30)\n      (doseq [item all-items]\n        (<! (create-zotero-page item {:insert-command? false :notification? false}))\n        (swap! progress inc)))))\n"]}