{"version":3,"sources":["frontend/extensions/zotero/handler.cljs"],"mappings":"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","names":["frontend.extensions.zotero.handler/add","page-name","type","item","c__27595__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__27596__auto__","switch__27572__auto__","state_48545","state_val_48547","inst_48448","statearr-48549","inst_48537","statearr-48552","inst_48489","inst_48506","cljs.core/seq","statearr-48553","statearr-48554","statearr-48555","inst_48433","inst_48438","inst_48439","statearr-48556","G__48557","cljs.core/Keyword","statearr-48558","statearr-48559","js/Error","inst_48492","inst_48491","inst_48494","inst_48495","statearr-48562","statearr-48563","statearr-48564","statearr-48565","inst_48472","inst_48486","inst_48490","statearr-48568","statearr-48569","inst_48526","statearr-48570","inst_48510","cljs.core/chunk-first","inst_48511","cljs.core/chunk-rest","inst_48512","cljs.core/count","statearr-48571","statearr-48572","inst_48480","inst_48515","cljs.core/first","inst_48516","inst_48517","inst_48518","cljs.core/PersistentHashMap","inst_48519","inst_48520","cljs.core/next","statearr-48573","statearr-48574","inst_48464","statearr-48575","statearr-48576","statearr-48577","inst_48508","cljs.core/chunked-seq?","statearr-48582","statearr-48583","inst_48446","statearr-48586","inst_48528","statearr-48587","inst_48530","statearr-48588","inst_48523","statearr-48589","inst_48470","inst_48471","inst_48473","statearr-48590","statearr-48591","statearr-48592","statearr-48593","inst_48457","statearr-48594","inst_48445","statearr-48595","G__48596","statearr-48597","statearr-48598","inst_48534","statearr-48599","statearr-48600","inst_48459","statearr-48601","inst_48452","statearr-48602","inst_48451","statearr-48608","G__48609","statearr-48610","statearr-48611","inst_48468","cljs.core.async.impl.ioc-helpers/take!","inst_48498","cljs.core/-nth","inst_48499","inst_48500","inst_48501","inst_48502","inst_48503","tmp48604","tmp48605","tmp48606","statearr-48614","statearr-48615","inst_48540","cljs.core.async.impl.ioc-helpers/return-chan","statearr-48618","inst_48454","statearr-48619","inst_48476","inst_48477","inst_48478","inst_48479","statearr-48620","statearr-48621","statearr-48622","statearr-48623","statearr-48624","statearr-48625","statearr-48626","state-machine__27573__auto__","ret-value__27574__auto__","result__27575__auto__","cljs.core/keyword-identical?","ex__27576__auto__","e48627","statearr-48628","statearr-48629","state__27597__auto__","statearr-48630","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","frontend.extensions.zotero.api/notes","frontend.extensions.zotero.api/attachments","frontend.extensions.zotero.setting/setting","cljs.core.map","frontend.extensions.zotero.extractor/extract","cljs.core.remove","clojure.string/blank?","cljs.core/not-empty","frontend.handler.editor/api-insert-new-block!","frontend.extensions.zotero.handler/handle-command-zotero","id","frontend.state/set-editor-show-zotero!","frontend.handler.editor/insert-command!","frontend.extensions.zotero.handler/create-abstract-note!","abstract-note","block","frontend.extensions.zotero.handler/create-page","properties","frontend.handler.page.create_BANG_","var_args","G__48640","frontend.extensions.zotero.handler/create-zotero-page","p__48641","map__48642","cljs.core/--destructure-map","cljs.core.get","frontend.extensions.zotero.handler.create_zotero_page","block-dom-id","insert-command?","notification?","state_48689","state_val_48690","inst_48663","statearr-48691","inst_48646","inst_48645","inst_48644","inst_48647","inst_48648","inst_48649","inst_48650","statearr-48692","statearr-48693","statearr-48694","inst_48667","inst_48668","inst_48669","statearr-48695","inst_48687","inst_48683","inst_48684","statearr-48696","inst_48658","inst_48659","inst_48660","inst_48661","statearr-48699","inst_48665","statearr-48700","inst_48681","statearr-48701","statearr-48702","statearr-48703","inst_48653","statearr-48704","statearr-48705","statearr-48706","inst_48675","statearr-48707","statearr-48708","statearr-48709","inst_48655","map__48643","inst_48656","statearr-48710","statearr-48711","inst_48677","inst_48678","statearr-48712","statearr-48713","inst_48671","inst_48673","statearr-48714","statearr-48716","e48717","statearr-48718","statearr-48719","statearr-48720","frontend.db/page-exists?","clojure.string/lower-case","frontend.handler.page/delete!","frontend.handler.editor.save_current_block_BANG_","frontend.handler.notification.show_BANG_","frontend.extensions.zotero.handler/add-all","progress","state_48782","state_val_48783","inst_48777","statearr-48786","inst_48722","inst_48780","inst_48751","inst_48767","inst_48768","inst_48769","inst_48731","inst_48732","inst_48733","inst_48734","statearr-48792","statearr-48794","inst_48761","inst_48762","inst_48763","inst_48764","inst_48765","statearr-48801","statearr-48803","statearr-48805","inst_48736","inst_48737","statearr-48809","statearr-48810","inst_48756","inst_48757","inst_48758","statearr-48820","statearr-48821","inst_48724","inst_48725","inst_48730","statearr-48825","statearr-48829","inst_48775","statearr-48833","inst_48753","statearr-48836","statearr-48838","inst_48739","inst_48740","inst_48741","inst_48742","inst_48743","inst_48772","statearr-48847","statearr-48848","inst_48745","inst_48746","inst_48747","tmp48844","tmp48845","tmp48846","statearr-48851","statearr-48857","statearr-48861","e48862","statearr-48863","statearr-48864","statearr-48865","frontend.extensions.zotero.api/all-top-items","cljs.core/reset!","cljs.core.swap_BANG_","cljs.core/inc"],"sourcesContent":["(ns frontend.extensions.zotero.handler\n  (:require [cljs.core.async :refer [<! go]]\n            [clojure.string :as str]\n            [frontend.extensions.zotero.api :as zotero-api]\n            [frontend.extensions.zotero.extractor :as extractor]\n            [frontend.extensions.zotero.setting :as setting]\n            [frontend.handler.notification :as notification]\n            [frontend.state :as state]\n            [frontend.handler.editor :as editor-handler]\n            [frontend.handler.page :as page-handler]\n            [frontend.db :as db]))\n\n(defn add [page-name type item]\n  (go\n    (let [key         (:key item)\n          num-children (-> item :meta :num-children)\n          api-fn      (case type\n                        :notes       zotero-api/notes\n                        :attachments zotero-api/attachments)\n          first-block (case type\n                        :notes       (setting/setting :notes-block-text)\n                        :attachments (setting/setting :attachments-block-text))\n          should-add? (case type\n                        :notes       (setting/setting :include-notes?)\n                        :attachments (setting/setting :include-attachments?))]\n      (when (and should-add? (> num-children 0))\n        (let [items    (<! (api-fn key))\n              md-items (->> items\n                            (map extractor/extract)\n                            (remove str/blank?))]\n          (when (not-empty md-items)\n            (when-let [id (:block/uuid\n                           (editor-handler/api-insert-new-block!\n                            first-block {:page page-name}))]\n              (doseq [md-item md-items]\n                (editor-handler/api-insert-new-block!\n                 md-item\n                 {:block-uuid id\n                  :sibling?   false\n                  :before?    false})))))))))\n\n(defn handle-command-zotero\n  [id page-name]\n  (state/set-editor-show-zotero! false)\n  (editor-handler/insert-command! id (str \"[[\" page-name \"]]\") nil {}))\n\n(defn- create-abstract-note!\n  [page-name abstract-note]\n  (when-not (str/blank? abstract-note)\n    (let [block (editor-handler/api-insert-new-block!\n                 \"[[Abstract]]\" {:page page-name})]\n      (editor-handler/api-insert-new-block!\n       abstract-note {:block-uuid (:block/uuid block)\n                      :sibling? false}))))\n\n(defn- create-page [page-name properties]\n  (page-handler/create!\n   page-name\n   {:redirect? false\n    :format :markdown\n    :create-first-block? false\n    :properties properties}))\n\n(defn create-zotero-page\n  ([item]\n   (create-zotero-page item {}))\n  ([item {:keys [block-dom-id insert-command? notification?]\n          :or {insert-command? true notification? true}}]\n   (go\n     (let [{:keys [page-name properties abstract-note]} (extractor/extract item)]\n\n       (if (db/page-exists? (str/lower-case page-name))\n         (if (setting/setting :overwrite-mode?)\n           (page-handler/delete!\n            page-name\n            (fn [] (create-page page-name properties)))\n           (editor-handler/api-insert-new-block!\n            \"\"\n            {:page       page-name\n             :properties properties}))\n         (create-page page-name properties))\n\n       (create-abstract-note! page-name abstract-note)\n\n       (<! (add page-name :attachments item))\n\n       (<! (add page-name :notes item))\n\n       (when insert-command?\n         (handle-command-zotero block-dom-id page-name)\n         (editor-handler/save-current-block!))\n\n       (when notification?\n         (notification/show! (str \"Successfully added zotero item to page \" page-name) :success))))))\n\n(defn add-all [progress]\n  (go\n    (let [all-items (<! (zotero-api/all-top-items))]\n      (reset! progress 30)\n      (doseq [item all-items]\n        (<! (create-zotero-page item {:insert-command? false :notification? false}))\n        (swap! progress inc)))))\n"]}