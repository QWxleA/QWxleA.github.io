{
"version":3,
"file":"module$node_modules$fs_extra$lib$ensure$link.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,4CAAA,CAAiE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGnGC,MAAAA,CAAIH,OAAA,CAAQ,wCAAR,CAAwBI,CAAAA,YAClC,OAAMC,KAAOL,OAAA,CAAQ,2CAAR,CAAb,CACMM,GAAKN,OAAA,CAAQ,6CAAR,CADX,CAEMO,MAAQP,OAAA,CAAQ,+CAAR,CAFd,CAGMQ,WAAaR,OAAA,CAAQ,oDAAR,CAA0BQ,CAAAA,UAmD7CP,OAAOC,CAAAA,OAAP,CAAiB,CACfO,WAAYN,MAAA,CAlDdM,QAAoB,CAACC,OAAD,CAAUC,OAAV,CAAmBC,QAAnB,CAA6B,CAC/CC,QAASA,SAAS,CAACH,OAAD;AAAUC,OAAV,CAAmB,CACnCL,EAAGQ,CAAAA,IAAH,CAAQJ,OAAR,CAAiBC,OAAjB,CAA0BI,GAAA,EAAO,CAC/B,GAAIA,GAAJ,CAAS,MAAOH,SAAA,CAASG,GAAT,CAChBH,SAAA,CAAS,IAAT,CAF+B,CAAjC,CADmC,CAOrCJ,UAAA,CAAWG,OAAX,CAAoB,CAACI,YAAD,CAAMC,iBAAN,CAAA,EAA4B,CAC9C,GAAID,YAAJ,CAAS,MAAOH,SAAA,CAASG,YAAT,CAChB,IAAIC,iBAAJ,CAAuB,MAAOJ,SAAA,CAAS,IAAT,CAC9BN,GAAGW,CAAAA,KAAH,CAASP,OAAT,CAAmBK,YAAD,EAAS,CACzB,GAAIA,YAAJ,CAEE,MADAA,aAAIG,CAAAA,OACG,CADOH,YAAIG,CAAAA,OAAQC,CAAAA,OAAZ,CAAoB,OAApB,CAA6B,YAA7B,CACP,CAAAP,QAAA,CAASG,YAAT,CAGT,OAAMK,IAAMf,IAAKgB,CAAAA,OAAL,CAAaV,OAAb,CACZH,WAAA,CAAWY,GAAX,CAAgB,CAACL,YAAD,CAAMO,SAAN,CAAA,EAAoB,CAClC,GAAIP,YAAJ,CAAS,MAAOH,SAAA,CAASG,YAAT,CAChB,IAAIO,SAAJ,CAAe,MAAOT,SAAA,CAASH,OAAT;AAAkBC,OAAlB,CACtBJ,MAAMgB,CAAAA,MAAN,CAAaH,GAAb,CAAkBL,GAAA,EAAO,CACvB,GAAIA,GAAJ,CAAS,MAAOH,SAAA,CAASG,GAAT,CAChBF,SAAA,CAASH,OAAT,CAAkBC,OAAlB,CAFuB,CAAzB,CAHkC,CAApC,CAPyB,CAA3B,CAH8C,CAAhD,CAR+C,CAkDnC,CADG,CAEfa,eArBFA,QAAwB,CAACd,OAAD,CAAUC,OAAV,CAAmB,CAEzC,GAD0BK,CAAAV,EAAGmB,CAAAA,UAAHT,CAAcL,OAAdK,CAC1B,CAAA,CAEA,GAAI,CACFV,EAAGoB,CAAAA,SAAH,CAAahB,OAAb,CADE,CAEF,MAAOK,GAAP,CAAY,CAEZ,KADAA,IAAIG,CAAAA,OACEH,CADQA,GAAIG,CAAAA,OAAQC,CAAAA,OAAZ,CAAoB,OAApB,CAA6B,YAA7B,CACRJ,CAAAA,GAAN,CAFY,CAKd,IAAMK,IAAMf,IAAKgB,CAAAA,OAAL,CAAaV,OAAb,CAEZ,IADkBL,EAAGmB,CAAAA,UAAHH,CAAcF,GAAdE,CAClB,CAAe,MAAOhB,GAAGqB,CAAAA,QAAH,CAAYjB,OAAZ,CAAqBC,OAArB,CACtBJ,MAAMqB,CAAAA,UAAN,CAAiBR,GAAjB,CAEA,OAAOd,GAAGqB,CAAAA,QAAH,CAAYjB,OAAZ,CAAqBC,OAArB,CAdP,CAFyC,CAmB1B,CA1DwF;",
"sources":["node_modules/fs-extra/lib/ensure/link.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$fs_extra$lib$ensure$link\"] = function(global,require,module,exports) {\n'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createLink (srcpath, dstpath, callback) {\n  function makeLink (srcpath, dstpath) {\n    fs.link(srcpath, dstpath, err => {\n      if (err) return callback(err)\n      callback(null)\n    })\n  }\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureLink')\n        return callback(err)\n      }\n\n      const dir = path.dirname(dstpath)\n      pathExists(dir, (err, dirExists) => {\n        if (err) return callback(err)\n        if (dirExists) return makeLink(srcpath, dstpath)\n        mkdir.mkdirs(dir, err => {\n          if (err) return callback(err)\n          makeLink(srcpath, dstpath)\n        })\n      })\n    })\n  })\n}\n\nfunction createLinkSync (srcpath, dstpath) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  try {\n    fs.lstatSync(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","u","fromCallback","path","fs","mkdir","pathExists","createLink","srcpath","dstpath","callback","makeLink","link","err","destinationExists","lstat","message","replace","dir","dirname","dirExists","mkdirs","createLinkSync","existsSync","lstatSync","linkSync","mkdirsSync"]
}
