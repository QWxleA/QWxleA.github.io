shadow$provide.module$node_modules$jszip$lib$utf8=function(global,require,module,exports){function Utf8DecodeWorker(){GenericWorker.call(this,"utf-8 decode");this.leftOver=null}function Utf8EncodeWorker(){GenericWorker.call(this,"utf-8 encode")}var utils=require("module$node_modules$jszip$lib$utils"),support=require("module$node_modules$jszip$lib$support"),nodejsUtils=require("module$node_modules$jszip$lib$nodejsUtils"),GenericWorker=require("module$node_modules$jszip$lib$stream$GenericWorker"),_utf8len=
Array(256);for(global=0;256>global;global++)_utf8len[global]=252<=global?6:248<=global?5:240<=global?4:224<=global?3:192<=global?2:1;_utf8len[254]=_utf8len[254]=1;exports.utf8encode=function(str){if(support.nodebuffer)return nodejsUtils.newBufferFrom(str,"utf-8");var m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){var c=str.charCodeAt(m_pos);if(55296===(c&64512)&&m_pos+1<str_len){var c2=str.charCodeAt(m_pos+1);56320===(c2&64512)&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++)}buf_len+=
128>c?1:2048>c?2:65536>c?3:4}var buf=support.uint8array?new Uint8Array(buf_len):Array(buf_len);for(m_pos=i=0;i<buf_len;m_pos++)c=str.charCodeAt(m_pos),55296===(c&64512)&&m_pos+1<str_len&&(c2=str.charCodeAt(m_pos+1),56320===(c2&64512)&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++)),128>c?buf[i++]=c:(2048>c?buf[i++]=192|c>>>6:(65536>c?buf[i++]=224|c>>>12:(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63),buf[i++]=128|c>>>6&63),buf[i++]=128|c&63);return buf};exports.utf8decode=function(buf){if(support.nodebuffer)return utils.transformTo("nodebuffer",
buf).toString("utf-8");buf=utils.transformTo(support.uint8array?"uint8array":"array",buf);var i,out,len=buf.length,utf16buf=Array(2*len);for(i=out=0;i<len;){var c=buf[i++];if(128>c)utf16buf[out++]=c;else{var c_len=_utf8len[c];if(4<c_len)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;1<c_len&&i<len;)c=c<<6|buf[i++]&63,c_len--;1<c_len?utf16buf[out++]=65533:65536>c?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|c&1023)}}}utf16buf.length!==
out&&(utf16buf.subarray?utf16buf=utf16buf.subarray(0,out):utf16buf.length=out);return utils.applyFromCharCode(utf16buf)};utils.inherits(Utf8DecodeWorker,GenericWorker);Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?"uint8array":"array",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;data=new Uint8Array(previousData.length+this.leftOver.length);data.set(this.leftOver,0);data.set(previousData,this.leftOver.length)}else data=
this.leftOver.concat(data);this.leftOver=null}var pos;previousData=data.length;previousData>data.length&&(previousData=data.length);for(pos=previousData-1;0<=pos&&128===(data[pos]&192);)pos--;previousData=0>pos?previousData:0===pos?previousData:pos+_utf8len[data[pos]]>previousData?pos:previousData;pos=data;previousData!==data.length&&(support.uint8array?(pos=data.subarray(0,previousData),this.leftOver=data.subarray(previousData,data.length)):(pos=data.slice(0,previousData),this.leftOver=data.slice(previousData,
data.length)));this.push({data:exports.utf8decode(pos),meta:chunk.meta})};Utf8DecodeWorker.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:exports.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};exports.Utf8DecodeWorker=Utf8DecodeWorker;utils.inherits(Utf8EncodeWorker,GenericWorker);Utf8EncodeWorker.prototype.processChunk=function(chunk){this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})};exports.Utf8EncodeWorker=Utf8EncodeWorker}
//# sourceMappingURL=module$node_modules$jszip$lib$utf8.js.map
