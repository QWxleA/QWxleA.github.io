shadow$provide.module$node_modules$jszip$lib$zipEntry=function(global,require,module,exports){function ZipEntry(options,loadOptions){this.options=options;this.loadOptions=loadOptions}var readerFor=require("module$node_modules$jszip$lib$reader$readerFor"),utils=require("module$node_modules$jszip$lib$utils"),CompressedObject=require("module$node_modules$jszip$lib$compressedObject"),crc32fn=require("module$node_modules$jszip$lib$crc32"),utf8=require("module$node_modules$jszip$lib$utf8"),compressions=
require("module$node_modules$jszip$lib$compressions"),support=require("module$node_modules$jszip$lib$support");ZipEntry.prototype={isEncrypted:function(){return 1===(this.bitFlag&1)},useUTF8:function(){return 2048===(this.bitFlag&2048)},readLocalPart:function(reader){reader.skip(22);this.fileNameLength=reader.readInt(2);var localExtraFieldsLength=reader.readInt(2);this.fileName=reader.readData(this.fileNameLength);reader.skip(localExtraFieldsLength);if(-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize \x3d\x3d\x3d -1 || uncompressedSize \x3d\x3d\x3d -1)");
a:{localExtraFieldsLength=this.compressionMethod;for(compression in compressions)if(compressions.hasOwnProperty(compression)&&compressions[compression].magic===localExtraFieldsLength){var compression=compressions[compression];break a}compression=null}if(null===compression)throw Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+utils.transformTo("string",this.fileName)+")");this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,
this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2);reader.skip(2);this.bitFlag=reader.readInt(2);this.compressionMethod=reader.readString(2);this.date=reader.readDate();this.crc32=reader.readInt(4);this.compressedSize=reader.readInt(4);this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);this.extraFieldsLength=reader.readInt(2);this.fileCommentLength=reader.readInt(2);this.diskNumberStart=reader.readInt(2);
this.internalFileAttributes=reader.readInt(2);this.externalFileAttributes=reader.readInt(4);this.localHeaderOffset=reader.readInt(4);if(this.isEncrypted())throw Error("Encrypted zip are not supported");reader.skip(fileNameLength);this.readExtraFields(reader);this.parseZIP64ExtraField(reader);this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=this.unixPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=this.externalFileAttributes&16?!0:
!1;0===madeBy&&(this.dosPermissions=this.externalFileAttributes&63);3===madeBy&&(this.unixPermissions=this.externalFileAttributes>>16&65535);this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(reader){this.extraFields[1]&&(reader=readerFor(this.extraFields[1].value),this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=reader.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=reader.readInt(8)),this.localHeaderOffset===
utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=reader.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=reader.readInt(4)))},readExtraFields:function(reader){var end=reader.index+this.extraFieldsLength;this.extraFields||(this.extraFields={});for(;reader.index+4<end;){var extraFieldId=reader.readInt(2);var extraFieldLength=reader.readInt(2);var extraFieldValue=reader.readData(extraFieldLength);this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}reader.setIndex(end)},
handleUTF8:function(){var decodeParamType=support.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var upath=this.findExtraFieldUnicodePath();null!==upath?this.fileNameStr=upath:(upath=utils.transformTo(decodeParamType,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(upath));upath=this.findExtraFieldUnicodeComment();null!==upath?this.fileCommentStr=upath:(decodeParamType=utils.transformTo(decodeParamType,
this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(decodeParamType))}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);return 1!==extraReader.readInt(1)||crc32fn(this.fileName)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=
readerFor(ucommentField.value);return 1!==extraReader.readInt(1)||crc32fn(this.fileComment)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}};module.exports=ZipEntry}
//# sourceMappingURL=module$node_modules$jszip$lib$zipEntry.js.map
