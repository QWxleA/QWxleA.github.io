{
"version":3,
"file":"module$node_modules$$sentry$tracing$dist$browser$metrics.js",
"lineCount":19,
"mappings":"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",
"sources":["node_modules/@sentry/tracing/dist/browser/metrics.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$tracing$dist$browser$metrics\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar utils_1 = require(\"@sentry/utils\");\nvar utils_2 = require(\"../utils\");\nvar getCLS_1 = require(\"./web-vitals/getCLS\");\nvar getFID_1 = require(\"./web-vitals/getFID\");\nvar getLCP_1 = require(\"./web-vitals/getLCP\");\nvar getVisibilityWatcher_1 = require(\"./web-vitals/lib/getVisibilityWatcher\");\nvar global = utils_1.getGlobalObject();\n/** Class tracking metrics  */\nvar MetricsInstrumentation = /** @class */ (function () {\n    function MetricsInstrumentation(_reportAllChanges) {\n        if (_reportAllChanges === void 0) { _reportAllChanges = false; }\n        this._reportAllChanges = _reportAllChanges;\n        this._measurements = {};\n        this._performanceCursor = 0;\n        if (!utils_1.isNodeEnv() && global && global.performance && global.document) {\n            if (global.performance.mark) {\n                global.performance.mark('sentry-tracing-init');\n            }\n            this._trackCLS();\n            this._trackLCP();\n            this._trackFID();\n        }\n    }\n    /** Add performance related spans to a transaction */\n    MetricsInstrumentation.prototype.addPerformanceEntries = function (transaction) {\n        var _this = this;\n        if (!global || !global.performance || !global.performance.getEntries || !utils_1.browserPerformanceTimeOrigin) {\n            // Gatekeeper if performance API not available\n            return;\n        }\n        utils_1.logger.log('[Tracing] Adding & adjusting spans using Performance API');\n        var timeOrigin = utils_2.msToSec(utils_1.browserPerformanceTimeOrigin);\n        var responseStartTimestamp;\n        var requestStartTimestamp;\n        global.performance\n            .getEntries()\n            .slice(this._performanceCursor)\n            .forEach(function (entry) {\n            var startTime = utils_2.msToSec(entry.startTime);\n            var duration = utils_2.msToSec(entry.duration);\n            if (transaction.op === 'navigation' && timeOrigin + startTime < transaction.startTimestamp) {\n                return;\n            }\n            switch (entry.entryType) {\n                case 'navigation': {\n                    addNavigationSpans(transaction, entry, timeOrigin);\n                    responseStartTimestamp = timeOrigin + utils_2.msToSec(entry.responseStart);\n                    requestStartTimestamp = timeOrigin + utils_2.msToSec(entry.requestStart);\n                    break;\n                }\n                case 'mark':\n                case 'paint':\n                case 'measure': {\n                    var startTimestamp = addMeasureSpans(transaction, entry, startTime, duration, timeOrigin);\n                    // capture web vitals\n                    var firstHidden = getVisibilityWatcher_1.getVisibilityWatcher();\n                    // Only report if the page wasn't hidden prior to the web vital.\n                    var shouldRecord = entry.startTime < firstHidden.firstHiddenTime;\n                    if (entry.name === 'first-paint' && shouldRecord) {\n                        utils_1.logger.log('[Measurements] Adding FP');\n                        _this._measurements['fp'] = { value: entry.startTime };\n                        _this._measurements['mark.fp'] = { value: startTimestamp };\n                    }\n                    if (entry.name === 'first-contentful-paint' && shouldRecord) {\n                        utils_1.logger.log('[Measurements] Adding FCP');\n                        _this._measurements['fcp'] = { value: entry.startTime };\n                        _this._measurements['mark.fcp'] = { value: startTimestamp };\n                    }\n                    break;\n                }\n                case 'resource': {\n                    var resourceName = entry.name.replace(global.location.origin, '');\n                    addResourceSpans(transaction, entry, resourceName, startTime, duration, timeOrigin);\n                    break;\n                }\n                default:\n                // Ignore other entry types.\n            }\n        });\n        this._performanceCursor = Math.max(performance.getEntries().length - 1, 0);\n        this._trackNavigator(transaction);\n        // Measurements are only available for pageload transactions\n        if (transaction.op === 'pageload') {\n            // normalize applicable web vital values to be relative to transaction.startTimestamp\n            var timeOrigin_1 = utils_2.msToSec(utils_1.browserPerformanceTimeOrigin);\n            // Generate TTFB (Time to First Byte), which measured as the time between the beginning of the transaction and the\n            // start of the response in milliseconds\n            if (typeof responseStartTimestamp === 'number') {\n                utils_1.logger.log('[Measurements] Adding TTFB');\n                this._measurements['ttfb'] = { value: (responseStartTimestamp - transaction.startTimestamp) * 1000 };\n                if (typeof requestStartTimestamp === 'number' && requestStartTimestamp <= responseStartTimestamp) {\n                    // Capture the time spent making the request and receiving the first byte of the response.\n                    // This is the time between the start of the request and the start of the response in milliseconds.\n                    this._measurements['ttfb.requestTime'] = { value: (responseStartTimestamp - requestStartTimestamp) * 1000 };\n                }\n            }\n            ['fcp', 'fp', 'lcp'].forEach(function (name) {\n                if (!_this._measurements[name] || timeOrigin_1 >= transaction.startTimestamp) {\n                    return;\n                }\n                // The web vitals, fcp, fp, lcp, and ttfb, all measure relative to timeOrigin.\n                // Unfortunately, timeOrigin is not captured within the transaction span data, so these web vitals will need\n                // to be adjusted to be relative to transaction.startTimestamp.\n                var oldValue = _this._measurements[name].value;\n                var measurementTimestamp = timeOrigin_1 + utils_2.msToSec(oldValue);\n                // normalizedValue should be in milliseconds\n                var normalizedValue = Math.abs((measurementTimestamp - transaction.startTimestamp) * 1000);\n                var delta = normalizedValue - oldValue;\n                utils_1.logger.log(\"[Measurements] Normalized \" + name + \" from \" + oldValue + \" to \" + normalizedValue + \" (\" + delta + \")\");\n                _this._measurements[name].value = normalizedValue;\n            });\n            if (this._measurements['mark.fid'] && this._measurements['fid']) {\n                // create span for FID\n                _startChild(transaction, {\n                    description: 'first input delay',\n                    endTimestamp: this._measurements['mark.fid'].value + utils_2.msToSec(this._measurements['fid'].value),\n                    op: 'web.vitals',\n                    startTimestamp: this._measurements['mark.fid'].value,\n                });\n            }\n            // If FCP is not recorded we should not record the cls value\n            // according to the new definition of CLS.\n            if (!('fcp' in this._measurements)) {\n                delete this._measurements.cls;\n            }\n            transaction.setMeasurements(this._measurements);\n            tagMetricInfo(transaction, this._lcpEntry, this._clsEntry);\n            transaction.setTag('sentry_reportAllChanges', this._reportAllChanges);\n        }\n    };\n    /**\n     * Capture the information of the user agent.\n     */\n    MetricsInstrumentation.prototype._trackNavigator = function (transaction) {\n        var navigator = global.navigator;\n        if (!navigator) {\n            return;\n        }\n        // track network connectivity\n        var connection = navigator.connection;\n        if (connection) {\n            if (connection.effectiveType) {\n                transaction.setTag('effectiveConnectionType', connection.effectiveType);\n            }\n            if (connection.type) {\n                transaction.setTag('connectionType', connection.type);\n            }\n            if (isMeasurementValue(connection.rtt)) {\n                this._measurements['connection.rtt'] = { value: connection.rtt };\n            }\n            if (isMeasurementValue(connection.downlink)) {\n                this._measurements['connection.downlink'] = { value: connection.downlink };\n            }\n        }\n        if (isMeasurementValue(navigator.deviceMemory)) {\n            transaction.setTag('deviceMemory', String(navigator.deviceMemory));\n        }\n        if (isMeasurementValue(navigator.hardwareConcurrency)) {\n            transaction.setTag('hardwareConcurrency', String(navigator.hardwareConcurrency));\n        }\n    };\n    /** Starts tracking the Cumulative Layout Shift on the current page. */\n    MetricsInstrumentation.prototype._trackCLS = function () {\n        var _this = this;\n        // See:\n        // https://web.dev/evolving-cls/\n        // https://web.dev/cls-web-tooling/\n        getCLS_1.getCLS(function (metric) {\n            var entry = metric.entries.pop();\n            if (!entry) {\n                return;\n            }\n            utils_1.logger.log('[Measurements] Adding CLS');\n            _this._measurements['cls'] = { value: metric.value };\n            _this._clsEntry = entry;\n        });\n    };\n    /** Starts tracking the Largest Contentful Paint on the current page. */\n    MetricsInstrumentation.prototype._trackLCP = function () {\n        var _this = this;\n        getLCP_1.getLCP(function (metric) {\n            var entry = metric.entries.pop();\n            if (!entry) {\n                return;\n            }\n            var timeOrigin = utils_2.msToSec(utils_1.browserPerformanceTimeOrigin);\n            var startTime = utils_2.msToSec(entry.startTime);\n            utils_1.logger.log('[Measurements] Adding LCP');\n            _this._measurements['lcp'] = { value: metric.value };\n            _this._measurements['mark.lcp'] = { value: timeOrigin + startTime };\n            _this._lcpEntry = entry;\n        }, this._reportAllChanges);\n    };\n    /** Starts tracking the First Input Delay on the current page. */\n    MetricsInstrumentation.prototype._trackFID = function () {\n        var _this = this;\n        getFID_1.getFID(function (metric) {\n            var entry = metric.entries.pop();\n            if (!entry) {\n                return;\n            }\n            var timeOrigin = utils_2.msToSec(utils_1.browserPerformanceTimeOrigin);\n            var startTime = utils_2.msToSec(entry.startTime);\n            utils_1.logger.log('[Measurements] Adding FID');\n            _this._measurements['fid'] = { value: metric.value };\n            _this._measurements['mark.fid'] = { value: timeOrigin + startTime };\n        });\n    };\n    return MetricsInstrumentation;\n}());\nexports.MetricsInstrumentation = MetricsInstrumentation;\n/** Instrument navigation entries */\nfunction addNavigationSpans(transaction, entry, timeOrigin) {\n    ['unloadEvent', 'redirect', 'domContentLoadedEvent', 'loadEvent', 'connect'].forEach(function (event) {\n        addPerformanceNavigationTiming(transaction, entry, event, timeOrigin);\n    });\n    addPerformanceNavigationTiming(transaction, entry, 'secureConnection', timeOrigin, 'TLS/SSL', 'connectEnd');\n    addPerformanceNavigationTiming(transaction, entry, 'fetch', timeOrigin, 'cache', 'domainLookupStart');\n    addPerformanceNavigationTiming(transaction, entry, 'domainLookup', timeOrigin, 'DNS');\n    addRequest(transaction, entry, timeOrigin);\n}\n/** Create measure related spans */\nfunction addMeasureSpans(transaction, entry, startTime, duration, timeOrigin) {\n    var measureStartTimestamp = timeOrigin + startTime;\n    var measureEndTimestamp = measureStartTimestamp + duration;\n    _startChild(transaction, {\n        description: entry.name,\n        endTimestamp: measureEndTimestamp,\n        op: entry.entryType,\n        startTimestamp: measureStartTimestamp,\n    });\n    return measureStartTimestamp;\n}\n/** Create resource-related spans */\nfunction addResourceSpans(transaction, entry, resourceName, startTime, duration, timeOrigin) {\n    // we already instrument based on fetch and xhr, so we don't need to\n    // duplicate spans here.\n    if (entry.initiatorType === 'xmlhttprequest' || entry.initiatorType === 'fetch') {\n        return;\n    }\n    var data = {};\n    if ('transferSize' in entry) {\n        data['Transfer Size'] = entry.transferSize;\n    }\n    if ('encodedBodySize' in entry) {\n        data['Encoded Body Size'] = entry.encodedBodySize;\n    }\n    if ('decodedBodySize' in entry) {\n        data['Decoded Body Size'] = entry.decodedBodySize;\n    }\n    var startTimestamp = timeOrigin + startTime;\n    var endTimestamp = startTimestamp + duration;\n    _startChild(transaction, {\n        description: resourceName,\n        endTimestamp: endTimestamp,\n        op: entry.initiatorType ? \"resource.\" + entry.initiatorType : 'resource',\n        startTimestamp: startTimestamp,\n        data: data,\n    });\n}\nexports.addResourceSpans = addResourceSpans;\n/** Create performance navigation related spans */\nfunction addPerformanceNavigationTiming(transaction, entry, event, timeOrigin, description, eventEnd) {\n    var end = eventEnd ? entry[eventEnd] : entry[event + \"End\"];\n    var start = entry[event + \"Start\"];\n    if (!start || !end) {\n        return;\n    }\n    _startChild(transaction, {\n        op: 'browser',\n        description: (description !== null && description !== void 0 ? description : event),\n        startTimestamp: timeOrigin + utils_2.msToSec(start),\n        endTimestamp: timeOrigin + utils_2.msToSec(end),\n    });\n}\n/** Create request and response related spans */\nfunction addRequest(transaction, entry, timeOrigin) {\n    _startChild(transaction, {\n        op: 'browser',\n        description: 'request',\n        startTimestamp: timeOrigin + utils_2.msToSec(entry.requestStart),\n        endTimestamp: timeOrigin + utils_2.msToSec(entry.responseEnd),\n    });\n    _startChild(transaction, {\n        op: 'browser',\n        description: 'response',\n        startTimestamp: timeOrigin + utils_2.msToSec(entry.responseStart),\n        endTimestamp: timeOrigin + utils_2.msToSec(entry.responseEnd),\n    });\n}\n/**\n * Helper function to start child on transactions. This function will make sure that the transaction will\n * use the start timestamp of the created child span if it is earlier than the transactions actual\n * start timestamp.\n */\nfunction _startChild(transaction, _a) {\n    var startTimestamp = _a.startTimestamp, ctx = tslib_1.__rest(_a, [\"startTimestamp\"]);\n    if (startTimestamp && transaction.startTimestamp > startTimestamp) {\n        transaction.startTimestamp = startTimestamp;\n    }\n    return transaction.startChild(tslib_1.__assign({ startTimestamp: startTimestamp }, ctx));\n}\nexports._startChild = _startChild;\n/**\n * Checks if a given value is a valid measurement value.\n */\nfunction isMeasurementValue(value) {\n    return typeof value === 'number' && isFinite(value);\n}\n/** Add LCP / CLS data to transaction to allow debugging */\nfunction tagMetricInfo(transaction, lcpEntry, clsEntry) {\n    if (lcpEntry) {\n        utils_1.logger.log('[Measurements] Adding LCP Data');\n        // Capture Properties of the LCP element that contributes to the LCP.\n        if (lcpEntry.element) {\n            transaction.setTag('lcp.element', utils_1.htmlTreeAsString(lcpEntry.element));\n        }\n        if (lcpEntry.id) {\n            transaction.setTag('lcp.id', lcpEntry.id);\n        }\n        if (lcpEntry.url) {\n            // Trim URL to the first 200 characters.\n            transaction.setTag('lcp.url', lcpEntry.url.trim().slice(0, 200));\n        }\n        transaction.setTag('lcp.size', lcpEntry.size);\n    }\n    // See: https://developer.mozilla.org/en-US/docs/Web/API/LayoutShift\n    if (clsEntry && clsEntry.sources) {\n        utils_1.logger.log('[Measurements] Adding CLS Data');\n        clsEntry.sources.forEach(function (source, index) {\n            return transaction.setTag(\"cls.source.\" + (index + 1), utils_1.htmlTreeAsString(source.node));\n        });\n    }\n}\n//# sourceMappingURL=metrics.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","addNavigationSpans","transaction","entry","timeOrigin","forEach","event","addPerformanceNavigationTiming","addRequest","addResourceSpans","resourceName","startTime","duration","initiatorType","data","transferSize","encodedBodySize","decodedBodySize","startTimestamp","_startChild","description","endTimestamp","op","eventEnd","end","start","utils_2","msToSec","requestStart","responseEnd","responseStart","_a","ctx","tslib_1","__rest","startChild","__assign","isMeasurementValue","value","isFinite","tagMetricInfo","lcpEntry","clsEntry","utils_1","logger","log","element","setTag","htmlTreeAsString","id","url","trim","slice","size","sources","source","index","node","Object","defineProperty","getCLS_1","getFID_1","getLCP_1","getVisibilityWatcher_1","getGlobalObject","MetricsInstrumentation","_reportAllChanges","_measurements","_performanceCursor","isNodeEnv","performance","document","mark","_trackCLS","_trackLCP","_trackFID","prototype","addPerformanceEntries","MetricsInstrumentation.prototype.addPerformanceEntries","_this","getEntries","browserPerformanceTimeOrigin","responseStartTimestamp","requestStartTimestamp","entryType","measureStartTimestamp","name","firstHidden","getVisibilityWatcher","shouldRecord","firstHiddenTime","replace","location","origin","Math","max","length","_trackNavigator","timeOrigin_1","oldValue","measurementTimestamp","normalizedValue","abs","cls","setMeasurements","_lcpEntry","_clsEntry","MetricsInstrumentation.prototype._trackNavigator","navigator","connection","effectiveType","type","rtt","downlink","deviceMemory","String","hardwareConcurrency","MetricsInstrumentation.prototype._trackCLS","getCLS","metric","entries","pop","MetricsInstrumentation.prototype._trackLCP","getLCP","MetricsInstrumentation.prototype._trackFID","getFID"]
}
