{"version":3,"sources":["frontend/modules/shortcut/before.cljs"],"mappings":";AAMA,4DAAA,5DAAMA,gIACHC;AADH,AAEE,kBAAKC;AAAL,AACE,CAACD,kCAAAA,qCAAAA,LAAEC,iBAAAA;;AADL;;;AAMF,sEAAA,tEAAMC,oJACHF;AADH,AAEE,kBAAKC;AAAL,AACE,oBAAU,iBAAAE,mBAAI,AAACC;AAAL,AAAA,oBAAAD;AAAAA;;AACI,OAACE,2BAAY,AAAUJ;;;AADrC;;AAAA,AAEE,CAACD,kCAAAA,qCAAAA,LAAEC,iBAAAA;;AAFL;;;;AAKJ,kEAAA,lEAAMK,4IACHN;AADH,AAEE,kBAAKC;AAAL,AACE,oBAAM,AAACG;AAAP,AACE,oBAAI,AAACG;AACH,AAACC,+BAAsBP;;AACvB,AAACQ,mBAAUR;;;AACb,QAACD,kCAAAA,qCAAAA,LAAEC,iBAAAA;;AAJL;;;;AAMJ,2EAAA,3EAAMS,8JACHV;AADH,AAEE,kBAAKC;AAAL,AACE,GAAM,EAAI,0BAAA,iFAAA,3GAACU,kLAAkB,AAACC,oCACpB,AAACC,cAAI,AAACC;AADhB,AAEE,QAACd,kCAAAA,qCAAAA,LAAEC,iBAAAA;;AAFL","names":["frontend.modules.shortcut.before/prevent-default-behavior","f","e","frontend.modules.shortcut.before/enable-when-not-editing-mode!","or__5043__auto__","frontend.state/editing?","frontend.util/input?","frontend.modules.shortcut.before/enable-when-editing-mode!","frontend.mobile.util/native-ios?","frontend.util/stop-propagation","frontend.util/stop","frontend.modules.shortcut.before/enable-when-not-component-editing!","cljs.core/contains?","frontend.state/get-modal-id","cljs.core/not","frontend.state/block-component-editing?"],"sourcesContent":["(ns frontend.modules.shortcut.before\n  (:require [frontend.state :as state]\n            [frontend.util :as util]\n            [frontend.mobile.util :as mobile-util]))\n\n;; before function\n(defn prevent-default-behavior\n  [f]\n  (fn [e]\n    (f e)\n    ;; return false to prevent default browser behavior\n    ;; and stop event from bubbling\n    false))\n\n(defn enable-when-not-editing-mode!\n  [f]\n  (fn [e]\n    (when-not (or (state/editing?)\n                  (util/input? (.-target e)))\n      (f e)\n      false)))\n\n(defn enable-when-editing-mode!\n  [f]\n  (fn [e]\n    (when (state/editing?)\n      (if (mobile-util/native-ios?)\n        (util/stop-propagation e)\n        (util/stop e))\n      (f e))))\n\n(defn enable-when-not-component-editing!\n  [f]\n  (fn [e]\n    (when (or (contains? #{:srs} (state/get-modal-id))\n              (not (state/block-component-editing?)))\n      (f e))))\n"]}