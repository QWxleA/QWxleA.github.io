shadow$provide.module$node_modules$fs_extra$lib$ensure$symlink=function(global,require,module,exports){global=require("module$node_modules$universalify$index").fromCallback;const path=require("module$node_modules$path_browserify$index"),fs=require("module$node_modules$graceful_fs$graceful_fs");exports=require("module$node_modules$fs_extra$lib$mkdirs$index");const mkdirs=exports.mkdirs,mkdirsSync=exports.mkdirsSync;exports=require("module$node_modules$fs_extra$lib$ensure$symlink_paths");const symlinkPaths=
exports.symlinkPaths,symlinkPathsSync=exports.symlinkPathsSync;exports=require("module$node_modules$fs_extra$lib$ensure$symlink_type");const symlinkType=exports.symlinkType,symlinkTypeSync=exports.symlinkTypeSync,pathExists=require("module$node_modules$fs_extra$lib$path_exists$index").pathExists;module.exports={createSymlink:global(function(srcpath,dstpath,type$jscomp$0,callback){callback="function"===typeof type$jscomp$0?type$jscomp$0:callback;type$jscomp$0="function"===typeof type$jscomp$0?!1:type$jscomp$0;
pathExists(dstpath,(err$jscomp$3,destinationExists)=>{if(err$jscomp$3)return callback(err$jscomp$3);if(destinationExists)return callback(null);symlinkPaths(srcpath,dstpath,(err$jscomp$2,relative)=>{if(err$jscomp$2)return callback(err$jscomp$2);srcpath=relative.toDst;symlinkType(relative.toCwd,type$jscomp$0,(err$jscomp$1,type)=>{if(err$jscomp$1)return callback(err$jscomp$1);const dir=path.dirname(dstpath);pathExists(dir,(err$jscomp$0,dirExists)=>{if(err$jscomp$0)return callback(err$jscomp$0);if(dirExists)return fs.symlink(srcpath,
dstpath,type,callback);mkdirs(dir,err=>{if(err)return callback(err);fs.symlink(srcpath,dstpath,type,callback)})})})})})}),createSymlinkSync:function(srcpath,dstpath,type){if(!fs.existsSync(dstpath)){var relative=symlinkPathsSync(srcpath,dstpath);srcpath=relative.toDst;type=symlinkTypeSync(relative.toCwd,type);relative=path.dirname(dstpath);if(fs.existsSync(relative))return fs.symlinkSync(srcpath,dstpath,type);mkdirsSync(relative);return fs.symlinkSync(srcpath,dstpath,type)}}}}
//# sourceMappingURL=module$node_modules$fs_extra$lib$ensure$symlink.js.map
