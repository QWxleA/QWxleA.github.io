shadow$provide.module$node_modules$graceful_fs$polyfills=function(global,require,module,exports){var process=require("module$node_modules$process$browser"),constants=require("module$node_modules$constants_browserify$constants_json"),origCwd=process.cwd,cwd=null,platform=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){cwd||=origCwd.call(process);return cwd};try{process.cwd()}catch(er){}if("function"===typeof process.chdir){var chdir=process.chdir;process.chdir=function(d){cwd=
null;chdir.call(process,d)};Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,chdir)}module.exports=function(fs){function patchLchmod(fs){fs.lchmod=function(path,mode,callback){fs.open(path,constants.O_WRONLY|constants.O_SYMLINK,mode,function(err$jscomp$0,fd){err$jscomp$0?callback&&callback(err$jscomp$0):fs.fchmod(fd,mode,function(err){fs.close(fd,function(err2){callback&&callback(err||err2)})})})};fs.lchmodSync=function(path,mode){path=fs.openSync(path,constants.O_WRONLY|constants.O_SYMLINK,
mode);var threw=!0;try{var ret=fs.fchmodSync(path,mode);threw=!1}finally{if(threw)try{fs.closeSync(path)}catch(er){}else fs.closeSync(path)}return ret}}function patchLutimes(fs){constants.hasOwnProperty("O_SYMLINK")?(fs.lutimes=function(path,at,mt,cb){fs.open(path,constants.O_SYMLINK,function(er$jscomp$0,fd){er$jscomp$0?cb&&cb(er$jscomp$0):fs.futimes(fd,at,mt,function(er){fs.close(fd,function(er2){cb&&cb(er||er2)})})})},fs.lutimesSync=function(path,at,mt){path=fs.openSync(path,constants.O_SYMLINK);
var threw=!0;try{var ret=fs.futimesSync(path,at,mt);threw=!1}finally{if(threw)try{fs.closeSync(path)}catch(er){}else fs.closeSync(path)}return ret}):(fs.lutimes=function(_a,_b,_c,cb){cb&&process.nextTick(cb)},fs.lutimesSync=function(){})}function chmodFix(orig){return orig?function(target,mode,cb){return orig.call(fs,target,mode,function(er){chownErOk(er)&&(er=null);cb&&cb.apply(this,arguments)})}:orig}function chmodFixSync(orig){return orig?function(target,mode){try{return orig.call(fs,target,mode)}catch(er){if(!chownErOk(er))throw er;
}}:orig}function chownFix(orig){return orig?function(target,uid,gid,cb){return orig.call(fs,target,uid,gid,function(er){chownErOk(er)&&(er=null);cb&&cb.apply(this,arguments)})}:orig}function chownFixSync(orig){return orig?function(target,uid,gid){try{return orig.call(fs,target,uid,gid)}catch(er){if(!chownErOk(er))throw er;}}:orig}function statFix(orig){return orig?function(target,options,cb){function callback(er,stats){stats&&(0>stats.uid&&(stats.uid+=4294967296),0>stats.gid&&(stats.gid+=4294967296));
cb&&cb.apply(this,arguments)}"function"===typeof options&&(cb=options,options=null);return options?orig.call(fs,target,options,callback):orig.call(fs,target,callback)}:orig}function statFixSync(orig){return orig?function(target,options){if(target=options?orig.call(fs,target,options):orig.call(fs,target))0>target.uid&&(target.uid+=4294967296),0>target.gid&&(target.gid+=4294967296);return target}:orig}function chownErOk(er){if(!er||"ENOSYS"===er.code)return!0;if(!process.getuid||0!==process.getuid())if("EINVAL"===
er.code||"EPERM"===er.code)return!0;return!1}constants.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&patchLchmod(fs);fs.lutimes||patchLutimes(fs);fs.chown=chownFix(fs.chown);fs.fchown=chownFix(fs.fchown);fs.lchown=chownFix(fs.lchown);fs.chmod=chmodFix(fs.chmod);fs.fchmod=chmodFix(fs.fchmod);fs.lchmod=chmodFix(fs.lchmod);fs.chownSync=chownFixSync(fs.chownSync);fs.fchownSync=chownFixSync(fs.fchownSync);fs.lchownSync=chownFixSync(fs.lchownSync);fs.chmodSync=chmodFixSync(fs.chmodSync);
fs.fchmodSync=chmodFixSync(fs.fchmodSync);fs.lchmodSync=chmodFixSync(fs.lchmodSync);fs.stat=statFix(fs.stat);fs.fstat=statFix(fs.fstat);fs.lstat=statFix(fs.lstat);fs.statSync=statFixSync(fs.statSync);fs.fstatSync=statFixSync(fs.fstatSync);fs.lstatSync=statFixSync(fs.lstatSync);fs.lchmod||(fs.lchmod=function(path,mode,cb){cb&&process.nextTick(cb)},fs.lchmodSync=function(){});fs.lchown||(fs.lchown=function(path,uid,gid,cb){cb&&process.nextTick(cb)},fs.lchownSync=function(){});"win32"===platform&&(fs.rename=
function(fs$rename){return function(from,to,cb){var start=Date.now(),backoff=0;fs$rename(from,to,function CB(er){er&&("EACCES"===er.code||"EPERM"===er.code)&&6E4>Date.now()-start?(setTimeout(function(){fs.stat(to,function(stater,st){stater&&"ENOENT"===stater.code?fs$rename(from,to,CB):cb(er)})},backoff),100>backoff&&(backoff+=10)):cb&&cb(er)})}}(fs.rename));fs.read=function(fs$read){function read(fd,buffer,offset,length,position,callback_){if(callback_&&"function"===typeof callback_){var eagCounter=
0;var callback=function(er,_,__){if(er&&"EAGAIN"===er.code&&10>eagCounter)return eagCounter++,fs$read.call(fs,fd,buffer,offset,length,position,callback);callback_.apply(this,arguments)}}return fs$read.call(fs,fd,buffer,offset,length,position,callback)}Object.setPrototypeOf&&Object.setPrototypeOf(read,fs$read);return read}(fs.read);fs.readSync=function(fs$readSync){return function(fd,buffer,offset,length,position){for(var eagCounter=0;;)try{return fs$readSync.call(fs,fd,buffer,offset,length,position)}catch(er){if("EAGAIN"===
er.code&&10>eagCounter)eagCounter++;else throw er;}}}(fs.readSync)}}
//# sourceMappingURL=module$node_modules$graceful_fs$polyfills.js.map
