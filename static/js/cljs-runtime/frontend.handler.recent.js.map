{"version":3,"sources":["frontend/handler/recent.cljs"],"mappings":";AAIA,mDAAA,nDAAMA,8GACHC,KAAKC;AADR,AAEE,IAAMC,QAAM,iBAAAC,mBAAI,wHAAA,+GAAA,tOAACC,0DAAAA,mIAAAA,3EAAiBJ,+GAAAA;AAAtB,AAAA,oBAAAG;AAAAA;;AAAA,AAAA;;;IAENE,YAAU,6CAAA,7CAACC,kDAAQ,AAACC,iDAAS,AAACC,eAAKP,KAAKC;AAF9C,AAGE,+HAAA,yHAAA,hPAACO,0DAAAA,6IAAAA,rFAAiBT,yHAAAA,jDAAmBK,yHAAAA;;AAGzC,qDAAA,rDAAMK,kHAA4BV,KAAKW,cAAcC;AAArD,AACE,IAAMV,QAAM,iBAAAC,mBAAI,wHAAA,+GAAA,tOAACC,0DAAAA,mIAAAA,3EAAiBJ,+GAAAA;AAAtB,AAAA,oBAAAG;AAAAA;;AAAA,AAAA;;;IAENU,gBAAc,gDAAA,hDAACC,gGAASH,cAAcC,gBAAeV;IACrDa,sBAAe,EAAI,AAACC,0BAAU,AAACC,cAAIJ,eAAeD,gBACjCC,cACA,AAACL,eAAKI,cAAcC;AAL3C,AAME,+HAAA,mIAAA,1PAACJ,0DAAAA,uJAAAA,/FAAiBT,mIAAAA,3DAAmBe,mIAAAA","names":["frontend.handler.recent/add-page-to-recent!","repo","page","pages","or__5043__auto__","frontend.db/get-key-value","new-pages","cljs.core.take","cljs.core.distinct","cljs.core/cons","frontend.db/set-key-value","frontend.handler.recent/update-or-add-renamed-page","old-page-name","new-page-name","updated-pages","cljs.core.replace","updated-pages*","cljs.core/contains?","cljs.core/set"],"sourcesContent":["(ns frontend.handler.recent\n  (:require [frontend.db :as db]))\n\n\n(defn add-page-to-recent!\n  [repo page]\n  (let [pages (or (db/get-key-value repo :recent/pages)\n                  '())\n        new-pages (take 15 (distinct (cons page pages)))]\n    (db/set-key-value repo :recent/pages new-pages)))\n\n\n(defn update-or-add-renamed-page [repo old-page-name new-page-name]\n  (let [pages (or (db/get-key-value repo :recent/pages)\n                  '())\n        updated-pages (replace {old-page-name new-page-name} pages)\n        updated-pages* (if (contains? (set updated-pages) new-page-name)\n                         updated-pages\n                         (cons new-page-name updated-pages))]\n    (db/set-key-value repo :recent/pages updated-pages*)))\n"]}