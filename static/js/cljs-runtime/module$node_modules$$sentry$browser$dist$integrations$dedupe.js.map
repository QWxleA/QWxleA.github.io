{
"version":3,
"file":"module$node_modules$$sentry$browser$dist$integrations$dedupe.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@sentry/browser/dist/integrations/dedupe.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$browser$dist$integrations$dedupe\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"@sentry/utils\");\n/** Deduplication filter */\nvar Dedupe = /** @class */ (function () {\n    function Dedupe() {\n        /**\n         * @inheritDoc\n         */\n        this.name = Dedupe.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    Dedupe.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n        addGlobalEventProcessor(function (currentEvent) {\n            var self = getCurrentHub().getIntegration(Dedupe);\n            if (self) {\n                // Juuust in case something goes wrong\n                try {\n                    if (_shouldDropEvent(currentEvent, self._previousEvent)) {\n                        utils_1.logger.warn('Event dropped due to being a duplicate of previously captured event.');\n                        return null;\n                    }\n                }\n                catch (_oO) {\n                    return (self._previousEvent = currentEvent);\n                }\n                return (self._previousEvent = currentEvent);\n            }\n            return currentEvent;\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    Dedupe.id = 'Dedupe';\n    return Dedupe;\n}());\nexports.Dedupe = Dedupe;\n/** JSDoc */\nfunction _shouldDropEvent(currentEvent, previousEvent) {\n    if (!previousEvent) {\n        return false;\n    }\n    if (_isSameMessageEvent(currentEvent, previousEvent)) {\n        return true;\n    }\n    if (_isSameExceptionEvent(currentEvent, previousEvent)) {\n        return true;\n    }\n    return false;\n}\n/** JSDoc */\nfunction _isSameMessageEvent(currentEvent, previousEvent) {\n    var currentMessage = currentEvent.message;\n    var previousMessage = previousEvent.message;\n    // If neither event has a message property, they were both exceptions, so bail out\n    if (!currentMessage && !previousMessage) {\n        return false;\n    }\n    // If only one event has a stacktrace, but not the other one, they are not the same\n    if ((currentMessage && !previousMessage) || (!currentMessage && previousMessage)) {\n        return false;\n    }\n    if (currentMessage !== previousMessage) {\n        return false;\n    }\n    if (!_isSameFingerprint(currentEvent, previousEvent)) {\n        return false;\n    }\n    if (!_isSameStacktrace(currentEvent, previousEvent)) {\n        return false;\n    }\n    return true;\n}\n/** JSDoc */\nfunction _isSameExceptionEvent(currentEvent, previousEvent) {\n    var previousException = _getExceptionFromEvent(previousEvent);\n    var currentException = _getExceptionFromEvent(currentEvent);\n    if (!previousException || !currentException) {\n        return false;\n    }\n    if (previousException.type !== currentException.type || previousException.value !== currentException.value) {\n        return false;\n    }\n    if (!_isSameFingerprint(currentEvent, previousEvent)) {\n        return false;\n    }\n    if (!_isSameStacktrace(currentEvent, previousEvent)) {\n        return false;\n    }\n    return true;\n}\n/** JSDoc */\nfunction _isSameStacktrace(currentEvent, previousEvent) {\n    var currentFrames = _getFramesFromEvent(currentEvent);\n    var previousFrames = _getFramesFromEvent(previousEvent);\n    // If neither event has a stacktrace, they are assumed to be the same\n    if (!currentFrames && !previousFrames) {\n        return true;\n    }\n    // If only one event has a stacktrace, but not the other one, they are not the same\n    if ((currentFrames && !previousFrames) || (!currentFrames && previousFrames)) {\n        return false;\n    }\n    currentFrames = currentFrames;\n    previousFrames = previousFrames;\n    // If number of frames differ, they are not the same\n    if (previousFrames.length !== currentFrames.length) {\n        return false;\n    }\n    // Otherwise, compare the two\n    for (var i = 0; i < previousFrames.length; i++) {\n        var frameA = previousFrames[i];\n        var frameB = currentFrames[i];\n        if (frameA.filename !== frameB.filename ||\n            frameA.lineno !== frameB.lineno ||\n            frameA.colno !== frameB.colno ||\n            frameA.function !== frameB.function) {\n            return false;\n        }\n    }\n    return true;\n}\n/** JSDoc */\nfunction _isSameFingerprint(currentEvent, previousEvent) {\n    var currentFingerprint = currentEvent.fingerprint;\n    var previousFingerprint = previousEvent.fingerprint;\n    // If neither event has a fingerprint, they are assumed to be the same\n    if (!currentFingerprint && !previousFingerprint) {\n        return true;\n    }\n    // If only one event has a fingerprint, but not the other one, they are not the same\n    if ((currentFingerprint && !previousFingerprint) || (!currentFingerprint && previousFingerprint)) {\n        return false;\n    }\n    currentFingerprint = currentFingerprint;\n    previousFingerprint = previousFingerprint;\n    // Otherwise, compare the two\n    try {\n        return !!(currentFingerprint.join('') === previousFingerprint.join(''));\n    }\n    catch (_oO) {\n        return false;\n    }\n}\n/** JSDoc */\nfunction _getExceptionFromEvent(event) {\n    return event.exception && event.exception.values && event.exception.values[0];\n}\n/** JSDoc */\nfunction _getFramesFromEvent(event) {\n    var exception = event.exception;\n    if (exception) {\n        try {\n            // @ts-ignore Object could be undefined\n            return exception.values[0].stacktrace.frames;\n        }\n        catch (_oO) {\n            return undefined;\n        }\n    }\n    else if (event.stacktrace) {\n        return event.stacktrace.frames;\n    }\n    return undefined;\n}\n//# sourceMappingURL=dedupe.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_isSameStacktrace","currentEvent","previousEvent","currentFrames","_getFramesFromEvent","previousFrames","length","i","frameA","frameB","filename","lineno","colno","function","_isSameFingerprint","currentFingerprint","fingerprint","previousFingerprint","join","_oO","event","exception","values","stacktrace","frames","Object","defineProperty","value","utils_1","Dedupe","name","id","prototype","setupOnce","Dedupe.prototype.setupOnce","addGlobalEventProcessor","getCurrentHub","self","getIntegration","_previousEvent","currentMessage","message","previousMessage","previousException","currentException","type","logger","warn"]
}
