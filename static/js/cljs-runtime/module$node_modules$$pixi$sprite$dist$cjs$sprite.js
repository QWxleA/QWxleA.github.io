shadow$provide.module$node_modules$$pixi$sprite$dist$cjs$sprite=function(global,require,module,exports){function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}Object.defineProperty(exports,"__esModule",{value:!0});var constants=require("module$node_modules$$pixi$constants$dist$cjs$constants"),core=require("module$node_modules$$pixi$core$dist$cjs$core");global=require("module$node_modules$$pixi$display$dist$cjs$display");
var math=require("module$node_modules$$pixi$math$dist$cjs$math"),settings=require("module$node_modules$$pixi$settings$dist$cjs$settings"),utils=require("module$node_modules$$pixi$utils$dist$cjs$utils"),extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)},tempPoint=new math.Point,indices=new Uint16Array([0,
1,2,0,2,3]);require=function(_super){function Sprite(texture){var _this=_super.call(this)||this;_this._anchor=new math.ObservablePoint(_this._onAnchorUpdate,_this,texture?texture.defaultAnchor.x:0,texture?texture.defaultAnchor.y:0);_this._texture=null;_this._width=0;_this._height=0;_this._tint=null;_this._tintRGB=null;_this.tint=16777215;_this.blendMode=constants.BLEND_MODES.NORMAL;_this._cachedTint=16777215;_this.uvs=null;_this.texture=texture||core.Texture.EMPTY;_this.vertexData=new Float32Array(8);
_this.vertexTrimmedData=null;_this._transformID=-1;_this._textureID=-1;_this._transformTrimmedID=-1;_this._textureTrimmedID=-1;_this.indices=indices;_this.pluginName="batch";_this.isSprite=!0;_this._roundPixels=settings.settings.ROUND_PIXELS;return _this}__extends(Sprite,_super);Sprite.prototype._onTextureUpdate=function(){this._textureTrimmedID=this._textureID=-1;this._cachedTint=16777215;this._width&&(this.scale.x=utils.sign(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=
utils.sign(this.scale.y)*this._height/this._texture.orig.height)};Sprite.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=-1};Sprite.prototype.calculateVertices=function(){var texture=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==texture._updateID){this._textureID!==texture._updateID&&(this.uvs=this._texture._uvs.uvsFloat32);this._transformID=this.transform._worldID;this._textureID=texture._updateID;var wt=this.transform.worldTransform,
a=wt.a,b=wt.b,c=wt.c,d=wt.d,tx=wt.tx,ty=wt.ty;wt=this.vertexData;var trim=texture.trim,orig=texture.orig,anchor=this._anchor;if(trim){var w1=trim.x-anchor._x*orig.width;texture=w1+trim.width;anchor=trim.y-anchor._y*orig.height;trim=anchor+trim.height}else w1=-anchor._x*orig.width,texture=w1+orig.width,anchor=-anchor._y*orig.height,trim=anchor+orig.height;wt[0]=a*w1+c*anchor+tx;wt[1]=d*anchor+b*w1+ty;wt[2]=a*texture+c*anchor+tx;wt[3]=d*anchor+b*texture+ty;wt[4]=a*texture+c*trim+tx;wt[5]=d*trim+b*texture+
ty;wt[6]=a*w1+c*trim+tx;wt[7]=d*trim+b*w1+ty;if(this._roundPixels)for(a=settings.settings.RESOLUTION,b=0;b<wt.length;++b)wt[b]=Math.round((wt[b]*a|0)/a)}};Sprite.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var vertexData=
this.vertexTrimmedData,orig=this._texture.orig,anchor=this._anchor,wt=this.transform.worldTransform,a=wt.a,b=wt.b,c=wt.c,d=wt.d,tx=wt.tx;wt=wt.ty;var w1=-anchor._x*orig.width,w0=w1+orig.width;anchor=-anchor._y*orig.height;orig=anchor+orig.height;vertexData[0]=a*w1+c*anchor+tx;vertexData[1]=d*anchor+b*w1+wt;vertexData[2]=a*w0+c*anchor+tx;vertexData[3]=d*anchor+b*w0+wt;vertexData[4]=a*w0+c*orig+tx;vertexData[5]=d*orig+b*w0+wt;vertexData[6]=a*w1+c*orig+tx;vertexData[7]=d*orig+b*w1+wt};Sprite.prototype._render=
function(renderer){this.calculateVertices();renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);renderer.plugins[this.pluginName].render(this)};Sprite.prototype._calculateBounds=function(){var trim=this._texture.trim,orig=this._texture.orig;!trim||trim.width===orig.width&&trim.height===orig.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};Sprite.prototype.getLocalBounds=function(rect){return 0===
this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),rect||(this._localBoundsRect||(this._localBoundsRect=new math.Rectangle),rect=this._localBoundsRect),this._bounds.getRectangle(rect)):_super.prototype.getLocalBounds.call(this,rect)};Sprite.prototype.containsPoint=function(point){this.worldTransform.applyInverse(point,
tempPoint);var width=this._texture.orig.width;point=this._texture.orig.height;var x1=-width*this.anchor.x;return tempPoint.x>=x1&&tempPoint.x<x1+width&&(width=-point*this.anchor.y,tempPoint.y>=width&&tempPoint.y<width+point)?!0:!1};Sprite.prototype.destroy=function(options){_super.prototype.destroy.call(this,options);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;("boolean"===typeof options?options:options&&options.texture)&&this._texture.destroy(!!("boolean"===typeof options?
options:options&&options.baseTexture));this._texture=null};Sprite.from=function(source,options){source=source instanceof core.Texture?source:core.Texture.from(source,options);return new Sprite(source)};Object.defineProperty(Sprite.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(value){this._roundPixels!==value&&(this._transformID=-1);this._roundPixels=value},enumerable:!1,configurable:!0});Object.defineProperty(Sprite.prototype,"width",{get:function(){return Math.abs(this.scale.x)*
this._texture.orig.width},set:function(value){var s=utils.sign(this.scale.x)||1;this.scale.x=s*value/this._texture.orig.width;this._width=value},enumerable:!1,configurable:!0});Object.defineProperty(Sprite.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(value){var s=utils.sign(this.scale.y)||1;this.scale.y=s*value/this._texture.orig.height;this._height=value},enumerable:!1,configurable:!0});Object.defineProperty(Sprite.prototype,"anchor",{get:function(){return this._anchor},
set:function(value){this._anchor.copyFrom(value)},enumerable:!1,configurable:!0});Object.defineProperty(Sprite.prototype,"tint",{get:function(){return this._tint},set:function(value){this._tint=value;this._tintRGB=(value>>16)+(value&65280)+((value&255)<<16)},enumerable:!1,configurable:!0});Object.defineProperty(Sprite.prototype,"texture",{get:function(){return this._texture},set:function(value){if(this._texture!==value&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=
value||core.Texture.EMPTY,this._cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,value))if(value.baseTexture.valid)this._onTextureUpdate();else value.once("update",this._onTextureUpdate,this)},enumerable:!1,configurable:!0});return Sprite}(global.Container);exports.Sprite=require}
//# sourceMappingURL=module$node_modules$$pixi$sprite$dist$cjs$sprite.js.map
