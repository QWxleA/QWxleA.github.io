{
"version":3,
"file":"module$node_modules$graceful_fs$polyfills.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/graceful-fs/polyfills.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$graceful_fs$polyfills\"] = function(global,require,module,exports) {\nvar process = require('process');\nvar constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats) {\n        if (stats.uid < 0) stats.uid += 0x100000000\n        if (stats.gid < 0) stats.gid += 0x100000000\n      }\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","process","constants","origCwd","cwd","platform","env","GRACEFUL_FS_PLATFORM","process.cwd","call","er","chdir","process.chdir","d","Object","setPrototypeOf","patch","fs","patchLchmod","lchmod","fs.lchmod","path","mode","callback","open","O_WRONLY","O_SYMLINK","err","fd","fchmod","close","err2","lchmodSync","fs.lchmodSync","openSync","threw","ret","fchmodSync","closeSync","patchLutimes","hasOwnProperty","lutimes","fs.lutimes","at","mt","cb","futimes","er2","lutimesSync","fs.lutimesSync","futimesSync","_a","_b","_c","nextTick","chmodFix","orig","target","chownErOk","apply","arguments","chmodFixSync","chownFix","uid","gid","chownFixSync","statFix","options","stats","statFixSync","code","getuid","version","match","chown","fchown","lchown","chmod","chownSync","fchownSync","lchownSync","chmodSync","stat","fstat","lstat","statSync","fstatSync","lstatSync","fs.lchown","fs.lchownSync","rename","fs$rename","from","to","start","Date","now","backoff","CB","setTimeout","stater","st","read","fs$read","buffer","offset","length","position","callback_","eagCounter","_","__","readSync","fs$readSync"]
}
