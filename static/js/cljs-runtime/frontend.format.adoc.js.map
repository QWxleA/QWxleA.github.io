{"version":3,"sources":["frontend/format/adoc.cljs"],"mappings":"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","names":["frontend.format.adoc/loaded?","js/window.Asciidoctor","this__4502__auto__","k__4503__auto__","this__4504__auto__","k73395","else__4505__auto__","G__73399","cljs.core.get","__extmap","this__4522__auto__","f__4523__auto__","init__4524__auto__","cljs.core.reduce","ret__4525__auto__","p__73400","vec__73401","k__4526__auto__","cljs.core.nth","v__4527__auto__","this__4517__auto__","writer__4518__auto__","opts__4519__auto__","pr-pair__4520__auto__","keyval__4521__auto__","cljs.core/pr-sequential-writer","cljs.core.concat","G__73394","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__4500__auto__","__meta","this__4497__auto__","__hash","this__4506__auto__","cljs.core/count","this__4498__auto__","h__4360__auto__","coll__4499__auto__","cljs.core/hash-unordered-coll","this73396","other73397","cljs.core._EQ_","cljs.core/PROTOCOL_SENTINEL","this__4512__auto__","k__4513__auto__","cljs.core/contains?","cljs.core.dissoc","cljs.core/-with-meta","cljs.core.into","cljs.core/not-empty","this__4509__auto__","this__4510__auto__","k__4511__auto__","pred__73404","cljs.core/keyword-identical?","expr__73405","cljs.core.assoc","this__4515__auto__","cljs.core/seq","this__4501__auto__","this__4507__auto__","entry__4508__auto__","cljs.core/vector?","cljs.core/-nth","cljs.core/-conj","frontend.format.adoc/AdocMode","this__4546__auto__","cljs.core/List","writer__4547__auto__","cljs.core/-write","G__73398","extmap__4542__auto__","G__73409","cljs.core/record?","frontend.format.adoc/->AdocMode","frontend.format.adoc/map->AdocMode","_this","_content","_config","content","_references","config","cljs.core/clj->js","ok-handler","frontend.loader.load","_title"],"sourcesContent":["(ns frontend.format.adoc\n  (:require [frontend.format.protocol :as protocol]\n            [frontend.loader :as loader]))\n\n(defn loaded? []\n  js/window.Asciidoctor)\n\n(defrecord AdocMode []\n  protocol/Format\n  (toEdn [_this _content _config]\n    nil)\n  (toHtml [_this content _config _references]\n    (when (loaded?)\n      (let [config {:attributes {:showTitle false\n                                 :hardbreaks true\n                                 :icons \"font\"\n                                 ;; :source-highlighter \"pygments\"\n                                 }}]\n        (.convert (js/window.Asciidoctor) content (clj->js config)))))\n  (loaded? [_this]\n    (some? (loaded?)))\n  (lazyLoad [_this ok-handler]\n    (loader/load\n     \"https://cdnjs.cloudflare.com/ajax/libs/asciidoctor.js/1.5.9/asciidoctor.min.js\"\n     ok-handler))\n  (exportMarkdown [_this _content _config _references]\n    (throw \"not support\"))\n  (exportOPML [_this _content _config _title _references]\n    (throw \"not support\")))\n"]}