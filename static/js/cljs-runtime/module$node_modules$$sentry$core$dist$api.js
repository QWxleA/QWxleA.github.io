shadow$provide.module$node_modules$$sentry$core$dist$api=function(global,require,module,exports){function getBaseApiEndpoint(dsn){return(dsn.protocol?dsn.protocol+":":"")+"//"+dsn.host+(dsn.port?":"+dsn.port:"")+(dsn.path?"/"+dsn.path:"")+"/api/"}function _getIngestEndpoint(dsn,target){return""+getBaseApiEndpoint(dsn)+dsn.projectId+"/"+target+"/"}function _encodedAuth(dsn){return utils_1.urlEncode({sentry_key:dsn.publicKey,sentry_version:"7"})}function getStoreEndpointWithUrlEncodedAuth(dsn){return _getIngestEndpoint(dsn,
"store")+"?"+_encodedAuth(dsn)}function getEnvelopeEndpointWithUrlEncodedAuth(dsn,tunnel){return tunnel?tunnel:_getIngestEndpoint(dsn,"envelope")+"?"+_encodedAuth(dsn)}Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("module$node_modules$$sentry$utils$dist$index");global=function(){function API(dsn,metadata,tunnel){void 0===metadata&&(metadata={});this.dsn=dsn;this._dsnObject=utils_1.makeDsn(dsn);this.metadata=metadata;this._tunnel=tunnel}API.prototype.getDsn=function(){return this._dsnObject};
API.prototype.forceEnvelope=function(){return!!this._tunnel};API.prototype.getBaseApiEndpoint=function(){return getBaseApiEndpoint(this._dsnObject)};API.prototype.getStoreEndpoint=function(){return _getIngestEndpoint(this._dsnObject,"store")};API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return getStoreEndpointWithUrlEncodedAuth(this._dsnObject)};API.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return getEnvelopeEndpointWithUrlEncodedAuth(this._dsnObject,this._tunnel)};
return API}();exports.API=global;exports.initAPIDetails=function(dsn,metadata,tunnel){return{initDsn:dsn,metadata:metadata||{},dsn:utils_1.makeDsn(dsn),tunnel}};exports.getStoreEndpointWithUrlEncodedAuth=getStoreEndpointWithUrlEncodedAuth;exports.getEnvelopeEndpointWithUrlEncodedAuth=getEnvelopeEndpointWithUrlEncodedAuth;exports.getRequestHeaders=function(dsn,clientName,clientVersion){var header=["Sentry sentry_version\x3d7"];header.push("sentry_client\x3d"+clientName+"/"+clientVersion);header.push("sentry_key\x3d"+
dsn.publicKey);dsn.pass&&header.push("sentry_secret\x3d"+dsn.pass);return{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}};exports.getReportDialogEndpoint=function(dsnLike,dialogOptions){var dsn=utils_1.makeDsn(dsnLike);dsnLike=getBaseApiEndpoint(dsn)+"embed/error-page/";dsn="dsn\x3d"+utils_1.dsnToString(dsn);for(var key in dialogOptions)"dsn"!==key&&("user"===key?dialogOptions.user&&(dialogOptions.user.name&&(dsn+="\x26name\x3d"+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&
(dsn+="\x26email\x3d"+encodeURIComponent(dialogOptions.user.email))):dsn+="\x26"+encodeURIComponent(key)+"\x3d"+encodeURIComponent(dialogOptions[key]));return dsnLike+"?"+dsn}}
//# sourceMappingURL=module$node_modules$$sentry$core$dist$api.js.map
