{"version":3,"sources":["frontend/components/sidebar.cljs"],"mappings":"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","names":["rum.core/lazy-build","rum.core/build-defc","p__48236","map__48237","cljs.core/--destructure-map","cljs.core.get","daiquiri.core/create-element","daiquiri.util/join-classes","attrs48239","cljs.core/map?","daiquiri.interpreter/element-attributes","daiquiri.normalize.merge_with_class","daiquiri.interpreter/interpret","attrs48240","attrs48238","frontend.components.sidebar/nav-content-item","name","class","child","e","target","parent","frontend.components.svg/arrow-down-v2","frontend.components.sidebar/delta-y","temp__5720__auto__","rect","frontend.components.sidebar/move-up?","delta","attrs48242","frontend.components.sidebar/page-name","icon","original-name","frontend.db.model/get-page-original-name","frontend.util/safe-page-name-sanity-lc","frontend.components.sidebar.goog$module$goog$object.get","page-entity","G__48241","frontend.db/entity","frontend.state/sidebar-add-block!","frontend.state/get-current-repo","frontend.handler.route.redirect_to_page_BANG_","frontend.extensions.pdf.assets/fix-local-asset-filename","frontend.components.sidebar/get-page-icon","default-icon","from-properties","cljs.core.get_in","cljs.core.into","or__5043__auto__","cljs.core.not_EQ_","rum.core/build-defcs","frontend.components.sidebar/favorite-item","rum.core.local","state","_t","up?","dragging-over","frontend.state/sub","and__5041__auto__","cljs.core/deref","_event","frontend.state/set-state!","frontend.util/stop","cljs.core/reset!","cljs.core._EQ_","frontend.state/state","_e","frontend.handler.page/reorder-favorites!","frontend.components.sidebar/favorites","rum.core/reactive","t","frontend.ui.icon","clojure.string/upper-case","reitit.frontend.easy.push_state","favorites","frontend.state/sub-graph-config","cljs.core.remove","clojure.string/blank?","cljs.core.filter","cljs.core/string?","cljs.core/seq","iter__5520__auto__","s__48250","cljs.core/LazySeq","cljs.core/chunked-seq?","c__5518__auto__","size__5519__auto__","cljs.core/count","b__48252","cljs.core/chunk-buffer","i__48251","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__48249","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","entity","G__48253","G__48254","frontend.components.sidebar/recent-pages","frontend.db-mixins/query","pages","frontend.db/sub-key-value","cljs.core.map","page","frontend.util/distinct-by","s__48262","b__48264","i__48263","iter__48261","G__48265","G__48266","attrs48267","attrs48268","frontend.components.sidebar/flashcards","frontend.extensions.srs/update-cards-due-count!","_state","srs-open?","num","frontend.util/classnames","frontend.state/pub-event!","frontend.context.i18n.t","frontend.components.sidebar/get-default-home-if-valid","default-home","frontend.state/get-default-home","G__48269","cljs.core.dissoc","p__48270","map__48271","frontend.components.sidebar/sidebar-item","on-click-handler","title","active","href","p1__48272#","attrs48273","attrs48274","frontend.components.sidebar/sidebar-nav","route-match","close-modal-fn","left-sidebar-open?","route-name","frontend.util/sm-breakpoint?","cljs.core/some","sel","cljs.core/boolean","frontend.components.repo/repos-dropdown","temp__5718__auto__","frontend.handler.route/redirect-to-home!","cljs.core/not","frontend.handler.route/go-to-journals!","reitit.frontend.easy.href","frontend.context.i18n/t","frontend.config/publishing?","frontend.mobile.util/native-platform?","frontend.state/toggle-left-sidebar!","p__48275","map__48276","frontend.components.sidebar/left-sidebar","close-fn","frontend.state/set-left-sidebar-open!","rum.core/adapt-class-helper","frontend.components.sidebar/recording-bar","js/module$node_modules$react_draggable$dist$react_draggable","pos","G__48277","frontend.state/get-input","frontend.util.cursor/pos","frontend.state/set-editor-last-pos!","block","frontend.handler.editor.edit_block_BANG_","input","saved-cursor","frontend.state/get-editor-last-pos","frontend.util.cursor/move-cursor-to","frontend.util/keyboard-height","frontend.mobile.footer/audio-record-cp","p__48278","map__48279","attrs48280","attrs48281","attrs48282","frontend.components.sidebar/main","element","goog.dom/getElement","cljs-drag-n-drop.core/subscribe!","files","id","frontend.state/get-edit-input-id","format","frontend.state/get-edit-block","frontend.handler.editor/upload-asset","frontend.handler.editor/*asset-uploading?","frontend.handler.common/listen-to-scroll!","global-graph-pages?","indexeddb-support?","db-restoring?","main-content","show-action-bar?","show-recording-bar?","onboarding-and-home?","frontend.config.demo_graph_QMARK_","frontend.mobile.action-bar/action-bar","cljs.core/contains?","frontend.mobile.mobile-bar/mobile-bar","frontend.mobile.footer/footer","frontend.components.widgets/demo-graph-alert","frontend.ui/loading","frontend.util/hiccup->class","frontend.mobile.util/native-iphone?","frontend.components.onboarding/intro","js/frontend","js/frontend.components","js/frontend.components.sidebar","js/frontend.components.sidebar.sidebar-inited?","frontend.components.sidebar/sidebar-inited?","cljs.core.atom","frontend.components.sidebar/parsing-progress","rum.core/static","finished","total","width","js/Math.round","left-label","G__48283","frontend.util/node-path","frontend.ui/progress-bar-with-label","frontend.components.sidebar/file-sync-download-progress","s__48285","b__48287","i__48286","iter__48284","file","attrs48288","frontend.components.sidebar/main-content","current-repo","sidebar","seq__48291","chunk__48292","count__48293","i__48294","c__5565__auto__","cljs.core/chunk-first","cljs.core/next","vec__48301","cljs.core.nth","vec__48304","db-id","block-type","frontend.state/mobile?","loading-files?","journals-length","latest-journals","G__48289","G__48290","frontend.db/get-latest-journals","graph-parsing-state","graph-file-sync-download-init-state","frontend.state/get-current-route","frontend.state/route-has-p?","cljs.core/empty?","frontend.handler.route/redirect!","frontend.components.journal/journals","frontend.components.sidebar/custom-context-menu","links","G__48309","G__48310","frontend.ui/css-transition","frontend.components.sidebar/new-block-mode","frontend.ui/tippy","frontend.ui/render-keyboard-shortcut","frontend.modules.shortcut.data-helper/gen-shortcut-seq","frontend.state/toggle-document-mode!","frontend.components.sidebar/help-button","frontend.components.sidebar/hide-context-menu-and-clear-selection","frontend.state/hide-custom-context-menu!","frontend.util/meta-key?","frontend.handler.editor/clear-selection!","map__48311","frontend.components.sidebar/sidebar","frontend.mixins/modal","frontend.mixins.event_mixin","frontend.mixins/listen","js/window","frontend.state/modal-opened?","frontend.util/node-test?","frontend.state/close-modal!","frontend.handler.mobile.swipe/setup-listeners!","open-fn","granted?","theme","system-theme?","light?","sidebar-open?","settings-open?","wide-mode?","right-sidebar-blocks","frontend.state/sub-right-sidebar-blocks","page?","home?","edit?","logged?","frontend.handler.user/logged-in?","frontend.components.theme/container","frontend.handler.editor/unhighlight-blocks!","frontend.util/fix-open-external-with-shift!","frontend.components.header/header","frontend.components.right-sidebar/sidebar","frontend.ui/notification","frontend.ui/modal","frontend.ui/sub-modal","frontend.components.command-palette/command-palette-modal","frontend.components.select/select-modal","frontend.components.plugins/custom-js-installer","frontend.config/mobile?"],"sourcesContent":["(ns frontend.components.sidebar\n  (:require [cljs-drag-n-drop.core :as dnd]\n            [clojure.string :as string]\n            [frontend.components.command-palette :as command-palette]\n            [frontend.components.header :as header]\n            [frontend.components.journal :as journal]\n            [frontend.components.onboarding :as onboarding]\n            [frontend.components.plugins :as plugins]\n            [frontend.components.repo :as repo]\n            [frontend.components.right-sidebar :as right-sidebar]\n            [frontend.components.select :as select]\n            [frontend.components.svg :as svg]\n            [frontend.components.theme :as theme]\n            [frontend.components.widgets :as widgets]\n            [frontend.config :as config]\n            [frontend.context.i18n :refer [t]]\n            [frontend.db :as db]\n            [frontend.db-mixins :as db-mixins]\n            [frontend.db.model :as db-model]\n            [frontend.extensions.pdf.assets :as pdf-assets]\n            [frontend.extensions.srs :as srs]\n            [frontend.handler.common :as common-handler]\n            [frontend.handler.editor :as editor-handler]\n            [frontend.handler.mobile.swipe :as swipe]\n            [frontend.handler.page :as page-handler]\n            [frontend.handler.route :as route-handler]\n            [frontend.handler.user :as user-handler]\n            [frontend.mixins :as mixins]\n            [frontend.mobile.action-bar :as action-bar]\n            [frontend.mobile.footer :as footer]\n            [frontend.mobile.mobile-bar :refer [mobile-bar]]\n            [frontend.mobile.util :as mobile-util]\n            [frontend.modules.shortcut.data-helper :as shortcut-dh]\n            [frontend.state :as state]\n            [frontend.ui :as ui]\n            [frontend.util :as util]\n            [frontend.util.cursor :as cursor]\n            [goog.dom :as gdom]\n            [goog.object :as gobj]\n            [react-draggable]\n            [reitit.frontend.easy :as rfe]\n            [rum.core :as rum]))\n\n(rum/defc nav-content-item\n  [name {:keys [class]} child]\n\n  [:div.nav-content-item.is-expand\n   {:class class}\n   [:div.nav-content-item-inner\n    [:div.header.items-center.mb-1\n     {:on-click (fn [^js/MouseEvent e]\n                  (let [^js target (.-target e)\n                        ^js parent (.closest target \".nav-content-item\")]\n                    (.toggle (.-classList parent) \"is-expand\")))}\n\n     [:div.font-medium.fade-link name]\n     [:span\n      [:a.more svg/arrow-down-v2]]]\n    [:div.bd child]]])\n\n(defn- delta-y\n  [e]\n  (when-let [target (.. e -target)]\n    (let [rect (.. target getBoundingClientRect)]\n     (- (.. e -pageY) (.. rect -top)))))\n\n(defn- move-up?\n  [e]\n  (let [delta (delta-y e)]\n    (< delta 14)))\n\n(rum/defc page-name\n  [name icon]\n  (let [original-name (db-model/get-page-original-name name)]\n    [:a {:on-click (fn [e]\n                     (let [name (util/safe-page-name-sanity-lc name)]\n                       (if (gobj/get e \"shiftKey\")\n                         (when-let [page-entity (db/entity [:block/name name])]\n                           (state/sidebar-add-block!\n                            (state/get-current-repo)\n                            (:db/id page-entity)\n                            :page))\n                         (route-handler/redirect-to-page! name))))}\n     [:span.page-icon icon]\n     (pdf-assets/fix-local-asset-filename original-name)]))\n\n(defn get-page-icon [page-entity]\n  (let [default-icon \"\u25e6\"\n        from-properties (get-in (into {} page-entity) [:block/properties :icon])]\n    (or\n     (when (not= from-properties \"\") from-properties)\n     default-icon))) ;; Fall back to default if icon is undefined or empty\n\n(rum/defcs favorite-item <\n  (rum/local nil ::up?)\n  (rum/local nil ::dragging-over)\n  [state _t name icon]\n  (let [up? (get state ::up?)\n        dragging-over (get state ::dragging-over)\n        target (state/sub :favorites/dragging)]\n    [:li.favorite-item\n     {:key name\n      :title name\n      :data-ref name\n      :class (if (and target @dragging-over (not= target @dragging-over))\n               \"dragging-target\"\n               \"\")\n      :draggable true\n      :on-drag-start (fn [_event]\n                       (state/set-state! :favorites/dragging name))\n      :on-drag-over (fn [e]\n                      (util/stop e)\n                      (reset! dragging-over name)\n                      (when-not (= name (get @state/state :favorites/dragging))\n                        (reset! up? (move-up? e))))\n      :on-drag-leave (fn [_e]\n                       (reset! dragging-over nil))\n      :on-drop (fn [e]\n                 (page-handler/reorder-favorites! {:to name\n                                                   :up? (move-up? e)})\n                 (reset! up? nil)\n                 (reset! dragging-over nil))}\n     (page-name name icon)]))\n\n(rum/defc favorites < rum/reactive\n  [t]\n  (nav-content-item\n   [:a.flex.items-center.text-sm.font-medium.rounded-md.wrap-th\n    (ui/icon \"star mr-1\" {:style {:font-size 16}})\n    [:span.flex-1.ml-1 (string/upper-case (t :left-side-bar/nav-favorites))]]\n\n   {:class \"favorites\"\n    :edit-fn\n    (fn [e]\n      (rfe/push-state :page {:name \"Favorites\"})\n      (util/stop e))}\n\n   (let [favorites (->> (:favorites (state/sub-graph-config))\n                        (remove string/blank?)\n                        (filter string?))]\n     (when (seq favorites)\n       [:ul.favorites.text-sm\n        (for [name favorites]\n          (when-not (string/blank? name)\n            (when-let [entity (db/entity [:block/name (util/safe-page-name-sanity-lc name)])]\n              (let [icon (get-page-icon entity)]\n                (favorite-item t name icon)))))]))))\n\n(rum/defc recent-pages < rum/reactive db-mixins/query\n  [t]\n  (nav-content-item\n   [:a.flex.items-center.text-sm.font-medium.rounded-md.wrap-th\n    (ui/icon \"history mr-2\" {:style {:font-size 16}})\n    [:span.flex-1\n     (string/upper-case (t :left-side-bar/nav-recent-pages))]]\n\n   {:class \"recent\"}\n\n   (let [pages (->> (db/sub-key-value :recent/pages)\n                    (remove string/blank?)\n                    (filter string?)\n                    (map (fn [page] {:lowercase (util/safe-page-name-sanity-lc page)\n                                     :page page}))\n                    (util/distinct-by :lowercase)\n                    (map :page))]\n     [:ul.text-sm\n      (for [name pages]\n        (when-let [entity (db/entity [:block/name (util/safe-page-name-sanity-lc name)])]\n          [:li.recent-item.select-none\n           {:key name\n            :title name\n            :data-ref name}\n           (page-name name (get-page-icon entity))]))])))\n\n(rum/defcs flashcards < db-mixins/query rum/reactive\n  {:did-mount (fn [state]\n                (srs/update-cards-due-count!)\n                state)}\n  [_state srs-open?]\n  (let [num (state/sub :srs/cards-due-count)]\n    [:a.item.group.flex.items-center.px-2.py-2.text-sm.font-medium.rounded-md\n     {:class (util/classnames [{:active srs-open?}])\n      :on-click #(state/pub-event! [:modal/show-cards])}\n     (ui/icon \"infinity\")\n     [:span.flex-1 (t :right-side-bar/flashcards)]\n     (when (and num (not (zero? num)))\n       [:span.ml-3.inline-block.py-0.5.px-3.text-xs.font-medium.rounded-full.fade-in num])]))\n\n(defn get-default-home-if-valid\n  []\n  (when-let [default-home (state/get-default-home)]\n    (let [page (:page default-home)\n          page (when (and (string? page)\n                          (not (string/blank? page)))\n                 (db/entity [:block/name (util/safe-page-name-sanity-lc page)]))]\n      (if page\n        default-home\n        (dissoc default-home :page)))))\n\n(defn sidebar-item\n  [{on-click-handler :on-click-handler\n    class :class\n    title :title\n    icon :icon\n    active :active\n    href :href}]\n  [:div\n   {:class class}\n   [:a.item.group.flex.items-center.px-2.py-2.text-sm.font-medium.rounded-md\n    {:on-click on-click-handler\n     :class (when active \"active\")\n     :href href}\n    (ui/icon (str icon))\n    [:span.flex-1 title]]])\n\n(rum/defc sidebar-nav\n  [route-match close-modal-fn left-sidebar-open? srs-open?]\n  (let [default-home (get-default-home-if-valid)\n        route-name (get-in route-match [:data :name])]\n\n    [:div.left-sidebar-inner.flex-1.flex.flex-col.min-h-0\n     {:on-click #(when-let [^js target (and (util/sm-breakpoint?) (.-target %))]\n                   (when (some (fn [sel] (boolean (.closest target sel)))\n                               [\".favorites .bd\" \".recent .bd\" \".dropdown-wrapper\" \".nav-header\"])\n                     (close-modal-fn)))}\n     [:div.flex.flex-col.pb-4.wrap\n      [:nav.px-4.pt-1.space-y-1 {:aria-label \"Sidebar\"}\n       (repo/repos-dropdown)\n\n       [:div.nav-header\n        (if-let [page (:page default-home)]\n          (sidebar-item\n            {:class            \"home-nav\"\n             :title            page\n             :on-click-handler route-handler/redirect-to-home!\n             :active           (and (not srs-open?)\n                                    (= route-name :page)\n                                    (= page (get-in route-match [:path-params :name])))\n             :icon             \"home\"})\n          (sidebar-item\n            {:class            \"journals-nav\"\n             :active           (and (not srs-open?)\n                                 (or (= route-name :all-journals) (= route-name :home)))\n             :title            (t :left-side-bar/journals)\n             :on-click-handler route-handler/go-to-journals!\n             :icon             \"calendar\"}))\n\n        [:div.flashcards-nav\n         (flashcards srs-open?)]\n\n        (sidebar-item\n          {:class  \"graph-view-nav\"\n           :title  (t :right-side-bar/graph-view)\n           :href   (rfe/href :graph)\n           :active (and (not srs-open?) (= route-name :graph))\n           :icon   \"hierarchy\"})\n\n        (sidebar-item\n          {:class  \"all-pages-nav\"\n           :title  (t :right-side-bar/all-pages)\n           :href   (rfe/href :all-pages)\n           :active (and (not srs-open?) (= route-name :all-pages))\n           :icon   \"files\"})]]\n\n      (favorites t)\n\n      (when (and left-sidebar-open? (not config/publishing?)) (recent-pages t))\n\n      (when-not (mobile-util/native-platform?)\n       [:nav.px-2 {:aria-label \"Sidebar\"\n                   :class      \"new-page\"}\n        (when-not config/publishing?\n          [:a.item.group.flex.items-center.px-2.py-2.text-sm.font-medium.rounded-md.new-page-link\n           {:on-click (fn []\n                        (and (util/sm-breakpoint?)\n                             (state/toggle-left-sidebar!))\n                        (state/pub-event! [:go/search]))}\n           (ui/icon \"circle-plus mr-3\" {:style {:font-size 20}})\n           [:span.flex-1 (t :right-side-bar/new-page)]])])]]))\n\n(rum/defc left-sidebar < rum/reactive\n  [{:keys [left-sidebar-open? route-match]}]\n  (let [close-fn #(state/set-left-sidebar-open! false)\n        srs-open? (= :srs (state/sub :modal/id))]\n    [:div#left-sidebar.cp__sidebar-left-layout\n     {:class (util/classnames [{:is-open left-sidebar-open?}])}\n\n     ;; sidebar contents\n     (sidebar-nav route-match close-fn left-sidebar-open? srs-open?)\n     [:span.shade-mask {:on-click close-fn}]]))\n\n(rum/defc recording-bar\n  []\n  [:> react-draggable\n   {:onStart (fn [_event]\n               (when-let [pos (some-> (state/get-input) cursor/pos)]\n                 (state/set-editor-last-pos! pos)))\n    :onStop (fn [_event]\n              (when-let [block (get-in @state/state [:editor/block :block/uuid])]\n                (editor-handler/edit-block! block :max (:block/uuid block))\n                (when-let [input (state/get-input)]\n                  (when-let [saved-cursor (state/get-editor-last-pos)]\n                    (cursor/move-cursor-to input saved-cursor)))))}\n   [:div#audio-record-toolbar\n    {:style {:bottom (+ @util/keyboard-height 45)}}\n    (footer/audio-record-cp)]])\n\n(rum/defc main <\n  {:did-mount (fn [state]\n                (when-let [element (gdom/getElement \"main-content-container\")]\n                  (dnd/subscribe!\n                   element\n                   :upload-files\n                   {:drop (fn [_e files]\n                            (when-let [id (state/get-edit-input-id)]\n                              (let [format (:block/format (state/get-edit-block))]\n                                (editor-handler/upload-asset id files format editor-handler/*asset-uploading? true))))})\n                  (common-handler/listen-to-scroll! element))\n                state)}\n  [{:keys [route-match global-graph-pages? route-name indexeddb-support? db-restoring? main-content show-action-bar? show-recording-bar?]}]\n  (let [left-sidebar-open? (state/sub :ui/left-sidebar-open?)\n        onboarding-and-home? (and (or (nil? (state/get-current-repo)) (config/demo-graph?))\n                                  (not config/publishing?)\n                                  (= :home route-name))]\n    [:div#main-container.cp__sidebar-main-layout.flex-1.flex\n     {:class (util/classnames [{:is-left-sidebar-open left-sidebar-open?}])}\n\n     ;; desktop left sidebar layout\n     (left-sidebar {:left-sidebar-open? left-sidebar-open?\n                    :route-match route-match})\n\n     [:div#main-content-container.scrollbar-spacing.w-full.flex.justify-center.flex-row\n\n      (when show-action-bar?\n        (action-bar/action-bar))\n      \n      [:div.cp__sidebar-main-content\n       {:data-is-global-graph-pages global-graph-pages?\n        :data-is-full-width         (or global-graph-pages?\n                                        (contains? #{:all-files :all-pages :my-publishing} route-name))}\n\n       (when show-recording-bar?\n         (recording-bar))\n\n       (mobile-bar)\n       (footer/footer)\n       \n       (when (and (not (mobile-util/native-platform?))\n                  (contains? #{:page :home} route-name))\n         (widgets/demo-graph-alert))\n       \n       (cond\n         (not indexeddb-support?)\n         nil\n\n         db-restoring?\n         [:div.mt-20\n          [:div.ls-center\n           (ui/loading (t :loading))]]\n\n         :else\n         [:div {:class (if global-graph-pages? \"\" (util/hiccup->class \"max-w-7xl.mx-auto.pb-24\"))\n                :style {:margin-bottom (cond\n                                         global-graph-pages? 0\n                                         onboarding-and-home? -48\n                                         :else 120)\n                        :padding-bottom (when (mobile-util/native-iphone?) \"7rem\")}}\n          main-content])\n\n       (when onboarding-and-home?\n         [:div {:style {:padding-bottom 200}}\n          (onboarding/intro)])]]]))\n\n(defonce sidebar-inited? (atom false))\n;; TODO: simplify logic\n\n(rum/defc parsing-progress < rum/static\n  [state]\n  (let [finished (or (:finished state) 0)\n        total (:total state)\n        width (js/Math.round (* (.toFixed (/ finished total) 2) 100))\n        left-label [:div.flex.flex-row.font-bold\n                    (t :parsing-files)\n                    [:div.hidden.md:flex.flex-row\n                     [:span.mr-1 \": \"]\n                     [:div.text-ellipsis-wrapper {:style {:max-width 300}}\n                      (util/node-path.basename\n                       (:current-parsing-file state))]]]]\n    (ui/progress-bar-with-label width left-label (str finished \"/\" total))))\n\n(rum/defc file-sync-download-progress < rum/static\n  [state]\n  (let [finished (or (:finished state) 0)\n        total (:total state)\n        width (js/Math.round (* (.toFixed (/ finished total) 2) 100))\n        left-label [:div.flex.flex-row.font-bold\n                    \"Downloading\"\n                    [:div.hidden.md:flex.flex-row\n                     [:span.mr-1 \": \"]\n                     [:ul\n                      (for [file (:downloading-files state)]\n                        [:li file])]]]]\n    (ui/progress-bar-with-label width left-label (str finished \"/\" total))))\n\n(rum/defc main-content < rum/reactive db-mixins/query\n  {:init (fn [state]\n           (when-not @sidebar-inited?\n             (let [current-repo (state/sub :git/current-repo)\n                   default-home (get-default-home-if-valid)\n                   sidebar (:sidebar default-home)\n                   sidebar (if (string? sidebar) [sidebar] sidebar)]\n               (when-let [pages (->> (seq sidebar)\n                                     (remove string/blank?))]\n                 (doseq [page pages]\n                   (let [page (util/safe-page-name-sanity-lc page)\n                         [db-id block-type] (if (= page \"contents\")\n                                              [\"contents\" :contents]\n                                              [page :page])]\n                     (state/sidebar-add-block! current-repo db-id block-type)))\n                 (reset! sidebar-inited? true))))\n           (when (state/mobile?)\n                  (state/set-state! :mobile/show-tabbar? true))\n           state)}\n  []\n  (let [default-home (get-default-home-if-valid)\n        current-repo (state/sub :git/current-repo)\n        loading-files? (when current-repo (state/sub [:repo/loading-files? current-repo]))\n        journals-length (state/sub :journals-length)\n        latest-journals (db/get-latest-journals (state/get-current-repo) journals-length)\n        graph-parsing-state (state/sub [:graph/parsing-state current-repo])\n        graph-file-sync-download-init-state (state/sub [:file-sync/download-init-progress current-repo])]\n    (cond\n      (or\n       (:downloading? graph-file-sync-download-init-state)\n       (not= (:total graph-file-sync-download-init-state) (:finished graph-file-sync-download-init-state)))\n      [:div.flex.items-center.justify-center.full-height-without-header\n       [:div.flex-1\n        (file-sync-download-progress graph-file-sync-download-init-state)]]\n\n      (or\n       (:graph-loading? graph-parsing-state)\n       (not= (:total graph-parsing-state) (:finished graph-parsing-state)))\n      [:div.flex.items-center.justify-center.full-height-without-header\n       [:div.flex-1\n        (parsing-progress graph-parsing-state)]]\n\n      :else\n      [:div\n       (cond\n         (and default-home\n              (= :home (state/get-current-route))\n              (not (state/route-has-p?))\n              (:page default-home))\n         (route-handler/redirect-to-page! (:page default-home))\n\n         (and config/publishing?\n              (not default-home)\n              (empty? latest-journals))\n         (route-handler/redirect! {:to :all-pages})\n\n         loading-files?\n         (ui/loading (t :loading-files))\n\n         (seq latest-journals)\n         (journal/journals latest-journals)\n\n         ;; FIXME: why will this happen?\n         :else\n         [:div])])))\n\n(rum/defc custom-context-menu < rum/reactive\n  []\n  (when (state/sub :custom-context-menu/show?)\n    (when-let [links (state/sub :custom-context-menu/links)]\n      (ui/css-transition\n       {:class-names \"fade\"\n        :timeout {:enter 500\n                  :exit 300}}\n       links))))\n\n(rum/defc new-block-mode < rum/reactive\n  []\n  (when (state/sub [:document/mode?])\n    (ui/tippy {:html [:div.p-2\n                      [:p.mb-2 [:b \"Document mode\"]]\n                      [:ul\n                       [:li\n                        [:div.inline-block.mr-1 (ui/render-keyboard-shortcut (shortcut-dh/gen-shortcut-seq :editor/new-line))]\n                        [:p.inline-block  \"to create new block\"]]\n                       [:li\n                        [:p.inline-block.mr-1 \"Click `D` or type\"]\n                        [:div.inline-block.mr-1 (ui/render-keyboard-shortcut (shortcut-dh/gen-shortcut-seq :ui/toggle-document-mode))]\n                        [:p.inline-block \"to toggle document mode\"]]]]}\n              [:a.block.px-1.text-sm.font-medium.bg-base-2.rounded-md.mx-2\n               {:on-click state/toggle-document-mode!}\n               \"D\"])))\n\n(rum/defc help-button < rum/reactive\n  []\n  (when-not (state/sub :ui/sidebar-open?)\n    [:div.cp__sidebar-help-btn\n     [:div.inner\n      {:title    (t :help-shortcut-title)\n       :on-click (fn []\n                   (state/sidebar-add-block! (state/get-current-repo) \"help\" :help))}\n      \"?\"]]))\n\n(defn- hide-context-menu-and-clear-selection\n  [e]\n  (state/hide-custom-context-menu!)\n  (when-not (or (gobj/get e \"shiftKey\")\n                (util/meta-key? e))\n    (editor-handler/clear-selection!)))\n\n(rum/defcs ^:large-vars/cleanup-todo sidebar <\n  (mixins/modal :modal/show?)\n  rum/reactive\n  (mixins/event-mixin\n   (fn [state]\n     (mixins/listen state js/window \"click\" hide-context-menu-and-clear-selection)\n     (mixins/listen state js/window \"keydown\"\n                    (fn [e]\n                      (when (= 27 (.-keyCode e))\n                        (if (and (state/modal-opened?)\n                                 (not\n                                  (and\n                                   ;; FIXME: this does not work on CI tests\n                                   util/node-test?\n                                   (:editor/editing? @state/state))))\n                          (state/close-modal!)\n                          (hide-context-menu-and-clear-selection e)))))))\n  {:did-mount (fn [state]\n                (swipe/setup-listeners!)\n                state)}\n  [state route-match main-content]\n  (let [{:keys [open-fn]} state\n        current-repo (state/sub :git/current-repo)\n        granted? (state/sub [:nfs/user-granted? (state/get-current-repo)])\n        theme (state/sub :ui/theme)\n        system-theme? (state/sub :ui/system-theme?)\n        light? (= \"light\" (state/sub :ui/theme))\n        sidebar-open?  (state/sub :ui/sidebar-open?)\n        settings-open? (state/sub :ui/settings-open?)\n        left-sidebar-open?  (state/sub :ui/left-sidebar-open?)\n        wide-mode? (state/sub :ui/wide-mode?)\n        right-sidebar-blocks (state/sub-right-sidebar-blocks)\n        route-name (get-in route-match [:data :name])\n        global-graph-pages? (= :graph route-name)\n        db-restoring? (state/sub :db/restoring?)\n        indexeddb-support? (state/sub :indexeddb/support?)\n        page? (= :page route-name)\n        home? (= :home route-name)\n        edit? (:editor/editing? @state/state)\n        default-home (get-default-home-if-valid)\n        logged? (user-handler/logged-in?)\n        show-action-bar? (state/sub :mobile/show-action-bar?)\n        show-recording-bar? (state/sub :mobile/show-recording-bar?)]\n    (theme/container\n     {:t             t\n      :theme         theme\n      :route         route-match\n      :current-repo  current-repo\n      :edit?         edit?\n      :nfs-granted?  granted?\n      :db-restoring? db-restoring?\n      :sidebar-open? sidebar-open?\n      :settings-open? settings-open?\n      :sidebar-blocks-len (count right-sidebar-blocks)\n      :system-theme? system-theme?\n      :on-click      (fn [e]\n                       (editor-handler/unhighlight-blocks!)\n                       (util/fix-open-external-with-shift! e))}\n\n     [:div.theme-inner\n      {:class (util/classnames [{:ls-left-sidebar-open left-sidebar-open?\n                                 :ls-right-sidebar-open sidebar-open?\n                                 :ls-wide-mode wide-mode?}])}\n\n      [:div.#app-container\n       [:div#left-container\n        {:class (if (state/sub :ui/sidebar-open?) \"overflow-hidden\" \"w-full\")}\n        (header/header {:open-fn        open-fn\n                        :light?         light?\n                        :current-repo   current-repo\n                        :logged?        logged?\n                        :page?          page?\n                        :route-match    route-match\n                        :default-home   default-home\n                        :new-block-mode new-block-mode})\n\n        (main {:route-match         route-match\n               :global-graph-pages? global-graph-pages?\n               :logged?             logged?\n               :home?               home?\n               :route-name          route-name\n               :indexeddb-support?  indexeddb-support?\n               :light?              light?\n               :db-restoring?       db-restoring?\n               :main-content        main-content\n               :show-action-bar?    show-action-bar?\n               :show-recording-bar? show-recording-bar?})]\n\n       (right-sidebar/sidebar)\n\n       [:div#app-single-container]]\n\n      (ui/notification)\n      (ui/modal)\n      (ui/sub-modal)\n      (command-palette/command-palette-modal)\n      (select/select-modal)\n      (custom-context-menu)\n      (plugins/custom-js-installer {:t t\n                                    :current-repo current-repo\n                                    :nfs-granted? granted?\n                                    :db-restoring? db-restoring?})\n      [:a#download.hidden]\n      (when\n          (and (not config/mobile?)\n               (not config/publishing?))\n          (help-button))])))\n"]}