shadow$provide.module$node_modules$$sentry$utils$dist$syncpromise=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var is_1=require("module$node_modules$$sentry$utils$dist$is");exports.resolvedSyncPromise=function(value){return new SyncPromise(function(resolve){resolve(value)})};exports.rejectedSyncPromise=function(reason){return new SyncPromise(function(_,reject){reject(reason)})};var SyncPromise=function(){function SyncPromise(executor){var _this=this;
this._state=0;this._handlers=[];this._resolve=function(value){_this._setResult(1,value)};this._reject=function(reason){_this._setResult(2,reason)};this._setResult=function(state,value){0===_this._state&&(is_1.isThenable(value)?void value.then(_this._resolve,_this._reject):(_this._state=state,_this._value=value,_this._executeHandlers()))};this._executeHandlers=function(){if(0!==_this._state){var cachedHandlers=_this._handlers.slice();_this._handlers=[];cachedHandlers.forEach(function(handler){if(!handler[0]){if(1===
_this._state)handler[1](_this._value);if(2===_this._state)handler[2](_this._value);handler[0]=!0}})}};try{executor(this._resolve,this._reject)}catch(e){this._reject(e)}}SyncPromise.prototype.then=function(onfulfilled,onrejected){var _this=this;return new SyncPromise(function(resolve,reject){_this._handlers.push([!1,function(result){if(onfulfilled)try{resolve(onfulfilled(result))}catch(e){reject(e)}else resolve(result)},function(reason){if(onrejected)try{resolve(onrejected(reason))}catch(e){reject(e)}else reject(reason)}]);
_this._executeHandlers()})};SyncPromise.prototype.catch=function(onrejected){return this.then(function(val){return val},onrejected)};SyncPromise.prototype.finally=function(onfinally){var _this=this;return new SyncPromise(function(resolve,reject){var val,isRejected;return _this.then(function(value){isRejected=!1;val=value;onfinally&&onfinally()},function(reason){isRejected=!0;val=reason;onfinally&&onfinally()}).then(function(){isRejected?reject(val):resolve(val)})})};return SyncPromise}();exports.SyncPromise=
SyncPromise}
//# sourceMappingURL=module$node_modules$$sentry$utils$dist$syncpromise.js.map
