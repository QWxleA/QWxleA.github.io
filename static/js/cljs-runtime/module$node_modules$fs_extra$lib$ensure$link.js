shadow$provide.module$node_modules$fs_extra$lib$ensure$link=function(global,require,module,exports){global=require("module$node_modules$universalify$index").fromCallback;const path=require("module$node_modules$path_browserify$index"),fs=require("module$node_modules$graceful_fs$graceful_fs"),mkdir=require("module$node_modules$fs_extra$lib$mkdirs$index"),pathExists=require("module$node_modules$fs_extra$lib$path_exists$index").pathExists;module.exports={createLink:global(function(srcpath,dstpath,callback){function makeLink(srcpath,
dstpath){fs.link(srcpath,dstpath,err=>{if(err)return callback(err);callback(null)})}pathExists(dstpath,(err$jscomp$2,destinationExists)=>{if(err$jscomp$2)return callback(err$jscomp$2);if(destinationExists)return callback(null);fs.lstat(srcpath,err$jscomp$1=>{if(err$jscomp$1)return err$jscomp$1.message=err$jscomp$1.message.replace("lstat","ensureLink"),callback(err$jscomp$1);const dir=path.dirname(dstpath);pathExists(dir,(err$jscomp$0,dirExists)=>{if(err$jscomp$0)return callback(err$jscomp$0);if(dirExists)return makeLink(srcpath,
dstpath);mkdir.mkdirs(dir,err=>{if(err)return callback(err);makeLink(srcpath,dstpath)})})})})}),createLinkSync:function(srcpath,dstpath){if(!fs.existsSync(dstpath)){try{fs.lstatSync(srcpath)}catch(err){throw err.message=err.message.replace("lstat","ensureLink"),err;}var dir=path.dirname(dstpath);if(fs.existsSync(dir))return fs.linkSync(srcpath,dstpath);mkdir.mkdirsSync(dir);return fs.linkSync(srcpath,dstpath)}}}}
//# sourceMappingURL=module$node_modules$fs_extra$lib$ensure$link.js.map
