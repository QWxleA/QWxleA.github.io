{"version":3,"sources":["frontend/extensions/lightbox.cljs"],"mappings":";AAKA,wCAAA,xCAAMA,wFACHC;AADH,AAEE,OAACC,kDACC,WAAKC;AAAL,AACE,OAACC,mDAAKH,IAAIE;;;AAEhB,AAAKE,uCACH,2EAAA,OAAA,hFAAI,+DAAA,/DAACC,6CAAEC;AAIT,iDAAA,jDAAMC;AAAN,AAEE,OAACR,sCAAS,sCAAA,rCAAKK;;AAEjB,oDAAA,pDAAMI,gHACHC;AADH,AAGE,OAAAC,gDAAA,KAAA,WAAAC;AAAA,AAAA,OAAAD,iGAAA,WAAQG,5DAAE,AAACN;AAAX,AAAA,OAAAK,2BAAA,AACE,2BAAA,2CAAA,wEAAA,2FAAA,wFAAA,hTAAME,sHAAqBL,wEAAmBM;IACxCF,QAAE,AAACG,YAAe,AAACC,uBAAUH;IACzBI,WAAS,KAAAC,qCAA0C,AAACF,uBAAUH;AAFxE,AAGE,IAAAM,YAAMF;AAAN,AAAA,AAAAE;;AAAA,AAAAA,sBAAA;;AAAAA","names":["frontend.extensions.lightbox/js-load$","url","promesa.core.create","resolve","frontend.loader.load","frontend.extensions.lightbox/JS_ROOT","cljs.core._EQ_","js/location.protocol","frontend.extensions.lightbox/load-base-assets$","frontend.extensions.lightbox/preview-images!","images","promesa.core.bind","___50821__auto__","promesa.protocols/-promise","_","options","js/window.photoswipe.default","js/console.log","cljs-bean.core/->js","lightbox","js/window.photoswipe.PhotoSwipeLightbox","G__104447"],"sourcesContent":["(ns frontend.extensions.lightbox\n  (:require [promesa.core :as p]\n            [cljs-bean.core :as bean]\n            [frontend.loader :refer [load]]))\n\n(defn js-load$\n  [url]\n  (p/create\n    (fn [resolve]\n      (load url resolve))))\n\n(def JS_ROOT\n  (if (= js/location.protocol \"file:\")\n    \"./js\"\n    \"./static/js\"))\n\n(defn load-base-assets$\n  []\n  (js-load$ (str JS_ROOT \"/photoswipe.js\")))\n\n(defn preview-images!\n  [images]\n\n  (p/let [_ (load-base-assets$)]\n    (let [options {:dataSource images :pswpModule js/window.photoswipe.default :showHideAnimationType \"fade\"}\n          _ (js/console.log (bean/->js options))\n          ^js lightbox (js/window.photoswipe.PhotoSwipeLightbox. (bean/->js options))]\n      (doto lightbox\n        (.init)\n        (.loadAndOpen 0)))))"]}