{"version":3,"sources":["frontend/extensions/zotero.cljs"],"mappings":"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","names":["frontend.extensions.zotero/term-chan","cljs.core.async.chan","frontend.extensions.zotero/debounce-chan-mult","cljs.core.async/mult","frontend.extensions.zotero.api/debounce","rum.core/lazy-build","rum.core/build-defc","p__49029","map__49030","cljs.core/--destructure-map","cljs.core.get","vec__49031","cljs.core.nth","daiquiri.core/create-element","daiquiri.interpreter/interpret","attrs49052","cljs.core/map?","daiquiri.interpreter/element-attributes","daiquiri.normalize.merge_with_class","attrs49053","frontend.extensions.zotero/zotero-search-item","data","item","id","is-creating-page","set-is-creating-page!","rum.core/use-state","title","type","abstract","cljs.core.subs","c__27595__auto__","cljs.core.async.impl.dispatch/run","f__27596__auto__","switch__27572__auto__","state_49043","state_val_49044","inst_49034","inst_49035","inst_49036","inst_49037","cljs.core/PersistentHashMap","inst_49038","statearr-49045","cljs.core.async.impl.ioc-helpers/take!","inst_49040","inst_49041","statearr-49046","cljs.core.async.impl.ioc-helpers/return-chan","statearr-49047","state-machine__27573__auto__","ret-value__27574__auto__","result__27575__auto__","cljs.core/keyword-identical?","ex__27576__auto__","e49048","statearr-49049","cljs.core/seq","statearr-49050","cljs.core/first","state__27597__auto__","statearr-49051","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","frontend.extensions.zotero.handler.create_zotero_page","frontend.components.svg/refresh","vec__49054","vec__49057","vec__49060","vec__49063","vec__49066","vec__49069","vec__49072","attrs49142","frontend.extensions.zotero/zotero-search","term","set-term!","search-result","set-search-result!","prev-page","set-prev-page!","next-page","set-next-page!","prev-search-term","set-prev-search-term!","search-error","set-search-error!","is-searching","set-is-searching!","search-fn","s-term","start","state_49103","state_val_49104","inst_49075","statearr-49105","statearr-49106","statearr-49107","inst_49078","inst_49080","statearr-49108","inst_49101","inst_49083","inst_49082","inst_49084","inst_49085","inst_49086","inst_49087","inst_49088","statearr-49109","statearr-49110","statearr-49111","inst_49090","inst_49091","statearr-49112","inst_49093","inst_49094","inst_49095","inst_49096","statearr-49113","statearr-49114","inst_49098","inst_49099","statearr-49115","statearr-49116","statearr-49117","e49118","statearr-49119","statearr-49120","statearr-49121","clojure.string/blank?","frontend.extensions.zotero.api.query_top_items","rum.core.use_effect_BANG_","d-chan","cljs.core.async.tap","state_49132","state_val_49133","statearr-49134","inst_49130","inst_49124","inst_49125","inst_49127","statearr-49135","statearr-49136","statearr-49137","e49138","statearr-49139","statearr-49140","statearr-49141","cljs.core.async/untap","frontend.extensions.zotero.setting/valid?","frontend.handler.route/redirect!","frontend.handler.notification.show_BANG_","e","state_49147","state_val_49148","inst_49143","cljs.core.async.impl.ioc-helpers/put!","inst_49145","statearr-49149","e49150","statearr-49151","statearr-49152","statearr-49153","frontend.util/evalue","G__49154","cljs.core.map","rum.core/with-key","frontend.ui.button","goog.dom/getElement","state_49170","state_val_49171","inst_49166","inst_49168","statearr-49172","e49173","statearr-49174","statearr-49175","statearr-49176","state_49214","state_val_49215","inst_49210","inst_49212","statearr-49216","e49217","statearr-49218","statearr-49219","statearr-49220","state_49192","state_val_49193","inst_49188","inst_49190","statearr-49194","e49195","statearr-49196","statearr-49197","statearr-49198","state_49236","state_val_49237","inst_49232","inst_49234","statearr-49238","e49239","statearr-49240","statearr-49241","statearr-49242","rum.core/build-defcs","rum.core/mark-sync-update","cljs.core.into_array","iter__5520__auto__","s__49246","cljs.core/LazySeq","temp__5720__auto__","cljs.core/chunked-seq?","c__5518__auto__","size__5519__auto__","cljs.core/count","b__49248","cljs.core/chunk-buffer","i__49247","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__49245","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","frontend.extensions.zotero/user-or-group-setting","rum.core.local","frontend.extensions.zotero.setting/setting","rum.core/reactive","state","cljs.core/name","clojure.string/lower-case","cljs.core.keyword","frontend.extensions.zotero.setting/set-setting!","clojure.string/capitalize","cljs.core/reset!","cljs.core/deref","cljs.core/not","cljs.core/re-matches","frontend.ui/admonition","attrs49253","frontend.extensions.zotero/overwrite-mode-setting","frontend.ui.toggle","attrs49256","frontend.extensions.zotero/attachment-setting","frontend.components.svg/info","attrs49261","frontend.extensions.zotero/prefer-citekey-setting","frontend.extensions.zotero/api-key-setting","frontend.extensions.zotero.setting/api-key","frontend.extensions.zotero.setting/set-api-key","attrs49266","frontend.extensions.zotero/notes-setting","frontend.extensions.zotero/page-prefix-setting","frontend.extensions.zotero/extra-tags-setting","frontend.extensions.zotero/data-directory-setting","frontend.extensions.zotero/profile-name-dialog-inner","profile*","close-fn","input","profile-name","clojure.string/trim","promesa.core.bind","___28360__auto__","promesa.protocols/-promise","_","frontend.extensions.zotero.setting/add-profile","frontend.extensions.zotero.setting/set-profile","frontend.state/close-modal!","frontend.extensions.zotero/zotero-profile-selector","profile","cljs.core.map_indexed","i","x","frontend.extensions.zotero.setting/all-profiles","frontend.state.set_modal_BANG_","frontend.extensions.zotero.setting/remove-profile","frontend.extensions.zotero.setting/profile","attrs49369","frontend.extensions.zotero/add-all-items","state_49393","state_val_49394","inst_49370","inst_49371","inst_49372","statearr-49395","inst_49374","inst_49375","inst_49376","inst_49377","inst_49378","statearr-49396","statearr-49397","statearr-49398","inst_49380","inst_49381","inst_49382","inst_49383","statearr-49399","statearr-49400","inst_49391","inst_49385","inst_49386","inst_49387","inst_49388","statearr-49403","statearr-49405","statearr-49406","e49407","statearr-49408","statearr-49409","statearr-49411","frontend.extensions.zotero.api/all-top-items-count","js/window","frontend.extensions.zotero.handler/add-all","frontend.extensions.zotero/setting-rows","frontend.extensions.zotero/settings","old-state","_new-state","all-profiles","cljs.core.not_EQ_","frontend.extensions.zotero/open-button","full-path","clojure.string/ends-with?","current","frontend.extensions.pdf.assets/inflate-asset","frontend.util/stop","frontend.state/set-state!","frontend.extensions.zotero/zotero-imported-file","item-key","filename","clojure.edn.read_string","G__49430","G__49431","G__49432","G__49433","frontend.util/node-path","frontend.extensions.zotero/zotero-linked-file","path","G__49438","G__49439","clojure.string/replace-first","cljs.core/chunk-first"],"sourcesContent":["(ns frontend.extensions.zotero\n  (:require [cljs.core.async :refer [<! >! chan go go-loop] :as a]\n            [clojure.edn :refer [read-string]]\n            [clojure.string :as str]\n            [frontend.components.svg :as svg]\n            [frontend.extensions.pdf.assets :as pdf-assets]\n            [frontend.extensions.zotero.api :as api]\n            [frontend.extensions.zotero.handler :as zotero-handler]\n            [frontend.extensions.zotero.setting :as setting]\n            [frontend.handler.notification :as notification]\n            [frontend.handler.route :as route-handler]\n            [frontend.state :as state]\n            [frontend.ui :as ui]\n            [frontend.util :as util]\n            [goog.dom :as gdom]\n            [promesa.core :as p]\n            [rum.core :as rum]))\n\n(def term-chan (chan))\n(def debounce-chan-mult (a/mult (api/debounce term-chan 500)))\n\n(rum/defc zotero-search-item [{:keys [data] :as item} id]\n  (let [[is-creating-page set-is-creating-page!] (rum/use-state false)\n        title (:title data)\n        type (:item-type data)\n        abstract (str (subs (:abstract-note data) 0 200) \"...\")]\n    [:div.zotero-search-item.px-2.py-4.border-b.cursor-pointer.border-solid.last:border-none.relative\n     {:on-click (fn [] (go\n                        (set-is-creating-page! true)\n                        (<!\n                         (zotero-handler/create-zotero-page item {:block-dom-id id}))\n                        (set-is-creating-page! false)))}\n     [[:div [[:span.font-bold.mb-1.mr-1 title]\n             [:span.zotero-search-item-type.text-xs.p-1.rounded type]]]\n      [:div.text-sm abstract]]\n\n     (when is-creating-page [:div.zotero-search-item-loading-indicator [:span.animate-spin-reverse  svg/refresh]])]))\n\n(rum/defc zotero-search\n  [id]\n\n  (let [[term set-term!]                         (rum/use-state \"\")\n        [search-result set-search-result!]       (rum/use-state [])\n        [prev-page set-prev-page!]               (rum/use-state \"\")\n        [next-page set-next-page!]               (rum/use-state \"\")\n        [prev-search-term set-prev-search-term!] (rum/use-state \"\")\n        [search-error set-search-error!]         (rum/use-state nil)\n        [is-searching set-is-searching!]         (rum/use-state false)\n\n        search-fn (fn [s-term start]\n                    (go\n                      (when-not (str/blank? s-term)\n                        (set-is-searching! true)\n\n                        (let [{:keys [success next prev result] :as response}\n                              (<! (api/query-top-items s-term start))]\n                          (if (false? success)\n                            (set-search-error! (:body response))\n\n                            (do\n                              (set-prev-search-term! s-term)\n                              (set-next-page! next)\n                              (set-prev-page! prev)\n                              (set-search-result! result))))\n\n                        (set-is-searching! false))))]\n\n    (rum/use-effect!\n     (fn []\n       (let [d-chan (chan)]\n         (a/tap debounce-chan-mult d-chan)\n         (go-loop []\n           (let [d-term (<! d-chan)]\n             (<! (search-fn d-term \"0\")))\n           (recur))\n\n         (fn [] (a/untap debounce-chan-mult d-chan))))\n     [])\n\n    (when-not (setting/valid?)\n      (route-handler/redirect! {:to :zotero-setting})\n      (notification/show! \"Please setup Zotero API key and user/group id first!\" :warn false))\n\n    [:div#zotero-search.zotero-search.p-4\n     {:style {:width 720}}\n\n     [:div.flex.items-center.mb-2\n      [[:input.p-2.border.mr-2.flex-1.focus:outline-none\n        {:autoFocus   true\n         :placeholder \"Search for your Zotero journal article (title, author, text, anything)\"\n         :value       term :on-change (fn [e]\n                                        (go\n                                          (>! term-chan (util/evalue e)))\n                                        (set-term! (util/evalue e)))}]\n\n       [:span.animate-spin-reverse {:style {:visibility (if is-searching \"visible\"  \"hidden\")}}  svg/refresh]]]\n\n     [:div.h-2.text-sm.text-red-400.mb-2 (if search-error (str \"Search error: \" search-error) \"\")]\n\n     [:div\n      (map\n       (fn [item] (rum/with-key (zotero-search-item item id) (:key item)))\n       search-result)\n      (when-not (str/blank? prev-page)\n        (ui/button\n         \"prev\"\n         :on-click\n         (fn []\n           (set! (.-scrollTop (.-parentNode (gdom/getElement \"zotero-search\"))) 0)\n           (go (<! (search-fn prev-search-term prev-page))))))\n      (when-not (str/blank? next-page)\n        (ui/button\n         \"next\"\n         :on-click\n         (fn []\n           (set! (.-scrollTop (.-parentNode (gdom/getElement \"zotero-search\"))) 0)\n           (go (<! (search-fn prev-search-term next-page))))))]]))\n\n(rum/defcs user-or-group-setting <\n  (rum/local (setting/setting :type-id) ::type-id)\n  rum/reactive\n  [state]\n  [:div\n   [:div.row\n    [:label.title.w-72\n     {:for \"zotero_type\"}\n     \"Zotero user or group?\"]\n    [:div.mt-1.sm:mt-0.sm:col-span-2\n     [:div.max-w-lg.rounded-md\n      [:select.form-select\n       {:value     (-> (setting/setting :type) name)\n        :on-change (fn [e]\n                     (let [type (-> (util/evalue e)\n                                    (str/lower-case)\n                                    keyword)]\n                       (setting/set-setting! :type type)))}\n       (for [type (map name [:user :group])]\n         [:option {:key type :value type} (str/capitalize type)])]]]]\n\n   [:div.row\n    [:label.title.w-72\n     {:for \"zotero_type_id\"}\n     \"User or Group ID\"]\n    [:div.mt-1.sm:mt-0.sm:col-span-2\n     [:div.max-w-lg.rounded-md\n      [:input.form-input.block\n       {:default-value (setting/setting :type-id)\n        :placeholder   \"User/Group id\"\n        :on-blur       (fn [e] (setting/set-setting! :type-id (util/evalue e)))\n        :on-change     (fn [e] (reset! (::type-id state) (util/evalue e)))}]]]]\n\n   (when\n    (and (not (str/blank? (str @(::type-id state))))\n         (not (re-matches #\"^\\d+$\" (str @(::type-id state)))))\n     (ui/admonition\n      :warning\n      [:p.text-red-500\n       \"User ID is different from username and can be found on the \"\n       [:a {:href \"https://www.zotero.org/settings/keys\" :target \"_blank\"}\n        \"https://www.zotero.org/settings/keys\"]\n       \" page, it's a number of digits\"]))])\n\n(rum/defc overwrite-mode-setting <\n  rum/reactive\n  []\n  [:div\n   [:div.row\n    [:label.title.w-72\n     {:for \"zotero_overwrite_mode\"}\n     \"Overwrite existing item page?\"]\n    [:div\n     [:div.rounded-md.sm:max-w-xs\n      (ui/toggle (setting/setting :overwrite-mode?)\n                 (fn [] (setting/set-setting! :overwrite-mode? (not (setting/setting :overwrite-mode?))))\n                 true)]]]\n   (when (setting/setting :overwrite-mode?)\n     (ui/admonition\n      :warning\n      [:p.text-red-500\n       \"Dangerous! This will delete and recreate Zotero existing page! Make sure to backup your notes first in case something goes wrong. Make sure you don't put any personal item in previous Zotero page and it's OK to overwrite the page!\"]))])\n\n(rum/defc attachment-setting <\n  rum/reactive\n  []\n  [:div\n   [:div.row\n    [:label.title.w-72\n     {:for \"zotero_include_attachment_links\"}\n     \"Include attachment links?\"]\n    [:div\n     [:div.rounded-md.sm:max-w-xs\n      (ui/toggle (setting/setting :include-attachments?)\n                 (fn [] (setting/set-setting! :include-attachments? (not (setting/setting :include-attachments?))))\n                 true)]]]\n   (when (setting/setting :include-attachments?)\n     [:div.row\n      [:label.title.w-72\n       {:for \"zotero_attachments_block_text\"}\n       \"Attachment under block of:\"]\n      [:div.mt-1.sm:mt-0.sm:col-span-2\n       [:div.max-w-lg.rounded-md\n        [:input.form-input.block\n         {:default-value (setting/setting :attachments-block-text)\n          :on-blur       (fn [e] (setting/set-setting! :attachments-block-text (util/evalue e)))}]]]])\n   (when (setting/setting :include-attachments?)\n     [:div.row\n      [:label.title.w-72\n       {:for \"zotero_linked_attachment_base_directory\"}\n       \"Zotero linked attachment base directory\"\n       [:a.ml-2\n        {:title  \"If you store attached files in Zotero \u2014 the default \u2014 this setting does not affect you. It only applies to linked files. If you're using the ZotFile plugin to help with a linked-file workflow, you should configure it to store linked files within the base directory you've configured. Click to learn more.\"\n         :href   \"https://www.zotero.org/support/preferences/advanced#linked_attachment_base_directory\"\n         :target \"_blank\"}\n        (svg/info)]]\n      [:div.mt-1.sm:mt-0.sm:col-span-2\n       [:div.max-w-lg.rounded-md\n        [:input.form-input.block\n         {:default-value (setting/setting :zotero-linked-attachment-base-directory)\n          :placeholder   \"/Users/Sarah/Dropbox\"\n          :on-blur       (fn [e] (setting/set-setting! :zotero-linked-attachment-base-directory (util/evalue e)))}]]]])])\n\n(rum/defc prefer-citekey-setting <\n  rum/reactive\n  []\n  [:div.row\n   [:label.title.w-72\n    {:for   \"zotero_prefer_citekey\"\n     :title \"Make sure to install Better BibTeX and pin your item first\"}\n    \"Use citekey as your page title?\"]\n   [:div\n    [:div.rounded-md.sm:max-w-xs\n     (ui/toggle (setting/setting :prefer-citekey?)\n                (fn [] (setting/set-setting! :prefer-citekey? (not (setting/setting :prefer-citekey?))))\n                true)]]])\n\n(rum/defc api-key-setting []\n  [:div.row\n   [:label.title.w-72\n    {:for \"zotero_api_key\"}\n    \"Zotero API key\"]\n   [:div.mt-1.sm:mt-0.sm:col-span-2\n    [:div.max-w-lg.rounded-md\n     [:input.form-input.block\n      {:default-value (setting/api-key)\n       :placeholder   \"Please enter your Zotero API key\"\n       :on-blur       (fn [e] (setting/set-api-key (util/evalue e)))}]]]])\n\n(rum/defc notes-setting <\n  rum/reactive\n  []\n  [:div\n   [:div.row\n    [:label.title.w-72\n     {:for \"zotero_include_notes\"}\n     \"Include notes?\"]\n    [:div\n     [:div.rounded-md.sm:max-w-xs\n      (ui/toggle (setting/setting :include-notes?)\n                 (fn [] (setting/set-setting! :include-notes?\n                                              (not (setting/setting :include-notes?))))\n                 true)]]]\n   (when (setting/setting :include-notes?)\n     [:div.row\n      [:label.title\n       {:for \"zotero_notes_block_text\"}\n       \"Notes under block of:\"]\n      [:div.mt-1.sm:mt-0.sm:col-span-2\n       [:div.max-w-lg.rounded-md\n        [:input.form-input.block\n         {:default-value (setting/setting :notes-block-text)\n          :on-blur       (fn [e] (setting/set-setting! :notes-block-text (util/evalue e)))}]]]])])\n\n(rum/defc page-prefix-setting []\n  [:div.row\n   [:label.title\n    {:for \"zotero_page_prefix\"}\n    \"Insert page name with prefix:\"]\n   [:div.mt-1.sm:mt-0.sm:col-span-2\n    [:div.max-w-lg.rounded-md\n     [:input.form-input.block\n      {:default-value (setting/setting :page-insert-prefix)\n       :on-blur       (fn [e] (setting/set-setting! :page-insert-prefix (util/evalue e)))}]]]])\n\n(rum/defc extra-tags-setting []\n  [:div.row\n   [:label.title\n    {:for \"zotero_extra_tags\"\n     :title \"Extra tags to add for every imported page. Separate by comma, or leave it empty.\"}\n    \"Extra tags to add:\"]\n   [:div.mt-1.sm:mt-0.sm:col-span-2\n    [:div.max-w-lg.rounded-md\n     [:input.form-input.block\n      {:default-value (setting/setting :extra-tags)\n       :placeholder   \"tag1,tag2,tag3\"\n       :on-blur       (fn [e] (setting/set-setting! :extra-tags (util/evalue e)))}]]]])\n\n(rum/defc data-directory-setting []\n  [:div.row\n   [:label.title\n    {:for \"zotero_data_directory\"}\n    \"Zotero data directory\"\n    [:a.ml-2\n     {:title \"Set Zotero data directory to open pdf attachment in Logseq. Click to learn more.\"\n      :href \"https://www.zotero.org/support/zotero_data\"\n      :target \"_blank\"}\n     (svg/info)]]\n   [:div.mt-1.sm:mt-0.sm:col-span-2\n    [:div.max-w-lg.rounded-md\n     [:input.form-input.block\n      {:default-value (setting/setting :zotero-data-directory)\n       :placeholder   \"/Users/<username>/Zotero\"\n       :on-blur       (fn [e] (setting/set-setting! :zotero-data-directory (util/evalue e)))}]]]])\n\n(rum/defcs profile-name-dialog-inner <\n  (rum/local \"\" ::input)\n  [state profile* close-fn]\n  (let [input (get state ::input)]\n    [:div\n     [:div.sm:flex.sm:items-start\n      [:div.mt-3.text-center.sm:mt-0.sm:text-left\n       [:h3#modal-headline.text-lg.leading-6.font-medium\n        \"Please enter your profile name\"]]]\n\n     [:input.form-input.block.w-full.sm:text-sm.sm:leading-5.my-2\n      {:auto-focus true\n       :default-value \"\"\n       :on-change (fn [e] (reset! input (util/evalue e)))}]\n\n     [:div.mt-5.sm:mt-4.sm:flex.sm:flex-row-reverse\n      [:span.flex.w-full.rounded-md.shadow-sm.sm:ml-3.sm:w-auto\n       [:button.inline-flex.justify-center.w-full.rounded-md.border.border-transparent.px-4.py-2.bg-indigo-720.text-base.leading-6.font-medium.text-white.shadow-sm.hover:bg-indigo-500.focus:outline-none.focus:border-indigo-700.focus:shadow-outline-indigo.transition.ease-in-out.duration-150.sm:text-sm.sm:leading-5\n        {:type \"button\"\n         :class \"ui__modal-enter\"\n         :on-click (fn []\n                     (let [profile-name (str/trim @input)]\n                       (when-not (str/blank? profile-name)\n                         (p/let [_ (setting/add-profile profile-name)\n                                 _ (setting/set-profile profile-name)]\n                           (reset! profile* profile-name)))\n                       (state/close-modal!)))}\n        \"Submit\"]]\n      [:span.mt-3.flex.w-full.rounded-md.shadow-sm.sm:mt-0.sm:w-auto\n       [:button.inline-flex.justify-center.w-full.rounded-md.border.border-gray-300.px-4.py-2.bg-white.text-base.leading-6.font-medium.text-gray-700.shadow-sm.hover:text-gray-500.focus:outline-none.focus:border-blue-300.focus:shadow-outline-blue.transition.ease-in-out.duration-150.sm:text-sm.sm:leading-5\n        {:type \"button\"\n         :on-click close-fn}\n        \"Cancel\"]]]]))\n\n(rum/defc zotero-profile-selector <\n  rum/reactive\n  [profile*]\n  [:div.row\n   [:label.mr-32 {:for \"profile-select\"} \"Choose a profile:\"]\n   [:span.justify-evenly\n    [:select\n     {:value @profile*\n      :on-change\n      (fn [e]\n        (when-let [profile (util/evalue e)]\n          (p/let [_ (setting/set-profile profile)]\n            (reset! profile* profile))))}\n     (map-indexed (fn [i x] [:option\n                             {:key      i\n                              :value    x}\n                             x]) (setting/all-profiles))]\n    (ui/button\n     \"New profile\"\n     :small? true\n     :class \"ml-4\"\n     :on-click\n     (fn []\n       (state/set-modal!\n        (fn [close-fn]\n          (profile-name-dialog-inner profile* close-fn)))))\n    (ui/button\n     \"Delete profile!\"\n     :small? true\n     :background \"red\"\n     :class \"ml-4\"\n     :on-click\n     (fn []\n       (p/let [_ (setting/remove-profile @profile*)]\n         (reset! profile* (setting/profile)))))]])\n\n(rum/defcs add-all-items <\n  (rum/local nil ::progress)\n  (rum/local false ::total)\n  (rum/local \"Add all\" ::fetching-button)\n  rum/reactive\n  [state]\n  [:div\n   [:div.row\n    [:label.title.w-72\n     {:for \"zotero_import_all\"}\n     \"Add all zotero items\"]\n    [:div.mt-1.sm:mt-0.sm:col-span-2\n     (ui/button\n      @(::fetching-button state)\n      :on-click\n      (fn []\n        (go\n          (let [_     (reset! (::fetching-button state) \"Fetching..\")\n                total (<! (api/all-top-items-count))\n                _     (reset! (::fetching-button state) \"Add all\")]\n            (when (.confirm\n                   js/window\n                   (str \"This will import all your zotero items and add total number of \" total \" pages. Do you wish to continue?\"))\n\n              (reset! (::total state) total)\n              (<! (zotero-handler/add-all (::progress state)))\n              (reset! (::total state) false)\n              (notification/show! \"Successfully added all items!\" :success))))))]]\n   (ui/admonition\n    :warning\n    \"If you have a lot of items in Zotero, adding them all can slow down Logseq. You can type /zotero to import specific item on demand instead.\")\n\n   (when @(::total state)\n     [:div.row\n      [:div.bg-greenred-200.py-3.rounded-lg.col-span-full\n       [:progress.w-full {:max (+ @(::total state) 30) :value @(::progress state)}] \"Importing items from Zotero....Please wait...\"]])])\n\n(rum/defc setting-rows\n  []\n  [:div\n   (api-key-setting)\n\n   (user-or-group-setting)\n\n   (prefer-citekey-setting)\n\n   (attachment-setting)\n\n   (notes-setting)\n\n   (page-prefix-setting)\n\n   (extra-tags-setting)\n\n   (data-directory-setting)\n\n   (overwrite-mode-setting)])\n\n(rum/defcs settings\n  <\n  (rum/local (setting/all-profiles) ::all-profiles)\n  (rum/local (setting/profile) ::profile)\n  rum/reactive\n  {:should-update\n   (fn [old-state _new-state]\n     (let [all-profiles (setting/all-profiles)]\n       (not= all-profiles @(::all-profiles old-state))))}\n  [state]\n  [:div.zotero-settings\n   [:h1.mb-4.text-4xl.font-bold.mb-8 \"Zotero Settings\"]\n\n   (zotero-profile-selector (::profile state))\n\n   (rum/with-key (setting-rows) @(::profile state))\n\n   (add-all-items)])\n\n(defn open-button [full-path]\n  (if (str/ends-with? (str/lower-case full-path) \"pdf\")\n    (ui/button\n     \"open\"\n     :small? true\n     :on-click\n     (fn [e]\n       (when-let [current (pdf-assets/inflate-asset full-path)]\n         (util/stop e)\n         (state/set-state! :pdf/current current))))\n    (ui/button\n     \"open\"\n     :small? true\n     :target \"_blank\"\n     :href full-path)))\n\n(rum/defc zotero-imported-file\n  [item-key filename]\n  (if (str/blank? (setting/setting :zotero-data-directory))\n    [:p.warning \"This is a zotero imported file, setting Zotero data directory would allow you to open the file in Logseq\"]\n    (let [filename (read-string filename)\n          full-path\n          (str \"file://\"\n               (util/node-path.join\n                (setting/setting :zotero-data-directory)\n                \"storage\"\n                item-key\n                filename))]\n      (open-button full-path))))\n\n(rum/defc zotero-linked-file\n  [path]\n  (if (str/blank? (setting/setting :zotero-linked-attachment-base-directory))\n    [:p.warning \"This is a zotero linked file, setting Zotero linked attachment base directory would allow you to open the file in Logseq\"]\n    (let [path (read-string path)\n          full-path\n          (str \"file://\"\n               (util/node-path.join\n                (setting/setting :zotero-linked-attachment-base-directory)\n                (str/replace-first path \"attachments:\" \"\")))]\n      (open-button full-path))))\n"]}