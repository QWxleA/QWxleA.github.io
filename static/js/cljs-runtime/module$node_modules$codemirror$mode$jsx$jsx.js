shadow$provide.module$node_modules$codemirror$mode$jsx$jsx=function(global,require,module,exports){(function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("module$node_modules$codemirror$lib$codemirror"),require("module$node_modules$codemirror$mode$xml$xml"),require("module$node_modules$codemirror$mode$javascript$javascript")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript"],mod):mod(CodeMirror)})(function(CodeMirror){function Context(state,
mode,depth,prev){this.state=state;this.mode=mode;this.depth=depth;this.prev=prev}function copyContext(context){return new Context(CodeMirror.copyState(context.mode,context.state),context.mode,context.depth,context.prev&&copyContext(context.prev))}CodeMirror.defineMode("jsx",function(config,modeConfig){function flatXMLIndent(state){var tagName=state.tagName;state.tagName=null;var result=xmlMode.indent(state,"","");state.tagName=tagName;return result}function token(stream,state){if(state.context.mode==
xmlMode)return xmlToken(stream,state,state.context);var cx=state.context;if("\x3c"==stream.peek()&&jsMode.expressionAllowed(stream,cx.state))jsMode.skipExpression(cx.state),state.context=new Context(CodeMirror.startState(xmlMode,jsMode.indent(cx.state,"","")),xmlMode,0,state.context),state=null;else{var style=jsMode.token(stream,cx.state);style||null==cx.depth||(stream=stream.current(),"{"==stream?cx.depth++:"}"==stream&&0==--cx.depth&&(state.context=state.context.prev));state=style}return state}
function xmlToken(stream,state,cx){if(2==cx.depth)return stream.match(/^.*?\*\//)?cx.depth=1:stream.skipToEnd(),"comment";if("{"==stream.peek()){xmlMode.skipAttribute(cx.state);var indent=flatXMLIndent(cx.state),xmlContext=cx.state.context;if(xmlContext&&stream.match(/^[^>]*>\s*$/,!1)){for(;xmlContext.prev&&!xmlContext.startOfLine;)xmlContext=xmlContext.prev;xmlContext.startOfLine?indent-=config.indentUnit:cx.prev.state.lexical&&(indent=cx.prev.state.lexical.indented)}else 1==cx.depth&&(indent+=config.indentUnit);
state.context=new Context(CodeMirror.startState(jsMode,indent),jsMode,0,state.context);return null}if(1==cx.depth){if("\x3c"==stream.peek())return xmlMode.skipAttribute(cx.state),state.context=new Context(CodeMirror.startState(xmlMode,flatXMLIndent(cx.state)),xmlMode,0,state.context),null;if(stream.match("//"))return stream.skipToEnd(),"comment";if(stream.match("/*"))return cx.depth=2,token(stream,state)}indent=xmlMode.token(stream,cx.state);xmlContext=stream.current();var stop;/\btag\b/.test(indent)?
/>$/.test(xmlContext)?cx.state.context?cx.depth=0:state.context=state.context.prev:/^</.test(xmlContext)&&(cx.depth=1):!indent&&-1<(stop=xmlContext.indexOf("{"))&&stream.backUp(xmlContext.length-stop);return indent}var xmlMode=CodeMirror.getMode(config,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1,allowMissingTagName:!0}),jsMode=CodeMirror.getMode(config,modeConfig&&modeConfig.base||"javascript");return{startState:function(){return{context:new Context(CodeMirror.startState(jsMode),jsMode)}},
copyState:function(state){return{context:copyContext(state.context)}},token,indent:function(state,textAfter,fullLine){return state.context.mode.indent(state.context.state,textAfter,fullLine)},innerMode:function(state){return state.context}}},"xml","javascript");CodeMirror.defineMIME("text/jsx","jsx");CodeMirror.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})})}
//# sourceMappingURL=module$node_modules$codemirror$mode$jsx$jsx.js.map
