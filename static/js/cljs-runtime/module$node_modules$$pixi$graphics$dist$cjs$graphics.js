shadow$provide.module$node_modules$$pixi$graphics$dist$cjs$graphics=function(global,require,module,exports){function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}function quadraticBezierCurve(fromX,fromY,cpX,cpY,toX,toY,out){void 0===out&&(out=[]);for(var xa,ya,xb,yb,i=0,j;20>=i;++i)j=i/20,xa=fromX+(cpX-fromX)*j,ya=fromY+(cpY-fromY)*j,xb=cpX+(toX-cpX)*j,yb=cpY+(toY-cpY)*j,xa+=(xb-xa)*j,ya+=(yb-ya)*j,0===
i&&out[out.length-2]===xa&&out[out.length-1]===ya||out.push(xa,ya);return out}function square(x,y,nx,ny,innerWeight,outerWeight,clockwise,verts){if(clockwise){clockwise=ny;var eyy=-nx}else clockwise=-ny,eyy=nx;var eox=x+nx*outerWeight+clockwise;outerWeight=y+ny*outerWeight+eyy;verts.push(x-nx*innerWeight+clockwise,y-ny*innerWeight+eyy);verts.push(eox,outerWeight);return 2}function round(cx,cy,sx,sy,ex,ey,verts,clockwise){var cx2p0x=sx-cx,cy2p0y=sy-cy,angle0=Math.atan2(cx2p0x,cy2p0y),angle1=Math.atan2(ex-
cx,ey-cy);clockwise&&angle0<angle1?angle0+=2*Math.PI:!clockwise&&angle0>angle1&&(angle1+=2*Math.PI);angle1-=angle0;cx2p0x=Math.sqrt(cx2p0x*cx2p0x+cy2p0y*cy2p0y);cy2p0y=(15*Math.abs(angle1)*Math.sqrt(cx2p0x)/Math.PI>>0)+1;angle1/=cy2p0y;angle0+=angle1;if(clockwise){verts.push(cx,cy);verts.push(sx,sy);sx=1;for(sy=angle0;sx<cy2p0y;sx++,sy+=angle1)verts.push(cx,cy),verts.push(cx+Math.sin(sy)*cx2p0x,cy+Math.cos(sy)*cx2p0x);verts.push(cx,cy);verts.push(ex,ey)}else{verts.push(sx,sy);verts.push(cx,cy);sx=
1;for(sy=angle0;sx<cy2p0y;sx++,sy+=angle1)verts.push(cx+Math.sin(sy)*cx2p0x,cy+Math.cos(sy)*cx2p0x),verts.push(cx,cy);verts.push(ex,ey);verts.push(cx,cy)}return 2*cy2p0y}function buildLine(graphicsData,graphicsGeometry){if(graphicsData.lineStyle.native){var shape=graphicsData.shape,points=graphicsData.points||shape.points;graphicsData=shape.type!==math.SHAPES.POLY||shape.closeStroke;if(0!==points.length){shape=graphicsGeometry.points;var indices=graphicsGeometry.indices,length=points.length/2,startIndex=
shape.length/2,currentIndex=startIndex;shape.push(points[0],points[1]);for(graphicsGeometry=1;graphicsGeometry<length;graphicsGeometry++)shape.push(points[2*graphicsGeometry],points[2*graphicsGeometry+1]),indices.push(currentIndex,currentIndex+1),currentIndex++;graphicsData&&indices.push(currentIndex,startIndex)}}else if(shape=graphicsData.shape,points=graphicsData.points||shape.points.slice(),startIndex=graphicsGeometry.closePointEps,0!==points.length){graphicsData=graphicsData.lineStyle;indices=
new math.Point(points[0],points[1]);length=new math.Point(points[points.length-2],points[points.length-1]);shape=shape.type!==math.SHAPES.POLY||shape.closeStroke;startIndex=Math.abs(indices.x-length.x)<startIndex&&Math.abs(indices.y-length.y)<startIndex;shape&&(points=points.slice(),startIndex&&(points.pop(),points.pop(),length.set(points[points.length-2],points[points.length-1])),startIndex=.5*(indices.x+length.x),indices=.5*(length.y+indices.y),points.unshift(startIndex,indices),points.push(startIndex,
indices));indices=graphicsGeometry.points;var length$jscomp$0=points.length/2;length=points.length;startIndex=indices.length/2;var width=graphicsData.width/2,widthSquared=width*width,miterLimitSquared=graphicsData.miterLimit*graphicsData.miterLimit,x0=points[0],y0=points[1];currentIndex=points[2];var y1=points[3],perpx=-(y0-y1),perpy=x0-currentIndex,dist=Math.sqrt(perpx*perpx+perpy*perpy);perpx=perpx/dist*width;perpy=perpy/dist*width;currentIndex=graphicsData.alignment;var innerWeight=2*(1-currentIndex),
outerWeight=2*currentIndex;shape||(graphicsData.cap===exports.LINE_CAP.ROUND?length+=round(x0-perpx*(innerWeight-outerWeight)*.5,y0-perpy*(innerWeight-outerWeight)*.5,x0-perpx*innerWeight,y0-perpy*innerWeight,x0+perpx*outerWeight,y0+perpy*outerWeight,indices,!0)+2:graphicsData.cap===exports.LINE_CAP.SQUARE&&(length+=square(x0,y0,perpx,perpy,innerWeight,outerWeight,!0,indices)));indices.push(x0-perpx*innerWeight,y0-perpy*innerWeight);indices.push(x0+perpx*outerWeight,y0+perpy*outerWeight);for(var i=
1;i<length$jscomp$0-1;++i){x0=points[2*(i-1)];y0=points[2*(i-1)+1];currentIndex=points[2*i];y1=points[2*i+1];var x2=points[2*(i+1)];var y2=points[2*(i+1)+1];perpx=-(y0-y1);perpy=x0-currentIndex;dist=Math.sqrt(perpx*perpx+perpy*perpy);perpx/=dist;perpy/=dist;perpx*=width;perpy*=width;var perp1x=-(y1-y2);var perp1y=currentIndex-x2;dist=Math.sqrt(perp1x*perp1x+perp1y*perp1y);perp1x/=dist;perp1y/=dist;perp1x*=width;perp1y*=width;dist=currentIndex-x0;var dy0=y0-y1,dx1=currentIndex-x2,dy1=y2-y1,cross=dy0*
dx1-dy1*dist,clockwise=0>cross;if(.1>Math.abs(cross))indices.push(currentIndex-perpx*innerWeight,y1-perpy*innerWeight),indices.push(currentIndex+perpx*outerWeight,y1+perpy*outerWeight);else{y0=(-perpx+x0)*(-perpy+y1)-(-perpx+currentIndex)*(-perpy+y0);x2=(-perp1x+x2)*(-perp1y+y1)-(-perp1x+currentIndex)*(-perp1y+y2);x0=(dist*x2-dx1*y0)/cross;cross=(dy1*y0-dy0*x2)/cross;y0=(x0-currentIndex)*(x0-currentIndex)+(cross-y1)*(cross-y1);x2=currentIndex+(x0-currentIndex)*innerWeight;y2=y1+(cross-y1)*innerWeight;
x0=currentIndex-(x0-currentIndex)*outerWeight;cross=y1-(cross-y1)*outerWeight;var insideWeight=clockwise?innerWeight:outerWeight;y0<=Math.min(dist*dist+dy0*dy0,dx1*dx1+dy1*dy1)+insideWeight*insideWeight*widthSquared?graphicsData.join===exports.LINE_JOIN.BEVEL||y0/widthSquared>miterLimitSquared?(clockwise?(indices.push(x2,y2),indices.push(currentIndex+perpx*outerWeight,y1+perpy*outerWeight),indices.push(x2,y2),indices.push(currentIndex+perp1x*outerWeight,y1+perp1y*outerWeight)):(indices.push(currentIndex-
perpx*innerWeight,y1-perpy*innerWeight),indices.push(x0,cross),indices.push(currentIndex-perp1x*innerWeight,y1-perp1y*innerWeight),indices.push(x0,cross)),length+=2):graphicsData.join===exports.LINE_JOIN.ROUND?clockwise?(indices.push(x2,y2),indices.push(currentIndex+perpx*outerWeight,y1+perpy*outerWeight),length+=round(currentIndex,y1,currentIndex+perpx*outerWeight,y1+perpy*outerWeight,currentIndex+perp1x*outerWeight,y1+perp1y*outerWeight,indices,!0)+4,indices.push(x2,y2),indices.push(currentIndex+
perp1x*outerWeight,y1+perp1y*outerWeight)):(indices.push(currentIndex-perpx*innerWeight,y1-perpy*innerWeight),indices.push(x0,cross),length+=round(currentIndex,y1,currentIndex-perpx*innerWeight,y1-perpy*innerWeight,currentIndex-perp1x*innerWeight,y1-perp1y*innerWeight,indices,!1)+4,indices.push(currentIndex-perp1x*innerWeight,y1-perp1y*innerWeight),indices.push(x0,cross)):(indices.push(x2,y2),indices.push(x0,cross)):(indices.push(currentIndex-perpx*innerWeight,y1-perpy*innerWeight),indices.push(currentIndex+
perpx*outerWeight,y1+perpy*outerWeight),graphicsData.join===exports.LINE_JOIN.BEVEL||y0/widthSquared>miterLimitSquared||(graphicsData.join===exports.LINE_JOIN.ROUND?length=clockwise?length+(round(currentIndex,y1,currentIndex+perpx*outerWeight,y1+perpy*outerWeight,currentIndex+perp1x*outerWeight,y1+perp1y*outerWeight,indices,!0)+2):length+(round(currentIndex,y1,currentIndex-perpx*innerWeight,y1-perpy*innerWeight,currentIndex-perp1x*innerWeight,y1-perp1y*innerWeight,indices,!1)+2):(clockwise?(indices.push(x0,
cross),indices.push(x0,cross)):(indices.push(x2,y2),indices.push(x2,y2)),length+=2)),indices.push(currentIndex-perp1x*innerWeight,y1-perp1y*innerWeight),indices.push(currentIndex+perp1x*outerWeight,y1+perp1y*outerWeight),length+=2)}}x0=points[2*(length$jscomp$0-2)];y0=points[2*(length$jscomp$0-2)+1];currentIndex=points[2*(length$jscomp$0-1)];y1=points[2*(length$jscomp$0-1)+1];perpx=-(y0-y1);perpy=x0-currentIndex;dist=Math.sqrt(perpx*perpx+perpy*perpy);perpx=perpx/dist*width;perpy=perpy/dist*width;
indices.push(currentIndex-perpx*innerWeight,y1-perpy*innerWeight);indices.push(currentIndex+perpx*outerWeight,y1+perpy*outerWeight);shape||(graphicsData.cap===exports.LINE_CAP.ROUND?length+=round(currentIndex-perpx*(innerWeight-outerWeight)*.5,y1-perpy*(innerWeight-outerWeight)*.5,currentIndex-perpx*innerWeight,y1-perpy*innerWeight,currentIndex+perpx*outerWeight,y1+perpy*outerWeight,indices,!1)+2:graphicsData.cap===exports.LINE_CAP.SQUARE&&(length+=square(currentIndex,y1,perpx,perpy,innerWeight,outerWeight,
!1,indices)));graphicsGeometry=graphicsGeometry.indices;points=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon;for(i=startIndex;i<length+startIndex-2;++i)x0=indices[2*i],y0=indices[2*i+1],currentIndex=indices[2*(i+1)],y1=indices[2*(i+1)+1],x2=indices[2*(i+2)],y2=indices[2*(i+2)+1],Math.abs(x0*(y1-y2)+currentIndex*(y2-y0)+x2*(y0-y1))<points||graphicsGeometry.push(i,i+1,i+2)}}Object.defineProperty(exports,"__esModule",{value:!0});var core=require("module$node_modules$$pixi$core$dist$cjs$core"),math=
require("module$node_modules$$pixi$math$dist$cjs$math"),utils=require("module$node_modules$$pixi$utils$dist$cjs$utils"),constants=require("module$node_modules$$pixi$constants$dist$cjs$constants"),display=require("module$node_modules$$pixi$display$dist$cjs$display");(function(LINE_JOIN){LINE_JOIN.MITER="miter";LINE_JOIN.BEVEL="bevel";LINE_JOIN.ROUND="round"})(exports.LINE_JOIN||(exports.LINE_JOIN={}));(function(LINE_CAP){LINE_CAP.BUTT="butt";LINE_CAP.ROUND="round";LINE_CAP.SQUARE="square"})(exports.LINE_CAP||
(exports.LINE_CAP={}));var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1E-4,_segmentsCount:function(length,defaultSegments){void 0===defaultSegments&&(defaultSegments=20);if(!this.adaptive||!length||isNaN(length))return defaultSegments;length=Math.ceil(length/this.maxLength);length<this.minSegments?length=this.minSegments:length>this.maxSegments&&(length=this.maxSegments);return length}},FillStyle=function(){function FillStyle(){this.color=16777215;this.alpha=
1;this.texture=core.Texture.WHITE;this.matrix=null;this.visible=!1;this.reset()}FillStyle.prototype.clone=function(){var obj=new FillStyle;obj.color=this.color;obj.alpha=this.alpha;obj.texture=this.texture;obj.matrix=this.matrix;obj.visible=this.visible;return obj};FillStyle.prototype.reset=function(){this.color=16777215;this.alpha=1;this.texture=core.Texture.WHITE;this.matrix=null;this.visible=!1};FillStyle.prototype.destroy=function(){this.matrix=this.texture=null};return FillStyle}(),extendStatics=
function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)},buildPoly={build:function(graphicsData){graphicsData.points=graphicsData.shape.points.slice()},triangulate:function(graphicsData,graphicsGeometry){var points=graphicsData.points,holes=graphicsData.holes;graphicsData=graphicsGeometry.points;graphicsGeometry=graphicsGeometry.indices;
if(6<=points.length){for(var holeArray=[],i=0;i<holes.length;i++){var hole=holes[i];holeArray.push(points.length/2);points=points.concat(hole.points)}if(holes=utils.earcut(points,holeArray,2)){holeArray=graphicsData.length/2;for(i=0;i<holes.length;i+=3)graphicsGeometry.push(holes[i]+holeArray),graphicsGeometry.push(holes[i+1]+holeArray),graphicsGeometry.push(holes[i+2]+holeArray);for(i=0;i<points.length;i++)graphicsData.push(points[i])}}}};global={build:function(graphicsData){var circleData=graphicsData.shape,
points=graphicsData.points,x=circleData.x,y=circleData.y;points.length=0;if(graphicsData.type===math.SHAPES.CIRC)var height=graphicsData=circleData.radius;else height=graphicsData.shape,graphicsData=height.width,height=height.height;if(0!==graphicsData&&0!==height){circleData=Math.floor(30*Math.sqrt(circleData.radius))||Math.floor(15*Math.sqrt(graphicsData+height));circleData/=2.3;for(var seg=2*Math.PI/circleData,i=0;i<circleData-.5;i++)points.push(x+Math.sin(-seg*i)*graphicsData,y+Math.cos(-seg*
i)*height);points.push(points[0],points[1])}},triangulate:function(graphicsData,graphicsGeometry){var points=graphicsData.points,verts=graphicsGeometry.points;graphicsGeometry=graphicsGeometry.indices;var vertPos=verts.length/2,center=vertPos,circle=graphicsData.shape,matrix=graphicsData.matrix,x=circle.x;circle=circle.y;verts.push(graphicsData.matrix?matrix.a*x+matrix.c*circle+matrix.tx:x,graphicsData.matrix?matrix.b*x+matrix.d*circle+matrix.ty:circle);for(graphicsData=0;graphicsData<points.length;graphicsData+=
2)verts.push(points[graphicsData],points[graphicsData+1]),graphicsGeometry.push(vertPos++,center,vertPos)}};require={build:function(graphicsData){var rectData=graphicsData.shape,x=rectData.x,y=rectData.y,width=rectData.width;rectData=rectData.height;graphicsData=graphicsData.points;graphicsData.length=0;graphicsData.push(x,y,x+width,y,x+width,y+rectData,x,y+rectData)},triangulate:function(graphicsData,graphicsGeometry){graphicsData=graphicsData.points;var verts=graphicsGeometry.points,vertPos=verts.length/
2;verts.push(graphicsData[0],graphicsData[1],graphicsData[2],graphicsData[3],graphicsData[6],graphicsData[7],graphicsData[4],graphicsData[5]);graphicsGeometry.indices.push(vertPos,vertPos+1,vertPos+2,vertPos+1,vertPos+2,vertPos+3)}};module={build:function(graphicsData){var rrectData=graphicsData.shape;graphicsData=graphicsData.points;var x=rrectData.x,y=rrectData.y,width=rrectData.width,height=rrectData.height;rrectData=Math.max(0,Math.min(rrectData.radius,Math.min(width,height)/2));graphicsData.length=
0;rrectData?(quadraticBezierCurve(x,y+rrectData,x,y,x+rrectData,y,graphicsData),quadraticBezierCurve(x+width-rrectData,y,x+width,y,x+width,y+rrectData,graphicsData),quadraticBezierCurve(x+width,y+height-rrectData,x+width,y+height,x+width-rrectData,y+height,graphicsData),quadraticBezierCurve(x+rrectData,y+height,x,y+height,x,y+height-rrectData,graphicsData)):graphicsData.push(x,y,x+width,y,x+width,y+height,x,y+height)},triangulate:function(graphicsData,graphicsGeometry){graphicsData=graphicsData.points;
var verts=graphicsGeometry.points;graphicsGeometry=graphicsGeometry.indices;for(var vecPos=verts.length/2,triangles=utils.earcut(graphicsData,null,2),i=0,j=triangles.length;i<j;i+=3)graphicsGeometry.push(triangles[i]+vecPos),graphicsGeometry.push(triangles[i+1]+vecPos),graphicsGeometry.push(triangles[i+2]+vecPos);i=0;for(j=graphicsData.length;i<j;i++)verts.push(graphicsData[i],graphicsData[++i])}};var ArcUtils=function(){function ArcUtils(){}ArcUtils.curveTo=function(x1,y1,x2,y2,radius,points){var a1=
points[points.length-1]-y1,b1=points[points.length-2]-x1;y2-=y1;x2-=x1;var mm=Math.abs(a1*x2-b1*y2);if(1E-8>mm||0===radius)return points[points.length-2]===x1&&points[points.length-1]===y1||points.push(x1,y1),null;var dd=a1*a1+b1*b1,cc=y2*y2+x2*x2,tt=a1*y2+b1*x2;points=radius*Math.sqrt(dd)/mm;mm=radius*Math.sqrt(cc)/mm;dd=points*tt/dd;cc=mm*tt/cc;tt=points*x2+mm*b1;var cy=points*y2+mm*a1;return{cx:tt+x1,cy:cy+y1,radius,startAngle:Math.atan2(a1*(mm+dd)-cy,b1*(mm+dd)-tt),endAngle:Math.atan2(y2*(points+
cc)-cy,x2*(points+cc)-tt),anticlockwise:b1*y2>x2*a1}};ArcUtils.arc=function(_startX,_startY,cx,cy,radius,startAngle,endAngle,_anticlockwise,points){_startX=endAngle-startAngle;var n=GRAPHICS_CURVES._segmentsCount(Math.abs(_startX)*radius,40*Math.ceil(Math.abs(_startX)/math.PI_2));_startX/=2*n;_startY=2*_startX;endAngle=Math.cos(_startX);_anticlockwise=Math.sin(_startX);--n;for(var remainder=n%1/n,i=0;i<=n;++i){var angle=_startX+startAngle+_startY*(i+remainder*i),c=Math.cos(angle);angle=-Math.sin(angle);
points.push((endAngle*c+_anticlockwise*angle)*radius+cx,(endAngle*-angle+_anticlockwise*c)*radius+cy)}};return ArcUtils}(),BezierUtils=function(){function BezierUtils(){}BezierUtils.curveLength=function(fromX,fromY,cpX,cpY,cpX2,cpY2,toX,toY){for(var result=0,t,t2,t3,nt,nt2,nt3,x,prevX=fromX,prevY=fromY,i=1;10>=i;++i)t=i/10,t2=t*t,t3=t2*t,nt=1-t,nt2=nt*nt,nt3=nt2*nt,x=nt3*fromX+3*nt2*t*cpX+3*nt*t2*cpX2+t3*toX,t=nt3*fromY+3*nt2*t*cpY+3*nt*t2*cpY2+t3*toY,t2=prevX-x,t3=prevY-t,prevX=x,prevY=t,result+=
Math.sqrt(t2*t2+t3*t3);return result};BezierUtils.curveTo=function(cpX,cpY,cpX2,cpY2,toX,toY,points){var fromX=points[points.length-2],fromY=points[points.length-1];points.length-=2;var n=GRAPHICS_CURVES._segmentsCount(BezierUtils.curveLength(fromX,fromY,cpX,cpY,cpX2,cpY2,toX,toY));points.push(fromX,fromY);for(var i=1,j;i<=n;++i){j=i/n;var dt=1-j;var dt2=dt*dt;var dt3=dt2*dt;var t2=j*j;var t3=t2*j;points.push(dt3*fromX+3*dt2*j*cpX+3*dt*t2*cpX2+t3*toX,dt3*fromY+3*dt2*j*cpY+3*dt*t2*cpY2+t3*toY)}};return BezierUtils}(),
QuadraticUtils=function(){function QuadraticUtils(){}QuadraticUtils.curveLength=function(fromX,fromY,cpX,cpY,toX,toY){toX=fromX-2*cpX+toX;toY=fromY-2*cpY+toY;fromX=2*cpX-2*fromX;cpY=2*cpY-2*fromY;fromY=4*(toX*toX+toY*toY);toX=4*(toX*fromX+toY*cpY);cpY=fromX*fromX+cpY*cpY;toY=2*Math.sqrt(fromY+toX+cpY);fromX=Math.sqrt(fromY);cpX=2*fromY*fromX;var c2=2*Math.sqrt(cpY),ba=toX/fromX;return(cpX*toY+fromX*toX*(toY-c2)+(4*cpY*fromY-toX*toX)*Math.log((2*fromX+ba+toY)/(ba+c2)))/(4*cpX)};QuadraticUtils.curveTo=
function(cpX,cpY,toX,toY,points){for(var fromX=points[points.length-2],fromY=points[points.length-1],n=GRAPHICS_CURVES._segmentsCount(QuadraticUtils.curveLength(fromX,fromY,cpX,cpY,toX,toY)),xa,ya,i=1;i<=n;++i){var j=i/n;xa=fromX+(cpX-fromX)*j;ya=fromY+(cpY-fromY)*j;points.push(xa+(cpX+(toX-cpX)*j-xa)*j,ya+(cpY+(toY-cpY)*j-ya)*j)}};return QuadraticUtils}(),BatchPart=function(){function BatchPart(){this.reset()}BatchPart.prototype.begin=function(style,startIndex,attribStart){this.reset();this.style=
style;this.start=startIndex;this.attribStart=attribStart};BatchPart.prototype.end=function(endIndex,endAttrib){this.attribSize=endAttrib-this.attribStart;this.size=endIndex-this.start};BatchPart.prototype.reset=function(){this.style=null;this.attribSize=this.attribStart=this.start=this.size=0};return BatchPart}(),_a,FILL_COMMANDS=(_a={},_a[math.SHAPES.POLY]=buildPoly,_a[math.SHAPES.CIRC]=global,_a[math.SHAPES.ELIP]=global,_a[math.SHAPES.RECT]=require,_a[math.SHAPES.RREC]=module,_a),BATCH_POOL=[],
DRAW_CALL_POOL=[],GraphicsData=function(){function GraphicsData(shape,fillStyle,lineStyle,matrix){void 0===fillStyle&&(fillStyle=null);void 0===lineStyle&&(lineStyle=null);void 0===matrix&&(matrix=null);this.points=[];this.holes=[];this.shape=shape;this.lineStyle=lineStyle;this.fillStyle=fillStyle;this.matrix=matrix;this.type=shape.type}GraphicsData.prototype.clone=function(){return new GraphicsData(this.shape,this.fillStyle,this.lineStyle,this.matrix)};GraphicsData.prototype.destroy=function(){this.shape=
null;this.holes.length=0;this.holes=null;this.points.length=0;this.fillStyle=this.lineStyle=this.points=null};return GraphicsData}(),tmpPoint=new math.Point,tmpBounds=new display.Bounds,GraphicsGeometry=function(_super){function GraphicsGeometry(){var _this=_super.call(this)||this;_this.closePointEps=1E-4;_this.boundsPadding=0;_this.uvsFloat32=null;_this.indicesUint16=null;_this.batchable=!1;_this.points=[];_this.colors=[];_this.uvs=[];_this.indices=[];_this.textureIds=[];_this.graphicsData=[];_this.drawCalls=
[];_this.batchDirty=-1;_this.batches=[];_this.dirty=0;_this.cacheDirty=-1;_this.clearDirty=0;_this.shapeIndex=0;_this._bounds=new display.Bounds;_this.boundsDirty=-1;return _this}__extends(GraphicsGeometry,_super);Object.defineProperty(GraphicsGeometry.prototype,"bounds",{get:function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds());return this._bounds},enumerable:!1,configurable:!0});GraphicsGeometry.prototype.invalidate=function(){this.boundsDirty=-1;this.dirty++;
this.batchDirty++;this.shapeIndex=0;this.points.length=0;this.colors.length=0;this.uvs.length=0;this.indices.length=0;for(var i=this.textureIds.length=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[i]);for(i=this.drawCalls.length=0;i<this.batches.length;i++){var batchPart=this.batches[i];batchPart.reset();BATCH_POOL.push(batchPart)}this.batches.length=0};GraphicsGeometry.prototype.clear=function(){0<this.graphicsData.length&&(this.invalidate(),
this.clearDirty++,this.graphicsData.length=0);return this};GraphicsGeometry.prototype.drawShape=function(shape,fillStyle,lineStyle,matrix){void 0===fillStyle&&(fillStyle=null);void 0===lineStyle&&(lineStyle=null);void 0===matrix&&(matrix=null);shape=new GraphicsData(shape,fillStyle,lineStyle,matrix);this.graphicsData.push(shape);this.dirty++;return this};GraphicsGeometry.prototype.drawHole=function(shape,matrix){void 0===matrix&&(matrix=null);if(!this.graphicsData.length)return null;shape=new GraphicsData(shape,
null,null,matrix);matrix=this.graphicsData[this.graphicsData.length-1];shape.lineStyle=matrix.lineStyle;matrix.holes.push(shape);this.dirty++;return this};GraphicsGeometry.prototype.destroy=function(){_super.prototype.destroy.call(this);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0;this.points=null;this.colors.length=0;this.colors=null;this.uvs.length=0;this.uvs=null;this.indices.length=0;this.indices=null;this.indexBuffer.destroy();this.indexBuffer=
null;this.graphicsData.length=0;this.graphicsData=null;this.drawCalls.length=0;this.drawCalls=null;this.batches.length=0;this._bounds=this.batches=null};GraphicsGeometry.prototype.containsPoint=function(point){for(var graphicsData=this.graphicsData,i=0;i<graphicsData.length;++i){var data=graphicsData[i];if(data.fillStyle.visible&&data.shape&&(data.matrix?data.matrix.applyInverse(point,tmpPoint):tmpPoint.copyFrom(point),data.shape.contains(tmpPoint.x,tmpPoint.y))){var hitHole=!1;if(data.holes)for(var i_1=
0;i_1<data.holes.length;i_1++)if(data.holes[i_1].shape.contains(tmpPoint.x,tmpPoint.y)){hitHole=!0;break}if(!hitHole)return!0}}return!1};GraphicsGeometry.prototype.updateBatches=function(allow32Indices){if(!this.graphicsData.length)this.batchable=!0;else if(this.validateBatching()){this.cacheDirty=this.dirty;var uvs=this.uvs,graphicsData=this.graphicsData,batchPart=null,currentStyle=null;0<this.batches.length&&(batchPart=this.batches[this.batches.length-1],currentStyle=batchPart.style);for(var i=
this.shapeIndex;i<graphicsData.length;i++){this.shapeIndex++;var data=graphicsData[i],fillStyle=data.fillStyle,lineStyle=data.lineStyle;FILL_COMMANDS[data.type].build(data);data.matrix&&this.transformPoints(data.points,data.matrix);for(var j=0;2>j;j++){var style=0===j?fillStyle:lineStyle;if(style.visible){var index_1=this.indices.length,attribIndex=this.points.length/2;style.texture.baseTexture.wrapMode=constants.WRAP_MODES.REPEAT;0===j?this.processFill(data):this.processLine(data);var size=this.points.length/
2-attribIndex;0!==size&&(batchPart&&!this._compareStyles(currentStyle,style)&&(batchPart.end(index_1,attribIndex),batchPart=null),batchPart||(batchPart=BATCH_POOL.pop()||new BatchPart,batchPart.begin(style,index_1,attribIndex),this.batches.push(batchPart),currentStyle=style),this.addUvs(this.points,uvs,style.texture,attribIndex,size,style.matrix))}}}uvs=this.indices.length;graphicsData=this.points.length/2;batchPart&&batchPart.end(uvs,graphicsData);0===this.batches.length?this.batchable=!0:(this.indicesUint16&&
this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=65535<graphicsData&&allow32Indices?new Uint32Array(this.indices):new Uint16Array(this.indices),(this.batchable=this.isBatchable())?this.packBatches():this.buildDrawCalls())}};GraphicsGeometry.prototype._compareStyles=function(styleA,styleB){return styleA&&styleB&&styleA.texture.baseTexture===styleB.texture.baseTexture&&styleA.color+styleA.alpha===styleB.color+styleB.alpha&&!!styleA.native===!!styleB.native?
!0:!1};GraphicsGeometry.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var i=0,l=this.graphicsData.length;i<l;i++){var data=this.graphicsData[i],fill=data.fillStyle;data=data.lineStyle;if(fill&&!fill.texture.baseTexture.valid||data&&!data.texture.baseTexture.valid)return!1}return!0};GraphicsGeometry.prototype.packBatches=function(){this.batchDirty++;this.uvsFloat32=new Float32Array(this.uvs);for(var batches=this.batches,i=0,l=batches.length;i<
l;i++)for(var batch=batches[i],j=0;j<batch.size;j++){var index=batch.start+j;this.indicesUint16[index]-=batch.attribStart}};GraphicsGeometry.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var batches=this.batches,i=0;i<batches.length;i++)if(batches[i].style.native)return!1;return this.points.length<2*GraphicsGeometry.BATCHABLE_SIZE};GraphicsGeometry.prototype.buildDrawCalls=function(){for(var TICK=++core.BaseTexture._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),
DRAW_CALL_POOL.push(this.drawCalls[i]);this.drawCalls.length=0;var colors=this.colors,textureIds=this.textureIds,currentGroup=DRAW_CALL_POOL.pop();currentGroup||(currentGroup=new core.BatchDrawCall,currentGroup.texArray=new core.BatchTextureArray);currentGroup.texArray.count=0;currentGroup.start=0;currentGroup.size=0;currentGroup.type=constants.DRAW_MODES.TRIANGLES;var textureCount=0,currentTexture=null,native=!1,drawMode=constants.DRAW_MODES.TRIANGLES,index=0;this.drawCalls.push(currentGroup);for(i=
0;i<this.batches.length;i++){var data=this.batches[i],style=data.style;var textureId=style.texture.baseTexture;native!==!!style.native&&(drawMode=(native=!!style.native)?constants.DRAW_MODES.LINES:constants.DRAW_MODES.TRIANGLES,currentTexture=null,textureCount=8,TICK++);currentTexture!==textureId&&(currentTexture=textureId,textureId._batchEnabled!==TICK&&(8===textureCount&&(TICK++,textureCount=0,0<currentGroup.size&&(currentGroup=DRAW_CALL_POOL.pop(),currentGroup||(currentGroup=new core.BatchDrawCall,
currentGroup.texArray=new core.BatchTextureArray),this.drawCalls.push(currentGroup)),currentGroup.start=index,currentGroup.size=0,currentGroup.texArray.count=0,currentGroup.type=drawMode),textureId.touched=1,textureId._batchEnabled=TICK,textureId._batchLocation=textureCount,textureId.wrapMode=constants.WRAP_MODES.REPEAT,currentGroup.texArray.elements[currentGroup.texArray.count++]=textureId,textureCount++));currentGroup.size+=data.size;index+=data.size;textureId=textureId._batchLocation;this.addColors(colors,
style.color,style.alpha,data.attribSize,data.attribStart);this.addTextureIds(textureIds,textureId,data.attribSize,data.attribStart)}core.BaseTexture._globalBatch=TICK;this.packAttributes()};GraphicsGeometry.prototype.packAttributes=function(){for(var verts=this.points,uvs=this.uvs,colors=this.colors,textureIds=this.textureIds,glPoints=new ArrayBuffer(12*verts.length),f32=new Float32Array(glPoints),u32=new Uint32Array(glPoints),p=0,i=0;i<verts.length/2;i++)f32[p++]=verts[2*i],f32[p++]=verts[2*i+1],
f32[p++]=uvs[2*i],f32[p++]=uvs[2*i+1],u32[p++]=colors[i],f32[p++]=textureIds[i];this._buffer.update(glPoints);this._indexBuffer.update(this.indicesUint16)};GraphicsGeometry.prototype.processFill=function(data){data.holes.length?(this.processHoles(data.holes),buildPoly.triangulate(data,this)):FILL_COMMANDS[data.type].triangulate(data,this)};GraphicsGeometry.prototype.processLine=function(data){buildLine(data,this);for(var i=0;i<data.holes.length;i++)buildLine(data.holes[i],this)};GraphicsGeometry.prototype.processHoles=
function(holes){for(var i=0;i<holes.length;i++){var hole=holes[i];FILL_COMMANDS[hole.type].build(hole);hole.matrix&&this.transformPoints(hole.points,hole.matrix)}};GraphicsGeometry.prototype.calculateBounds=function(){var bounds=this._bounds,curMatrix=math.Matrix.IDENTITY;this._bounds.clear();tmpBounds.clear();for(var i=0;i<this.graphicsData.length;i++){var data=this.graphicsData[i],shape=data.shape,type=data.type,lineStyle=data.lineStyle,nextMatrix=data.matrix||math.Matrix.IDENTITY;data=0;if(lineStyle&&
lineStyle.visible){var alignment=lineStyle.alignment;data=lineStyle.width;if(type===math.SHAPES.POLY){lineStyle=shape.points;for(var sum=0,i$jscomp$0=0;i$jscomp$0<lineStyle.length-2;i$jscomp$0+=2)sum+=(lineStyle[i$jscomp$0+2]-lineStyle[i$jscomp$0])*(lineStyle[i$jscomp$0+3]+lineStyle[i$jscomp$0+1]);data=0<sum?data*(1-alignment):data*alignment}else data*=Math.max(0,alignment)}curMatrix!==nextMatrix&&(tmpBounds.isEmpty()||(bounds.addBoundsMatrix(tmpBounds,curMatrix),tmpBounds.clear()),curMatrix=nextMatrix);
type===math.SHAPES.RECT||type===math.SHAPES.RREC?tmpBounds.addFramePad(shape.x,shape.y,shape.x+shape.width,shape.y+shape.height,data,data):type===math.SHAPES.CIRC?tmpBounds.addFramePad(shape.x,shape.y,shape.x,shape.y,shape.radius+data,shape.radius+data):type===math.SHAPES.ELIP?tmpBounds.addFramePad(shape.x,shape.y,shape.x,shape.y,shape.width+data,shape.height+data):bounds.addVerticesMatrix(curMatrix,shape.points,0,shape.points.length,data,data)}tmpBounds.isEmpty()||bounds.addBoundsMatrix(tmpBounds,
curMatrix);bounds.pad(this.boundsPadding,this.boundsPadding)};GraphicsGeometry.prototype.transformPoints=function(points,matrix){for(var i=0;i<points.length/2;i++){var x=points[2*i],y=points[2*i+1];points[2*i]=matrix.a*x+matrix.c*y+matrix.tx;points[2*i+1]=matrix.b*x+matrix.d*y+matrix.ty}};GraphicsGeometry.prototype.addColors=function(colors,color,alpha,size,offset){void 0===offset&&(offset=0);color=utils.premultiplyTint((color>>16)+(color&65280)+((color&255)<<16),alpha);colors.length=Math.max(colors.length,
offset+size);for(alpha=0;alpha<size;alpha++)colors[offset+alpha]=color};GraphicsGeometry.prototype.addTextureIds=function(textureIds,id,size,offset){void 0===offset&&(offset=0);textureIds.length=Math.max(textureIds.length,offset+size);for(var i=0;i<size;i++)textureIds[offset+i]=id};GraphicsGeometry.prototype.addUvs=function(verts,uvs,texture,start,size,matrix){void 0===matrix&&(matrix=null);for(var index=0,uvsStart=uvs.length,frame=texture.frame;index<size;){var x=verts[2*(start+index)],y=verts[2*
(start+index)+1];if(matrix){var nx=matrix.a*x+matrix.c*y+matrix.tx;y=matrix.b*x+matrix.d*y+matrix.ty;x=nx}index++;uvs.push(x/frame.width,y/frame.height)}verts=texture.baseTexture;(frame.width<verts.width||frame.height<verts.height)&&this.adjustUvs(uvs,texture,uvsStart,size)};GraphicsGeometry.prototype.adjustUvs=function(uvs,texture,start,size){var baseTexture=texture.baseTexture;size=start+2*size;var frame=texture.frame;texture=frame.width/baseTexture.width;baseTexture=frame.height/baseTexture.height;
var offsetX=frame.x/frame.width;frame=frame.y/frame.height;for(var minX=Math.floor(uvs[start]+1E-6),minY=Math.floor(uvs[start+1]+1E-6),i=start+2;i<size;i+=2)minX=Math.min(minX,Math.floor(uvs[i]+1E-6)),minY=Math.min(minY,Math.floor(uvs[i+1]+1E-6));offsetX-=minX;frame-=minY;for(i=start;i<size;i+=2)uvs[i]=(uvs[i]+offsetX)*texture,uvs[i+1]=(uvs[i+1]+frame)*baseTexture};GraphicsGeometry.BATCHABLE_SIZE=100;return GraphicsGeometry}(core.BatchGeometry),LineStyle=function(_super){function LineStyle(){var _this=
null!==_super&&_super.apply(this,arguments)||this;_this.width=0;_this.alignment=.5;_this.native=!1;_this.cap=exports.LINE_CAP.BUTT;_this.join=exports.LINE_JOIN.MITER;_this.miterLimit=10;return _this}__extends(LineStyle,_super);LineStyle.prototype.clone=function(){var obj=new LineStyle;obj.color=this.color;obj.alpha=this.alpha;obj.texture=this.texture;obj.matrix=this.matrix;obj.visible=this.visible;obj.width=this.width;obj.alignment=this.alignment;obj.native=this.native;obj.cap=this.cap;obj.join=this.join;
obj.miterLimit=this.miterLimit;return obj};LineStyle.prototype.reset=function(){_super.prototype.reset.call(this);this.color=0;this.alignment=.5;this.width=0;this.native=!1};return LineStyle}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={};_a=function(_super){function Graphics(geometry){void 0===geometry&&(geometry=null);var _this=_super.call(this)||this;_this.shader=null;_this.pluginName="batch";_this.currentPath=null;_this.batches=[];_this.batchTint=-1;_this.batchDirty=-1;_this.vertexData=
null;_this._fillStyle=new FillStyle;_this._lineStyle=new LineStyle;_this._matrix=null;_this._holeMode=!1;_this.state=core.State.for2d();_this._geometry=geometry||new GraphicsGeometry;_this._geometry.refCount++;_this._transformID=-1;_this.tint=16777215;_this.blendMode=constants.BLEND_MODES.NORMAL;return _this}__extends(Graphics,_super);Object.defineProperty(Graphics.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0});Graphics.prototype.clone=function(){this.finishPoly();
return new Graphics(this._geometry)};Object.defineProperty(Graphics.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(value){this.state.blendMode=value},enumerable:!1,configurable:!0});Object.defineProperty(Graphics.prototype,"tint",{get:function(){return this._tint},set:function(value){this._tint=value},enumerable:!1,configurable:!0});Object.defineProperty(Graphics.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0});Object.defineProperty(Graphics.prototype,
"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0});Graphics.prototype.lineStyle=function(options,color,alpha,alignment,native){void 0===options&&(options=null);void 0===color&&(color=0);void 0===alpha&&(alpha=1);void 0===alignment&&(alignment=.5);void 0===native&&(native=!1);"number"===typeof options&&(options={width:options,color,alpha,alignment,native});return this.lineTextureStyle(options)};Graphics.prototype.lineTextureStyle=function(options){options=Object.assign({width:0,
texture:core.Texture.WHITE,color:options&&options.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:exports.LINE_CAP.BUTT,join:exports.LINE_JOIN.MITER,miterLimit:10},options);this.currentPath&&this.startPoly();var visible=0<options.width&&0<options.alpha;visible?(options.matrix&&(options.matrix=options.matrix.clone(),options.matrix.invert()),Object.assign(this._lineStyle,{visible},options)):this._lineStyle.reset();return this};Graphics.prototype.startPoly=function(){if(this.currentPath){var points=
this.currentPath.points,len=this.currentPath.points.length;2<len&&(this.drawShape(this.currentPath),this.currentPath=new math.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(points[len-2],points[len-1]))}else this.currentPath=new math.Polygon,this.currentPath.closeStroke=!1};Graphics.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)};Graphics.prototype.moveTo=
function(x,y){this.startPoly();this.currentPath.points[0]=x;this.currentPath.points[1]=y;return this};Graphics.prototype.lineTo=function(x,y){this.currentPath||this.moveTo(0,0);var points=this.currentPath.points,fromY=points[points.length-1];points[points.length-2]===x&&fromY===y||points.push(x,y);return this};Graphics.prototype._initCurve=function(x,y){void 0===x&&(x=0);void 0===y&&(y=0);this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[x,y]):this.moveTo(x,y)};Graphics.prototype.quadraticCurveTo=
function(cpX,cpY,toX,toY){this._initCurve();var points=this.currentPath.points;0===points.length&&this.moveTo(0,0);QuadraticUtils.curveTo(cpX,cpY,toX,toY,points);return this};Graphics.prototype.bezierCurveTo=function(cpX,cpY,cpX2,cpY2,toX,toY){this._initCurve();BezierUtils.curveTo(cpX,cpY,cpX2,cpY2,toX,toY,this.currentPath.points);return this};Graphics.prototype.arcTo=function(x1,y1,x2,y2,radius){this._initCurve(x1,y1);(x1=ArcUtils.curveTo(x1,y1,x2,y2,radius,this.currentPath.points))&&this.arc(x1.cx,
x1.cy,x1.radius,x1.startAngle,x1.endAngle,x1.anticlockwise);return this};Graphics.prototype.arc=function(cx,cy,radius,startAngle,endAngle,anticlockwise){void 0===anticlockwise&&(anticlockwise=!1);if(startAngle===endAngle)return this;!anticlockwise&&endAngle<=startAngle?endAngle+=math.PI_2:anticlockwise&&startAngle<=endAngle&&(startAngle+=math.PI_2);if(0===endAngle-startAngle)return this;var startX=cx+Math.cos(startAngle)*radius,startY=cy+Math.sin(startAngle)*radius,eps=this._geometry.closePointEps,
points=this.currentPath?this.currentPath.points:null;if(points){var yDiff=Math.abs(points[points.length-1]-startY);Math.abs(points[points.length-2]-startX)<eps&&yDiff<eps||points.push(startX,startY)}else this.moveTo(startX,startY),points=this.currentPath.points;ArcUtils.arc(startX,startY,cx,cy,radius,startAngle,endAngle,anticlockwise,points);return this};Graphics.prototype.beginFill=function(color,alpha){void 0===color&&(color=0);void 0===alpha&&(alpha=1);return this.beginTextureFill({texture:core.Texture.WHITE,
color,alpha})};Graphics.prototype.beginTextureFill=function(options){options=Object.assign({texture:core.Texture.WHITE,color:16777215,alpha:1,matrix:null},options);this.currentPath&&this.startPoly();var visible=0<options.alpha;visible?(options.matrix&&(options.matrix=options.matrix.clone(),options.matrix.invert()),Object.assign(this._fillStyle,{visible},options)):this._fillStyle.reset();return this};Graphics.prototype.endFill=function(){this.finishPoly();this._fillStyle.reset();return this};Graphics.prototype.drawRect=
function(x,y,width,height){return this.drawShape(new math.Rectangle(x,y,width,height))};Graphics.prototype.drawRoundedRect=function(x,y,width,height,radius){return this.drawShape(new math.RoundedRectangle(x,y,width,height,radius))};Graphics.prototype.drawCircle=function(x,y,radius){return this.drawShape(new math.Circle(x,y,radius))};Graphics.prototype.drawEllipse=function(x,y,width,height){return this.drawShape(new math.Ellipse(x,y,width,height))};Graphics.prototype.drawPolygon=function(){for(var arguments$1=
arguments,path=[],_i=0;_i<arguments.length;_i++)path[_i]=arguments$1[_i];arguments$1=!0;_i=path[0];_i.points?(arguments$1=_i.closeStroke,path=_i.points):path=Array.isArray(path[0])?path[0]:path;path=new math.Polygon(path);path.closeStroke=arguments$1;this.drawShape(path);return this};Graphics.prototype.drawShape=function(shape){this._holeMode?this._geometry.drawHole(shape,this._matrix):this._geometry.drawShape(shape,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);return this};Graphics.prototype.clear=
function(){this._geometry.clear();this._lineStyle.reset();this._fillStyle.reset();this._boundsID++;this._matrix=null;this._holeMode=!1;this.currentPath=null;return this};Graphics.prototype.isFastRect=function(){var data=this._geometry.graphicsData;return 1===data.length&&data[0].shape.type===math.SHAPES.RECT&&!data[0].holes.length&&!(data[0].lineStyle.visible&&data[0].lineStyle.width)};Graphics.prototype._render=function(renderer){this.finishPoly();var geometry=this._geometry;geometry.updateBatches(renderer.context.supports.uint32Indices);
geometry.batchable?(this.batchDirty!==geometry.batchDirty&&this._populateBatches(),this._renderBatched(renderer)):(renderer.batch.flush(),this._renderDirect(renderer))};Graphics.prototype._populateBatches=function(){var geometry=this._geometry,blendMode=this.blendMode,len=geometry.batches.length;this._transformID=this.batchTint=-1;this.batchDirty=geometry.batchDirty;this.batches.length=len;this.vertexData=new Float32Array(geometry.points);for(var i=0;i<len;i++){var gI=geometry.batches[i],color=gI.style.color,
vertexData=new Float32Array(this.vertexData.buffer,8*gI.attribStart,2*gI.attribSize),uvs=new Float32Array(geometry.uvsFloat32.buffer,8*gI.attribStart,2*gI.attribSize),indices=new Uint16Array(geometry.indicesUint16.buffer,2*gI.start,gI.size);gI={vertexData,blendMode,indices,uvs,_batchRGB:utils.hex2rgb(color),_tintRGB:color,_texture:gI.style.texture,alpha:gI.style.alpha,worldAlpha:1};this.batches[i]=gI}};Graphics.prototype._renderBatched=function(renderer){if(this.batches.length){renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
this.calculateVertices();this.calculateTints();for(var i=0,l=this.batches.length;i<l;i++){var batch=this.batches[i];batch.worldAlpha=this.worldAlpha*batch.alpha;renderer.plugins[this.pluginName].render(batch)}}};Graphics.prototype._renderDirect=function(renderer){var shader=this._resolveDirectShader(renderer),geometry=this._geometry,tint=this.tint,worldAlpha=this.worldAlpha,uniforms=shader.uniforms,drawCalls=geometry.drawCalls;uniforms.translationMatrix=this.transform.worldTransform;uniforms.tint[0]=
(tint>>16&255)/255*worldAlpha;uniforms.tint[1]=(tint>>8&255)/255*worldAlpha;uniforms.tint[2]=(tint&255)/255*worldAlpha;uniforms.tint[3]=worldAlpha;renderer.shader.bind(shader);renderer.geometry.bind(geometry,shader);renderer.state.set(this.state);shader=0;for(drawCalls=drawCalls.length;shader<drawCalls;shader++)this._renderDrawCallDirect(renderer,geometry.drawCalls[shader])};Graphics.prototype._renderDrawCallDirect=function(renderer,drawCall){var texArray=drawCall.texArray,type=drawCall.type,size=
drawCall.size;drawCall=drawCall.start;for(var groupTextureCount=texArray.count,j=0;j<groupTextureCount;j++)renderer.texture.bind(texArray.elements[j],j);renderer.geometry.draw(type,size,drawCall)};Graphics.prototype._resolveDirectShader=function(renderer){var shader=this.shader,pluginName=this.pluginName;if(!shader){if(!DEFAULT_SHADERS[pluginName]){shader=renderer.plugins.batch.MAX_TEXTURES;for(var sampleValues=new Int32Array(shader),i=0;i<shader;i++)sampleValues[i]=i;shader={tint:new Float32Array([1,
1,1,1]),translationMatrix:new math.Matrix,default:core.UniformGroup.from({uSamplers:sampleValues},!0)};DEFAULT_SHADERS[pluginName]=new core.Shader(renderer.plugins[pluginName]._shader.program,shader)}shader=DEFAULT_SHADERS[pluginName]}return shader};Graphics.prototype._calculateBounds=function(){this.finishPoly();var geometry=this._geometry;geometry.graphicsData.length&&(geometry=geometry.bounds,this._bounds.addFrame(this.transform,geometry.minX,geometry.minY,geometry.maxX,geometry.maxY))};Graphics.prototype.containsPoint=
function(point){this.worldTransform.applyInverse(point,Graphics._TEMP_POINT);return this._geometry.containsPoint(Graphics._TEMP_POINT)};Graphics.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var tintRGB=utils.hex2rgb(this.tint,temp),i=0;i<this.batches.length;i++){var batch=this.batches[i],batchTint=batch._batchRGB;batchTint=(tintRGB[0]*batchTint[0]*255<<16)+(tintRGB[1]*batchTint[1]*255<<8)+(tintRGB[2]*batchTint[2]*255|0);batch._tintRGB=(batchTint>>
16)+(batchTint&65280)+((batchTint&255)<<16)}}};Graphics.prototype.calculateVertices=function(){var wtID=this.transform._worldID;if(this._transformID!==wtID){this._transformID=wtID;var wt=this.transform.worldTransform;wtID=wt.a;var b=wt.b,c=wt.c,d=wt.d,tx=wt.tx;wt=wt.ty;for(var data=this._geometry.points,vertexData=this.vertexData,count=0,i=0;i<data.length;i+=2){var x=data[i],y=data[i+1];vertexData[count++]=wtID*x+c*y+tx;vertexData[count++]=d*y+b*x+wt}}};Graphics.prototype.closePath=function(){var currentPath=
this.currentPath;currentPath&&(currentPath.closeStroke=!0,this.finishPoly());return this};Graphics.prototype.setMatrix=function(matrix){this._matrix=matrix;return this};Graphics.prototype.beginHole=function(){this.finishPoly();this._holeMode=!0;return this};Graphics.prototype.endHole=function(){this.finishPoly();this._holeMode=!1;return this};Graphics.prototype.destroy=function(options){this._geometry.refCount--;0===this._geometry.refCount&&this._geometry.dispose();this.currentPath=this._matrix=null;
this._lineStyle.destroy();this._lineStyle=null;this._fillStyle.destroy();this.vertexData=this.shader=this._geometry=this._fillStyle=null;this.batches.length=0;this.batches=null;_super.prototype.destroy.call(this,options)};Graphics._TEMP_POINT=new math.Point;return Graphics}(display.Container);global={buildPoly,buildCircle:global,buildRectangle:require,buildRoundedRectangle:module,buildLine,ArcUtils,BezierUtils,QuadraticUtils,BatchPart,FILL_COMMANDS,BATCH_POOL,DRAW_CALL_POOL};exports.FillStyle=FillStyle;
exports.GRAPHICS_CURVES=GRAPHICS_CURVES;exports.Graphics=_a;exports.GraphicsData=GraphicsData;exports.GraphicsGeometry=GraphicsGeometry;exports.LineStyle=LineStyle;exports.graphicsUtils=global}
//# sourceMappingURL=module$node_modules$$pixi$graphics$dist$cjs$graphics.js.map
