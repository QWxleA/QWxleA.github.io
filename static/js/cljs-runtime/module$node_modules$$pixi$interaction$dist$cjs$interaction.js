shadow$provide.module$node_modules$$pixi$interaction$dist$cjs$interaction=function(global,require,module,exports){function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}Object.defineProperty(exports,"__esModule",{value:!0});var math=require("module$node_modules$$pixi$math$dist$cjs$math"),ticker=require("module$node_modules$$pixi$ticker$dist$cjs$ticker"),display=require("module$node_modules$$pixi$display$dist$cjs$display");
require=require("module$node_modules$$pixi$utils$dist$cjs$utils");var InteractionData=function(){function InteractionData(){this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0;this.global=new math.Point;this.identifier=this.originalEvent=this.target=null;this.isPrimary=!1;this.tiltY=this.tiltX=this.height=this.width=this.buttons=this.button=0;this.pointerType=null;this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0}Object.defineProperty(InteractionData.prototype,
"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0});InteractionData.prototype.getLocalPosition=function(displayObject,point,globalPos){return displayObject.worldTransform.applyInverse(globalPos||this.global,point)};InteractionData.prototype.copyEvent=function(event){"isPrimary"in event&&event.isPrimary&&(this.isPrimary=!0);this.button="button"in event&&event.button;var buttons="buttons"in event&&event.buttons;this.buttons=Number.isInteger(buttons)?buttons:"which"in
event&&event.which;this.width="width"in event&&event.width;this.height="height"in event&&event.height;this.tiltX="tiltX"in event&&event.tiltX;this.tiltY="tiltY"in event&&event.tiltY;this.pointerType="pointerType"in event&&event.pointerType;this.pressure="pressure"in event&&event.pressure;this.rotationAngle="rotationAngle"in event&&event.rotationAngle;this.twist="twist"in event&&event.twist||0;this.tangentialPressure="tangentialPressure"in event&&event.tangentialPressure||0};InteractionData.prototype.reset=
function(){this.isPrimary=!1};return InteractionData}(),extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)},InteractionEvent=function(){function InteractionEvent(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=!1;this.data=this.type=this.currentTarget=this.target=null}InteractionEvent.prototype.stopPropagation=
function(){this.stopPropagationHint=this.stopped=!0;this.stopsPropagatingAt=this.currentTarget};InteractionEvent.prototype.reset=function(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=!1;this.target=this.currentTarget=null};return InteractionEvent}(),InteractionTrackingData=function(){function InteractionTrackingData(pointerId){this._pointerId=pointerId;this._flags=InteractionTrackingData.FLAGS.NONE}InteractionTrackingData.prototype._doSet=function(flag,yn){this._flags=yn?
this._flags|flag:this._flags&~flag};Object.defineProperty(InteractionTrackingData.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0});Object.defineProperty(InteractionTrackingData.prototype,"flags",{get:function(){return this._flags},set:function(flags){this._flags=flags},enumerable:!1,configurable:!0});Object.defineProperty(InteractionTrackingData.prototype,"none",{get:function(){return this._flags===InteractionTrackingData.FLAGS.NONE},enumerable:!1,configurable:!0});
Object.defineProperty(InteractionTrackingData.prototype,"over",{get:function(){return 0!==(this._flags&InteractionTrackingData.FLAGS.OVER)},set:function(yn){this._doSet(InteractionTrackingData.FLAGS.OVER,yn)},enumerable:!1,configurable:!0});Object.defineProperty(InteractionTrackingData.prototype,"rightDown",{get:function(){return 0!==(this._flags&InteractionTrackingData.FLAGS.RIGHT_DOWN)},set:function(yn){this._doSet(InteractionTrackingData.FLAGS.RIGHT_DOWN,yn)},enumerable:!1,configurable:!0});Object.defineProperty(InteractionTrackingData.prototype,
"leftDown",{get:function(){return 0!==(this._flags&InteractionTrackingData.FLAGS.LEFT_DOWN)},set:function(yn){this._doSet(InteractionTrackingData.FLAGS.LEFT_DOWN,yn)},enumerable:!1,configurable:!0});InteractionTrackingData.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});return InteractionTrackingData}(),TreeSearch=function(){function TreeSearch(){this._tempPoint=new math.Point}TreeSearch.prototype.recursiveFindHit=function(interactionEvent,displayObject,func,hitTest,interactive){if(!displayObject||
!displayObject.visible)return!1;var point=interactionEvent.data.global;interactive=displayObject.interactive||interactive;var hit=!1,interactiveParent=interactive,hitTestChildren=!0;displayObject.hitArea?(hitTest&&(displayObject.worldTransform.applyInverse(point,this._tempPoint),displayObject.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?hit=!0:hitTestChildren=hitTest=!1),interactiveParent=!1):displayObject._mask&&hitTest&&(displayObject._mask.containsPoint&&displayObject._mask.containsPoint(point)||
(hitTest=!1));if(hitTestChildren&&displayObject.interactiveChildren&&displayObject.children){hitTestChildren=displayObject.children;for(var i=hitTestChildren.length-1;0<=i;i--){var child=hitTestChildren[i],childHit=this.recursiveFindHit(interactionEvent,child,func,hitTest,interactiveParent);childHit&&child.parent&&(interactiveParent=!1,childHit&&(interactionEvent.target&&(hitTest=!1),hit=!0))}}interactive&&(hitTest&&!interactionEvent.target&&!displayObject.hitArea&&displayObject.containsPoint&&displayObject.containsPoint(point)&&
(hit=!0),displayObject.interactive&&(hit&&!interactionEvent.target&&(interactionEvent.target=displayObject),func&&func(interactionEvent,displayObject,!!hit)));return hit};TreeSearch.prototype.findHit=function(interactionEvent,displayObject,func,hitTest){this.recursiveFindHit(interactionEvent,displayObject,func,hitTest,!1)};return TreeSearch}();global={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(value){value?this.cursor="pointer":
"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0};display.DisplayObject.mixin(global);var hitTestEvent={target:null,data:{global:null}};require=function(_super){function InteractionManager(renderer,options){var _this=_super.call(this)||this;options=options||{};_this.renderer=renderer;_this.autoPreventDefault=void 0!==options.autoPreventDefault?options.autoPreventDefault:
!0;_this.interactionFrequency=options.interactionFrequency||10;_this.mouse=new InteractionData;_this.mouse.identifier=1;_this.mouse.global.set(-999999);_this.activeInteractionData={};_this.activeInteractionData[1]=_this.mouse;_this.interactionDataPool=[];_this.eventData=new InteractionEvent;_this.interactionDOMElement=null;_this.moveWhenInside=!1;_this.eventsAdded=!1;_this.tickerAdded=!1;_this.mouseOverRenderer=!("PointerEvent"in self);_this.supportsTouchEvents="ontouchstart"in self;_this.supportsPointerEvents=
!!self.PointerEvent;_this.onPointerUp=_this.onPointerUp.bind(_this);_this.processPointerUp=_this.processPointerUp.bind(_this);_this.onPointerCancel=_this.onPointerCancel.bind(_this);_this.processPointerCancel=_this.processPointerCancel.bind(_this);_this.onPointerDown=_this.onPointerDown.bind(_this);_this.processPointerDown=_this.processPointerDown.bind(_this);_this.onPointerMove=_this.onPointerMove.bind(_this);_this.processPointerMove=_this.processPointerMove.bind(_this);_this.onPointerOut=_this.onPointerOut.bind(_this);
_this.processPointerOverOut=_this.processPointerOverOut.bind(_this);_this.onPointerOver=_this.onPointerOver.bind(_this);_this.cursorStyles={default:"inherit",pointer:"pointer"};_this.currentCursorMode=null;_this.cursor=null;_this.resolution=1;_this.delayedEvents=[];_this.search=new TreeSearch;_this._tempDisplayObject=new display.TemporaryDisplayObject;_this._eventListenerOptions={capture:!0,passive:!1};_this._useSystemTicker=void 0!==options.useSystemTicker?options.useSystemTicker:!0;_this.setTargetElement(_this.renderer.view,
_this.renderer.resolution);return _this}__extends(InteractionManager,_super);Object.defineProperty(InteractionManager.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(useSystemTicker){(this._useSystemTicker=useSystemTicker)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0});Object.defineProperty(InteractionManager.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},
enumerable:!1,configurable:!0});InteractionManager.prototype.hitTest=function(globalPoint,root){hitTestEvent.target=null;hitTestEvent.data.global=globalPoint;root||(root=this.lastObjectRendered);this.processInteractive(hitTestEvent,root,null,!0);return hitTestEvent.target};InteractionManager.prototype.setTargetElement=function(element,resolution){void 0===resolution&&(resolution=1);this.removeTickerListener();this.removeEvents();this.interactionDOMElement=element;this.resolution=resolution;this.addEvents();
this.addTickerListener()};InteractionManager.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(ticker.Ticker.system.add(this.tickerUpdate,this,ticker.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)};InteractionManager.prototype.removeTickerListener=function(){this.tickerAdded&&(ticker.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)};InteractionManager.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var style=
this.interactionDOMElement.style;self.navigator.msPointerEnabled?(style.msContentZooming="none",style.msTouchAction="none"):this.supportsPointerEvents&&(style.touchAction="none");this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),
this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",
this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions));this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",
this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions));this.eventsAdded=!0}};InteractionManager.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var style=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(style.msContentZooming="",style.msTouchAction=""):this.supportsPointerEvents&&(style.touchAction="");this.supportsPointerEvents?(self.document.removeEventListener("pointermove",
this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,
this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions));
this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions));this.interactionDOMElement=null;this.eventsAdded=
!1}};InteractionManager.prototype.tickerUpdate=function(deltaTime){this._deltaTime+=deltaTime;this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())};InteractionManager.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{this.cursor=null;for(var k in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(k)){var interactionData=this.activeInteractionData[k];interactionData.originalEvent&&"touch"!==interactionData.pointerType&&
(interactionData=this.configureInteractionEventForDOMEvent(this.eventData,interactionData.originalEvent,interactionData),this.processInteractive(interactionData,this.lastObjectRendered,this.processPointerOverOut,!0))}this.setCursorMode(this.cursor)}};InteractionManager.prototype.setCursorMode=function(mode){mode=mode||"default";var applyStyles=!0;self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(applyStyles=!1);if(this.currentCursorMode!==mode){this.currentCursorMode=mode;
var style=this.cursorStyles[mode];if(style)switch(typeof style){case "string":applyStyles&&(this.interactionDOMElement.style.cursor=style);break;case "function":style(mode);break;case "object":applyStyles&&Object.assign(this.interactionDOMElement.style,style)}else applyStyles&&"string"===typeof mode&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,mode)&&(this.interactionDOMElement.style.cursor=mode)}};InteractionManager.prototype.dispatchEvent=function(displayObject,eventString,eventData){if(!eventData.stopPropagationHint||
displayObject===eventData.stopsPropagatingAt)if(eventData.currentTarget=displayObject,eventData.type=eventString,displayObject.emit(eventString,eventData),displayObject[eventString])displayObject[eventString](eventData)};InteractionManager.prototype.delayDispatchEvent=function(displayObject,eventString,eventData){this.delayedEvents.push({displayObject,eventString,eventData})};InteractionManager.prototype.mapPositionToPoint=function(point,x,y){var rect=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():
{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var resolutionMultiplier=1/this.resolution;point.x=this.interactionDOMElement.width/rect.width*(x-rect.left)*resolutionMultiplier;point.y=this.interactionDOMElement.height/rect.height*(y-rect.top)*resolutionMultiplier};InteractionManager.prototype.processInteractive=function(interactionEvent,displayObject,func,hitTest){displayObject=this.search.findHit(interactionEvent,displayObject,func,hitTest);
func=this.delayedEvents;if(!func.length)return displayObject;interactionEvent.stopPropagationHint=!1;interactionEvent=func.length;this.delayedEvents=[];for(hitTest=0;hitTest<interactionEvent;hitTest++){var _a=func[hitTest],displayObject_1=_a.displayObject,eventString=_a.eventString;_a=_a.eventData;_a.stopsPropagatingAt===displayObject_1&&(_a.stopPropagationHint=!0);this.dispatchEvent(displayObject_1,eventString,_a)}return displayObject};InteractionManager.prototype.onPointerDown=function(originalEvent){if(!this.supportsTouchEvents||
"touch"!==originalEvent.pointerType){var events=this.normalizeToPointerData(originalEvent);this.autoPreventDefault&&events[0].isNormalized&&(!originalEvent.cancelable&&"cancelable"in originalEvent||originalEvent.preventDefault());for(var eventLen=events.length,i=0;i<eventLen;i++){var event=events[i],interactionData=this.getInteractionDataForPointerId(event);interactionData=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionData.data.originalEvent=originalEvent;
this.processInteractive(interactionData,this.lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",interactionData);"touch"===event.pointerType?this.emit("touchstart",interactionData):("mouse"===event.pointerType||"pen"===event.pointerType)&&this.emit(2===event.button?"rightdown":"mousedown",this.eventData)}}};InteractionManager.prototype.processPointerDown=function(interactionEvent,displayObject,hit){var data=interactionEvent.data,id=interactionEvent.data.identifier;if(hit)if(displayObject.trackedPointers[id]||
(displayObject.trackedPointers[id]=new InteractionTrackingData(id)),this.dispatchEvent(displayObject,"pointerdown",interactionEvent),"touch"===data.pointerType)this.dispatchEvent(displayObject,"touchstart",interactionEvent);else if("mouse"===data.pointerType||"pen"===data.pointerType)(hit=2===data.button)?displayObject.trackedPointers[id].rightDown=!0:displayObject.trackedPointers[id].leftDown=!0,this.dispatchEvent(displayObject,hit?"rightdown":"mousedown",interactionEvent)};InteractionManager.prototype.onPointerComplete=
function(originalEvent,cancelled,func){for(var events=this.normalizeToPointerData(originalEvent),eventLen=events.length,eventAppend=originalEvent.target!==this.interactionDOMElement?"outside":"",i=0;i<eventLen;i++){var event=events[i],interactionData=this.getInteractionDataForPointerId(event);interactionData=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionData.data.originalEvent=originalEvent;this.processInteractive(interactionData,this.lastObjectRendered,
func,cancelled||!eventAppend);this.emit(cancelled?"pointercancel":"pointerup"+eventAppend,interactionData);"mouse"===event.pointerType||"pen"===event.pointerType?this.emit(2===event.button?"rightup"+eventAppend:"mouseup"+eventAppend,interactionData):"touch"===event.pointerType&&(this.emit(cancelled?"touchcancel":"touchend"+eventAppend,interactionData),this.releaseInteractionDataForPointerId(event.pointerId))}};InteractionManager.prototype.onPointerCancel=function(event){if(!this.supportsTouchEvents||
"touch"!==event.pointerType)this.onPointerComplete(event,!0,this.processPointerCancel)};InteractionManager.prototype.processPointerCancel=function(interactionEvent,displayObject){var data=interactionEvent.data,id=interactionEvent.data.identifier;void 0!==displayObject.trackedPointers[id]&&(delete displayObject.trackedPointers[id],this.dispatchEvent(displayObject,"pointercancel",interactionEvent),"touch"===data.pointerType&&this.dispatchEvent(displayObject,"touchcancel",interactionEvent))};InteractionManager.prototype.onPointerUp=
function(event){if(!this.supportsTouchEvents||"touch"!==event.pointerType)this.onPointerComplete(event,!1,this.processPointerUp)};InteractionManager.prototype.processPointerUp=function(interactionEvent,displayObject,hit){var data=interactionEvent.data,id=interactionEvent.data.identifier,trackingData=displayObject.trackedPointers[id],isTouch="touch"===data.pointerType,isMouse="mouse"===data.pointerType||"pen"===data.pointerType,isMouseTap=!1;if(isMouse){data=2===data.button;var flags=InteractionTrackingData.FLAGS;
flags=data?flags.RIGHT_DOWN:flags.LEFT_DOWN;flags=void 0!==trackingData&&trackingData.flags&flags;hit?(this.dispatchEvent(displayObject,data?"rightup":"mouseup",interactionEvent),flags&&(this.dispatchEvent(displayObject,data?"rightclick":"click",interactionEvent),isMouseTap=!0)):flags&&this.dispatchEvent(displayObject,data?"rightupoutside":"mouseupoutside",interactionEvent);trackingData&&(data?trackingData.rightDown=!1:trackingData.leftDown=!1)}hit?(this.dispatchEvent(displayObject,"pointerup",interactionEvent),
isTouch&&this.dispatchEvent(displayObject,"touchend",interactionEvent),trackingData&&(isMouse&&!isMouseTap||this.dispatchEvent(displayObject,"pointertap",interactionEvent),isTouch&&(this.dispatchEvent(displayObject,"tap",interactionEvent),trackingData.over=!1))):trackingData&&(this.dispatchEvent(displayObject,"pointerupoutside",interactionEvent),isTouch&&this.dispatchEvent(displayObject,"touchendoutside",interactionEvent));trackingData&&trackingData.none&&delete displayObject.trackedPointers[id]};
InteractionManager.prototype.onPointerMove=function(originalEvent){if(!this.supportsTouchEvents||"touch"!==originalEvent.pointerType){var events=this.normalizeToPointerData(originalEvent);if("mouse"===events[0].pointerType||"pen"===events[0].pointerType)this._didMove=!0,this.cursor=null;for(var eventLen=events.length,i=0;i<eventLen;i++){var event=events[i],interactionData=this.getInteractionDataForPointerId(event);interactionData=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);
interactionData.data.originalEvent=originalEvent;this.processInteractive(interactionData,this.lastObjectRendered,this.processPointerMove,!0);this.emit("pointermove",interactionData);"touch"===event.pointerType&&this.emit("touchmove",interactionData);"mouse"!==event.pointerType&&"pen"!==event.pointerType||this.emit("mousemove",interactionData)}"mouse"===events[0].pointerType&&this.setCursorMode(this.cursor)}};InteractionManager.prototype.processPointerMove=function(interactionEvent,displayObject,hit){var data=
interactionEvent.data,isTouch="touch"===data.pointerType;(data="mouse"===data.pointerType||"pen"===data.pointerType)&&this.processPointerOverOut(interactionEvent,displayObject,hit);if(!this.moveWhenInside||hit)this.dispatchEvent(displayObject,"pointermove",interactionEvent),isTouch&&this.dispatchEvent(displayObject,"touchmove",interactionEvent),data&&this.dispatchEvent(displayObject,"mousemove",interactionEvent)};InteractionManager.prototype.onPointerOut=function(originalEvent){if(!this.supportsTouchEvents||
"touch"!==originalEvent.pointerType){originalEvent=this.normalizeToPointerData(originalEvent)[0];"mouse"===originalEvent.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var interactionData=this.getInteractionDataForPointerId(originalEvent),interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,originalEvent,interactionData);interactionEvent.data.originalEvent=originalEvent;this.processInteractive(interactionEvent,this.lastObjectRendered,this.processPointerOverOut,
!1);this.emit("pointerout",interactionEvent);"mouse"===originalEvent.pointerType||"pen"===originalEvent.pointerType?this.emit("mouseout",interactionEvent):this.releaseInteractionDataForPointerId(interactionData.identifier)}};InteractionManager.prototype.processPointerOverOut=function(interactionEvent,displayObject,hit){var data=interactionEvent.data,id=interactionEvent.data.identifier;data="mouse"===data.pointerType||"pen"===data.pointerType;var trackingData=displayObject.trackedPointers[id];hit&&
!trackingData&&(trackingData=displayObject.trackedPointers[id]=new InteractionTrackingData(id));void 0!==trackingData&&(hit&&this.mouseOverRenderer?(trackingData.over||(trackingData.over=!0,this.delayDispatchEvent(displayObject,"pointerover",interactionEvent),data&&this.delayDispatchEvent(displayObject,"mouseover",interactionEvent)),data&&null===this.cursor&&(this.cursor=displayObject.cursor)):trackingData.over&&(trackingData.over=!1,this.dispatchEvent(displayObject,"pointerout",this.eventData),data&&
this.dispatchEvent(displayObject,"mouseout",interactionEvent),trackingData.none&&delete displayObject.trackedPointers[id]))};InteractionManager.prototype.onPointerOver=function(originalEvent){originalEvent=this.normalizeToPointerData(originalEvent)[0];var interactionData=this.getInteractionDataForPointerId(originalEvent);interactionData=this.configureInteractionEventForDOMEvent(this.eventData,originalEvent,interactionData);interactionData.data.originalEvent=originalEvent;"mouse"===originalEvent.pointerType&&
(this.mouseOverRenderer=!0);this.emit("pointerover",interactionData);"mouse"!==originalEvent.pointerType&&"pen"!==originalEvent.pointerType||this.emit("mouseover",interactionData)};InteractionManager.prototype.getInteractionDataForPointerId=function(event){var pointerId=event.pointerId;if(1===pointerId||"mouse"===event.pointerType)var interactionData=this.mouse;else this.activeInteractionData[pointerId]?interactionData=this.activeInteractionData[pointerId]:(interactionData=this.interactionDataPool.pop()||
new InteractionData,interactionData.identifier=pointerId,this.activeInteractionData[pointerId]=interactionData);interactionData.copyEvent(event);return interactionData};InteractionManager.prototype.releaseInteractionDataForPointerId=function(pointerId){var interactionData=this.activeInteractionData[pointerId];interactionData&&(delete this.activeInteractionData[pointerId],interactionData.reset(),this.interactionDataPool.push(interactionData))};InteractionManager.prototype.configureInteractionEventForDOMEvent=
function(interactionEvent,pointerEvent,interactionData){interactionEvent.data=interactionData;this.mapPositionToPoint(interactionData.global,pointerEvent.clientX,pointerEvent.clientY);"touch"===pointerEvent.pointerType&&(pointerEvent.globalX=interactionData.global.x,pointerEvent.globalY=interactionData.global.y);interactionData.originalEvent=pointerEvent;interactionEvent.reset();return interactionEvent};InteractionManager.prototype.normalizeToPointerData=function(event){var normalizedEvents=[];if(this.supportsTouchEvents&&
event instanceof TouchEvent)for(var i=0,li=event.changedTouches.length;i<li;i++){var touch=event.changedTouches[i];"undefined"===typeof touch.button&&(touch.button=event.touches.length?1:0);"undefined"===typeof touch.buttons&&(touch.buttons=event.touches.length?1:0);"undefined"===typeof touch.isPrimary&&(touch.isPrimary=1===event.touches.length&&"touchstart"===event.type);"undefined"===typeof touch.width&&(touch.width=touch.radiusX||1);"undefined"===typeof touch.height&&(touch.height=touch.radiusY||
1);"undefined"===typeof touch.tiltX&&(touch.tiltX=0);"undefined"===typeof touch.tiltY&&(touch.tiltY=0);"undefined"===typeof touch.pointerType&&(touch.pointerType="touch");"undefined"===typeof touch.pointerId&&(touch.pointerId=touch.identifier||0);"undefined"===typeof touch.pressure&&(touch.pressure=touch.force||.5);"undefined"===typeof touch.twist&&(touch.twist=0);"undefined"===typeof touch.tangentialPressure&&(touch.tangentialPressure=0);"undefined"===typeof touch.layerX&&(touch.layerX=touch.offsetX=
touch.clientX);"undefined"===typeof touch.layerY&&(touch.layerY=touch.offsetY=touch.clientY);touch.isNormalized=!0;normalizedEvents.push(touch)}else{if(!self.MouseEvent||event instanceof MouseEvent&&!(this.supportsPointerEvents&&event instanceof self.PointerEvent))"undefined"===typeof event.isPrimary&&(event.isPrimary=!0),"undefined"===typeof event.width&&(event.width=1),"undefined"===typeof event.height&&(event.height=1),"undefined"===typeof event.tiltX&&(event.tiltX=0),"undefined"===typeof event.tiltY&&
(event.tiltY=0),"undefined"===typeof event.pointerType&&(event.pointerType="mouse"),"undefined"===typeof event.pointerId&&(event.pointerId=1),"undefined"===typeof event.pressure&&(event.pressure=.5),"undefined"===typeof event.twist&&(event.twist=0),"undefined"===typeof event.tangentialPressure&&(event.tangentialPressure=0),event.isNormalized=!0;normalizedEvents.push(event)}return normalizedEvents};InteractionManager.prototype.destroy=function(){this.removeEvents();this.removeTickerListener();this.removeAllListeners();
this.search=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null};return InteractionManager}(require.EventEmitter);exports.InteractionData=InteractionData;exports.InteractionEvent=InteractionEvent;exports.InteractionManager=require;exports.InteractionTrackingData=
InteractionTrackingData;exports.interactiveTarget=global}
//# sourceMappingURL=module$node_modules$$pixi$interaction$dist$cjs$interaction.js.map
