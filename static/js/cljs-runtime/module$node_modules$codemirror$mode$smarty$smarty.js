shadow$provide.module$node_modules$codemirror$mode$smarty$smarty=function(global,require,module,exports){(function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("module$node_modules$codemirror$lib$codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("smarty",function(config,parserConf){function cont(style,lastType){last=lastType;return style}function tokenTop(stream,state){for(var string=
stream.string,scan=stream.pos;;){var nextMatch=string.indexOf(leftDelimiter,scan);scan=nextMatch+leftDelimiter.length;var JSCompiler_temp;(JSCompiler_temp=-1==nextMatch)||(JSCompiler_temp=nextMatch+leftDelimiter.length,null==JSCompiler_temp&&(JSCompiler_temp=stream.pos),JSCompiler_temp=!(3===version&&"{"==leftDelimiter&&(JSCompiler_temp==stream.string.length||/\s/.test(stream.string.charAt(JSCompiler_temp)))));if(JSCompiler_temp)break}if(nextMatch==stream.pos){stream.match(leftDelimiter);if(stream.eat("*"))return string=
tokenBlock("comment","*"+rightDelimiter),state.tokenize=string,string(stream,state);state.depth++;state.tokenize=tokenSmarty;last="startTag";return"tag"}-1<nextMatch&&(stream.string=string.slice(0,nextMatch));state=baseMode.token(stream,state.base);-1<nextMatch&&(stream.string=string);return state}function tokenSmarty(stream,state){if(stream.match(rightDelimiter,!0))return 3===version?(state.depth--,0>=state.depth&&(state.tokenize=tokenTop)):state.tokenize=tokenTop,cont("tag",null);if(stream.match(leftDelimiter,
!0))return state.depth++,cont("tag","startTag");var ch=stream.next();if("$"==ch)return stream.eatWhile(regs.validIdentifier),cont("variable-2","variable");if("|"==ch)return cont("operator","pipe");if("."==ch)return cont("operator","property");if(regs.stringChar.test(ch))return state.tokenize=tokenAttribute(ch),cont("string","string");if(regs.operatorChars.test(ch))return stream.eatWhile(regs.operatorChars),cont("operator","operator");if("["==ch||"]"==ch)return cont("bracket","bracket");if("("==ch||
")"==ch)return cont("bracket","operator");if(/\d/.test(ch))return stream.eatWhile(/\d/),cont("number","number");if("variable"==state.last){if("@"==ch)return stream.eatWhile(regs.validIdentifier),cont("property","property");if("|"==ch)return stream.eatWhile(regs.validIdentifier),cont("qualifier","modifier")}else{if("pipe"==state.last)return stream.eatWhile(regs.validIdentifier),cont("qualifier","modifier");if("whitespace"==state.last)return stream.eatWhile(regs.validIdentifier),cont("attribute","modifier")}if("property"==
state.last)return stream.eatWhile(regs.validIdentifier),cont("property",null);if(/\s/.test(ch))return last="whitespace",null;state="";"/"!=ch&&(state+=ch);for(var c;c=stream.eat(regs.validIdentifier);)state+=c;stream=0;for(c=keyFunctions.length;stream<c;stream++)if(keyFunctions[stream]==state)return cont("keyword","keyword");return/\s/.test(ch)?null:cont("tag","tag")}function tokenAttribute(quote){return function(stream,state){for(var prevChar=null,currChar;!stream.eol();){currChar=stream.peek();
if(stream.next()==quote&&"\\"!==prevChar){state.tokenize=tokenSmarty;break}prevChar=currChar}return"string"}}function tokenBlock(style,terminator){return function(stream,state){for(;!stream.eol();){if(stream.match(terminator)){state.tokenize=tokenTop;break}stream.next()}return style}}var rightDelimiter=parserConf.rightDelimiter||"}",leftDelimiter=parserConf.leftDelimiter||"{",version=parserConf.version||2,baseMode=CodeMirror.getMode(config,parserConf.baseMode||"null"),keyFunctions=["debug","extends",
"function","include","literal"],regs={operatorChars:/[+\-*&%=<>!?]/,validIdentifier:/[a-zA-Z0-9_]/,stringChar:/['"]/},last;return{startState:function(){return{base:CodeMirror.startState(baseMode),tokenize:tokenTop,last:null,depth:0}},copyState:function(state){return{base:CodeMirror.copyState(baseMode,state.base),tokenize:state.tokenize,last:state.last,depth:state.depth}},innerMode:function(state){if(state.tokenize==tokenTop)return{mode:baseMode,state:state.base}},token:function(stream,state){stream=
state.tokenize(stream,state);state.last=last;return stream},indent:function(state,text,line){return state.tokenize==tokenTop&&baseMode.indent?baseMode.indent(state.base,text,line):CodeMirror.Pass},blockCommentStart:leftDelimiter+"*",blockCommentEnd:"*"+rightDelimiter}});CodeMirror.defineMIME("text/x-smarty","smarty")})}
//# sourceMappingURL=module$node_modules$codemirror$mode$smarty$smarty.js.map
