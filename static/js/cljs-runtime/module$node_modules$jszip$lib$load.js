shadow$provide.module$node_modules$jszip$lib$load=function(global,require,module,exports){function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on("error",function(e){reject(e)}).on("end",function(){worker.streamInfo.crc32!==zipEntry.decompressed.crc32?reject(Error("Corrupted zip : CRC32 mismatch")):resolve()}).resume()})}var utils=require("module$node_modules$jszip$lib$utils"),external=
require("module$node_modules$jszip$lib$external"),utf8=require("module$node_modules$jszip$lib$utf8");utils=require("module$node_modules$jszip$lib$utils");var ZipEntries=require("module$node_modules$jszip$lib$zipEntries"),Crc32Probe=require("module$node_modules$jszip$lib$stream$Crc32Probe"),nodejsUtils=require("module$node_modules$jszip$lib$nodejsUtils");module.exports=function(data$jscomp$0,options){var zip=this;options=utils.extend(options||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,
decodeFileName:utf8.utf8decode});return nodejsUtils.isNode&&nodejsUtils.isStream(data$jscomp$0)?external.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):utils.prepareContent("the loaded zip file",data$jscomp$0,!0,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);zipEntries.load(data);return zipEntries}).then(function(zipEntries){var promises=[external.Promise.resolve(zipEntries)];zipEntries=zipEntries.files;if(options.checkCRC32)for(var i=
0;i<zipEntries.length;i++)promises.push(checkEntryCRC32(zipEntries[i]));return external.Promise.all(promises)}).then(function(results){results=results.shift();for(var files=results.files,i=0;i<files.length;i++){var input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:!0,optimizedBinaryString:!0,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}results.zipComment.length&&
(zip.comment=results.zipComment);return zip})}}
//# sourceMappingURL=module$node_modules$jszip$lib$load.js.map
