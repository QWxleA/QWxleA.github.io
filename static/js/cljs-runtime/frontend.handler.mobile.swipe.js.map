{"version":3,"sources":["frontend/handler/mobile/swipe.cljs"],"mappings":";AAMA,sDAAA,tDAAMA;AAAN,AAEE,IAAMC,YAAUC;AAAhB,AACE,kCAAA,3BACCD,oCACA,WAAKE;AAAL,AACE,IAAMC,SAAO,iBAAAC,WAAQ,AAAUF;AAAlB,AAAA,GAAA,CAAAE,YAAA;AAAA;;AACQ,+BAAAA,xBAACC;;;IAChBC,QAAM,AAAcC;IACpBC,SAAO,AAAeD;IACtBE,SAAO,AAAA,uFAASN;IAChBO,SAAO,AAAA,sFAASP;AALtB,AAME,IAAAQ,WAAM,AAAA,iFAAMR;AAAZ,AAAA,QAAAQ;KAAA;AAEE,GACE,EAAK,CAAGF,SAAO,SAAA,RAAGH,mBACb,GAAK,AAACM;AACX,oBAAU,mBAAA,nBAACC;AAAX;;AAAA,AACE,sCAAA,2EAAA,1GAACC;;;AAJL,GAME,EAAI,AAACF,sCACH,CAAGH,SAAO,SAAA,RAAGH,eACb,CAAGG,SAAO,SAAA,RAAGH;AACf,oBAAM,AAACS;AAAP,AACE,kDAAA,3CAACC;;AADH;;;AATF,AAAA;;;;;;KAFF;AAkBE,oBACE,iBAAAC,oBAAK,AAACC;AAAN,AAAA,oBAAAD;AACK,QAAIP,UAAO,UAAA,TAAGF;;AADnBS;;;AAEA,oBAAU,AAACF;AAAX;;AAAA,AACE,GAAM,AAACH;AAAP,AACE,AAACO;;AADH;;AAEA,kDAAA,3CAACH;;;AANL,GAQE,CAAGP,SAAO,SAAA,RAAGH;AACb,oBAAM,mBAAA,nBAACO;AAAP,AACE,sCAAA,2EAAA,1GAACC;;AADH;;;AATF,oBAYE,iBAAAG,oBAAK,AAACG;AAAN,AAAA,oBAAAH;AACK,0GAAA,lGAAI,AAAA,uFAASd;;AADlBc;;;AAEA,oBAAU,AAACF;AAAX;;AAAA,AACE,oBAAM,AAACM;AAAP,AACE,AAACF;;AADH;;AAEA,kDAAA,3CAACH;;;AAjBL,AAAA;;;;;;;;AAlBF","names":["frontend.handler.mobile.swipe/setup-listeners!","container","js/document","e","detail","G__62366","cljs-bean.core/->clj","width","js/window","height","xstart","ystart","G__62367","frontend.util/sm-breakpoint?","frontend.state/sub","frontend.state/set-state!","frontend.state/get-left-sidebar-open?","frontend.state/set-left-sidebar-open!","and__5041__auto__","frontend.mobile.util/native-android?","frontend.state/clear-edit!","frontend.mobile.util/native-ios?","frontend.mobile.util/native-iphone?"],"sourcesContent":["(ns frontend.handler.mobile.swipe\n  (:require [cljs-bean.core :as bean]\n            [frontend.state :as state]\n            [frontend.util :as util]\n            [frontend.mobile.util :as mobile-util]))\n\n(defn setup-listeners!\n  []\n  (let [container js/document]\n    (.addEventListener\n     container \"swiped\"\n     (fn [e]\n       (let [detail (some-> (.-detail e)\n                            (bean/->clj))\n             width (.-innerWidth js/window)\n             height (.-innerHeight js/window)\n             xstart (:xStart detail)\n             ystart (:yStart detail)]\n         (case (:dir detail)\n           \"left\"\n           (cond\n             (and (> xstart (/ width 1.2))\n                  (not (util/sm-breakpoint?)))\n             (when-not (state/sub :ui/sidebar-open?)\n               (state/set-state! :ui/sidebar-open? true))\n\n             (if (util/sm-breakpoint?)\n               (< xstart (/ width 1.25))\n               (< xstart (/ width 2)))\n             (when (state/get-left-sidebar-open?)\n               (state/set-left-sidebar-open! false))\n\n             :else\n             nil)\n\n           \"right\"\n           (cond\n             (and (mobile-util/native-android?)\n                  (<= ystart (/ height 2)))\n             (when-not (state/get-left-sidebar-open?)\n               (when (util/sm-breakpoint?)\n                 (state/clear-edit!))\n               (state/set-left-sidebar-open! true))\n\n             (> xstart (/ width 2))\n             (when (state/sub :ui/sidebar-open?)\n               (state/set-state! :ui/sidebar-open? false))\n\n             (and (mobile-util/native-ios?)\n                  (<= (:xStart detail) 20))\n             (when-not (state/get-left-sidebar-open?)\n               (when (mobile-util/native-iphone?)\n                 (state/clear-edit!))\n               (state/set-left-sidebar-open! true))\n\n             :else nil)\n\n           nil))))))\n"]}